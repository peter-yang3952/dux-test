"use strict";(self.webpackChunkh5_dux=self.webpackChunkh5_dux||[]).push([[901],{6934:function(t,e,n){n.d(e,{S1:function(){return Wu}});var i={},o=(n.r(i),n.d(i,{Arc:function(){return Hr.Z},BezierCurve:function(){return Fr.Z},BoundingRect:function(){return sn.Z},Circle:function(){return Or.Z},CompoundPath:function(){return Ur.Z},Ellipse:function(){return Er.Z},Group:function(){return Dr.Z},Image:function(){return Nr.ZP},IncrementalDisplayable:function(){return Kr.Z},Line:function(){return Wr.Z},LinearGradient:function(){return Xr.Z},OrientedBoundingRect:function(){return Jr.Z},Path:function(){return vt.ZP},Point:function(){return jr.Z},Polygon:function(){return Br.Z},Polyline:function(){return Gr.Z},RadialGradient:function(){return Yr.Z},Rect:function(){return Zr.Z},Ring:function(){return zr.Z},Sector:function(){return Vr.C},Text:function(){return ft.ZP},applyTransform:function(){return fs},clipPointsByRect:function(){return xs},clipRectByRect:function(){return _s},createIcon:function(){return Ss},extendPath:function(){return is},extendShape:function(){return es},getShapeClass:function(){return as},getTransform:function(){return gs},groupTransition:function(){return vs},initProps:function(){return be},isElementRemoved:function(){return we},lineLineIntersect:function(){return ws},linePolygonIntersect:function(){return bs},makeImage:function(){return ss},makePath:function(){return rs},mergePath:function(){return us},registerShape:function(){return os},removeElement:function(){return Me},removeElementWithFadeOut:function(){return De},resizePath:function(){return cs},setTooltipConfig:function(){return Ms},subPixelOptimize:function(){return ps},subPixelOptimizeLine:function(){return hs},subPixelOptimizeRect:function(){return ds},transformDirection:function(){return ys},traverseElements:function(){return Ds},updateProps:function(){return Se}}),n(560),function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))(t,e)});function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create,Object.create;var r=n(7546),s=n(6999),l=n(4356),u=n(9666),c=n(8595),h=20;function d(t,e,n,i){var o=e[0],a=(e=e[1],n[0]),r=e-o,s=(n=n[1])-a;if(0==r)return 0==s?a:(a+n)/2;if(i)if(0<r){if(t<=o)return a;if(e<=t)return n}else{if(o<=t)return a;if(t<=e)return n}else{if(t===o)return a;if(t===e)return n}return(t-o)/r*s+a}function p(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return s.HD(t)?t.replace(/^\s+|\s+$/g,"").match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t}function g(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),h),t=(+t).toFixed(e),n?t:+t}function f(t){return t.sort((function(t,e){return t-e})),t}function y(t){if(t=+t,isNaN(t))return 0;if(1e-14<t)for(var e=1,n=0;n<15;n++,e*=10)if(Math.round(t*e)/e===t)return n;return a=0<(o=(i=(i=t).toString().toLowerCase()).indexOf("e"))?+i.slice(o+1):0,o=0<o?o:i.length,o=(i=i.indexOf("."))<0?0:o-1-i,Math.max(0,o-a);var i,o,a}function m(t,e){var n=Math.log,i=Math.LN10;return t=Math.floor(n(t[1]-t[0])/i),n=Math.round(n(Math.abs(e[1]-e[0]))/i),e=Math.min(Math.max(-t+n,0),20),isFinite(e)?e:20}var v=9007199254740991;function x(t){var e=2*Math.PI;return(t%e+e)%e}function _(t){return-1e-4<t&&t<1e-4}var S=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function b(t){var e,n;return t instanceof Date?t:s.HD(t)?(e=S.exec(t))?e[8]?(n=+e[4]||0,"Z"!==e[8].toUpperCase()&&(n-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))):new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0):new Date(NaN):null==t?new Date(NaN):new Date(Math.round(t))}function w(t){var e;return 0===t?0:(e=Math.floor(Math.log(t)/Math.LN10),10<=t/Math.pow(10,e)&&e++,e)}function M(t,e){var n=w(t),i=Math.pow(10,n),o=t/i;return t=(e=e?o<1.5?1:o<2.5?2:o<4?3:o<7?5:10:o<1?1:o<2?2:o<3?3:o<5?5:10)*i,-20<=n?+t.toFixed(n<0?-n:0):t}function I(t,e){e=(t.length-1)*e+1;var n=Math.floor(e),i=+t[n-1];return(e-=n)?i+e*(t[n]-i):i}function D(t){t.sort((function(t,e){return function t(e,n,i){return e.interval[i]<n.interval[i]||e.interval[i]===n.interval[i]&&(e.close[i]-n.close[i]==(i?-1:1)||!i&&t(e,n,1))}(t,e,0)?-1:1}));for(var e=-1/0,n=1,i=0;i<t.length;){for(var o=t[i].interval,a=t[i].close,r=0;r<2;r++)o[r]<=e&&(o[r]=e,a[r]=r?1:1-n),e=o[r],n=a[r];o[0]===o[1]&&a[0]*a[1]!=1?t.splice(i,1):i++}}function T(t){var e=parseFloat(t);return e==t&&(0!==e||!s.HD(t)||t.indexOf("x")<=0)?e:NaN}function C(t){return!isNaN(T(t))}function A(){return Math.round(9*Math.random())}function k(t,e){return null==t?e:null==e?t:t*e/function t(e,n){return 0===n?e:t(n,e%n)}(t,e)}function L(t,e,n){return(e-t)*n+t}var P="series\0",R="\0_ec_\0";function N(t){return t instanceof Array?t:null==t?[]:[t]}function O(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var i=0,o=n.length;i<o;i++){var a=n[i];!t.emphasis[e].hasOwnProperty(a)&&t[e].hasOwnProperty(a)&&(t.emphasis[e][a]=t[e][a])}}}var E=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function V(t){return!(0,s.Kn)(t)||(0,s.kJ)(t)||t instanceof Date?t:t.value}function z(t,e,n){var i,o,a,r,l,u,c,h,d,p,g="normalMerge"===n,f="replaceMerge"===n,y="replaceAll"===n,m=(t=t||[],e=(e||[]).slice(),(0,s.kW)());return(0,s.S6)(e,(function(t,n){(0,s.Kn)(t)||(e[n]=null)})),n=function(t,e,n){var i=[];if("replaceAll"!==n)for(var o=0;o<t.length;o++){var a=t[o];a&&null!=a.id&&e.set(a.id,o),i.push({existing:"replaceMerge"===n||F(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return i}(t,m,n),(g||f)&&(i=n,o=t,a=m,r=e,(0,s.S6)(r,(function(t,e){var n,l,u;t&&null!=t.id&&(n=G(t.id),null!=(l=a.get(n)))&&(u=i[l],(0,s.hu)(!u.newOption,'Duplicated option on id "'+n+'".'),u.newOption=t,u.existing=o[l],r[e]=null)}))),g&&(l=n,u=e,(0,s.S6)(u,(function(t,e){if(t&&null!=t.name)for(var n=0;n<l.length;n++){var i=l[n].existing;if(!l[n].newOption&&i&&(null==i.id||null==t.id)&&!F(t)&&!F(i)&&B("name",i,t))return l[n].newOption=t,void(u[e]=null)}}))),g||f?(h=n,t=e,d=f,(0,s.S6)(t,(function(t){if(t){for(var e,n=0;(e=h[n])&&(e.newOption||F(e.existing)||e.existing&&null!=t.id&&!B("id",t,e.existing));)n++;e?(e.newOption=t,e.brandNew=d):h.push({newOption:t,brandNew:d,existing:null,keyInfo:null}),n++}}))):y&&(c=n,m=e,(0,s.S6)(m,(function(t){c.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})}))),g=n,p=(0,s.kW)(),(0,s.S6)(g,(function(t){var e=t.existing;e&&p.set(e.id,t)})),(0,s.S6)(g,(function(t){var e=t.newOption;(0,s.hu)(!e||null==e.id||!p.get(e.id)||p.get(e.id)===t,"id duplicates: "+(e&&e.id)),e&&null!=e.id&&p.set(e.id,t),t.keyInfo||(t.keyInfo={})})),(0,s.S6)(g,(function(t,e){var n=t.existing,i=t.newOption,o=t.keyInfo;if((0,s.Kn)(i)){if(o.name=null!=i.name?G(i.name):n?n.name:P+e,n)o.id=G(n.id);else if(null!=i.id)o.id=G(i.id);else for(var a=0;o.id="\0"+o.name+"\0"+a++,p.get(o.id););p.set(o.id,t)}})),n}function B(t,e,n){return e=Z(e[t],null),n=Z(n[t],null),null!=e&&null!=n&&e===n}function G(t){return Z(t,"")}function Z(t,e){return null==t?e:(0,s.HD)(t)?t:(0,s.hj)(t)||(0,s.cd)(t)?t+"":e}function W(t){return!(!(t=t.name)||!t.indexOf(P))}function F(t){return t&&null!=t.id&&0===G(t.id).indexOf(R)}function H(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?(0,s.kJ)(e.dataIndex)?(0,s.UI)(e.dataIndex,(function(e){return t.indexOfRawIndex(e)})):t.indexOfRawIndex(e.dataIndex):null!=e.name?(0,s.kJ)(e.name)?(0,s.UI)(e.name,(function(e){return t.indexOfName(e)})):t.indexOfName(e.name):void 0}function U(){var t="__ec_inner_"+X++;return function(e){return e[t]||(e[t]={})}}var X=A();function Y(t,e,n){var i=(e=J(e,n)).mainTypeSpecified,o=e.queryOptionMap,a=e.others,r=n?n.defaultMainType:null;return!i&&r&&o.set(r,{}),o.each((function(e,i){e=q(t,i,e,{useDefault:r===i,enableAll:!n||null==n.enableAll||n.enableAll,enableNone:!n||null==n.enableNone||n.enableNone}),a[i+"Models"]=e.models,a[i+"Model"]=e.models[0]})),a}function J(t,e){var n=(0,s.HD)(t)?((n={})[t+"Index"]=0,n):t,i=(0,s.kW)(),o={},a=!1;return(0,s.S6)(n,(function(t,n){var r;"dataIndex"===n||"dataIndexInside"===n?o[n]=t:(r=(n=n.match(/^(\w+)(Index|Id|Name)$/)||[])[1],n=(n[2]||"").toLowerCase(),!r||!n||e&&e.includeMainTypes&&(0,s.cq)(e.includeMainTypes,r)<0||(a=a||!!r,(i.get(r)||i.set(r,{}))[n]=t))})),{mainTypeSpecified:a,queryOptionMap:i,others:o}}var j={useDefault:!0,enableAll:!1,enableNone:!1},K={useDefault:!1,enableAll:!0,enableNone:!0};function q(t,e,n,i){i=i||j;var o=n.index,a=n.id,r=(n=n.name,{models:null,specified:null!=o||null!=a||null!=n});return r.specified?"none"===o||!1===o?((0,s.hu)(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),r.models=[]):("all"===o&&((0,s.hu)(i.enableAll,'`"all"` is not a valid value on index option.'),o=a=n=null),r.models=t.queryComponents({mainType:e,index:o,id:a,name:n})):(o=void 0,r.models=i.useDefault&&(o=t.getComponent(e))?[o]:[]),r}function $(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function Q(t,e){var n=(0,s.kW)(),i=[];return(0,s.S6)(t,(function(t){var o=e(t);(n.get(o)||(i.push(o),n.set(o,[]))).push(t)})),{keys:i,buckets:n}}function tt(t,e,n,i,o){var a=null==e||"auto"===e;if(null==i)return i;if((0,s.hj)(i))return g(p=L(n||0,i,o),a?Math.max(y(n||0),y(i)):e);if((0,s.HD)(i))return o<1?n:i;for(var r=[],l=n,u=i,c=Math.max(l?l.length:0,u.length),h=0;h<c;++h){var d,p,f=t.getDimensionInfo(h);f&&"ordinal"===f.type?r[h]=(o<1&&l?l:u)[h]:(p=L(f=l&&l[h]?l[h]:0,d=u[h],o),r[h]=g(p,a?Math.max(y(f),y(d)):e))}return r}var et=".",nt="___EC__COMPONENT__CONTAINER___",it="___EC__EXTENDED_CLASS___";function ot(t){var e={main:"",sub:""};return t&&(t=t.split(et),e.main=t[0]||"",e.sub=t[1]||""),e}function at(t){(t.$constructor=t).extend=function(t){var e,n,i,o=this;function r(){return n.apply(this,arguments)||this}return i=o,s.mf(i)&&/^class\s/.test(Function.prototype.toString.call(i))?(a(r,n=o),e=r):s.XW(e=function(){(t.$constructor||o).apply(this,arguments)},this),s.l7(e.prototype,t),e[it]=!0,e.extend=this.extend,e.superCall=st,e.superApply=lt,e.superClass=o,e}}function rt(t,e){t.extend=e.extend}function st(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return this.superClass.prototype[e].apply(t,n)}function lt(t,e,n){return this.superClass.prototype[e].apply(t,n)}function ut(t){var e={};t.registerClass=function(t){var n,i=t.type||t.prototype.type;return i&&(n=i,s.hu(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal'),(n=ot(t.prototype.type=i)).sub?n.sub!==nt&&((function(t){var n=e[t.main];return n&&n[nt]||(n=e[t.main]={___EC__COMPONENT__CONTAINER___:!0}),n}(n))[n.sub]=t):e[n.main]=t),t},t.getClass=function(t,n,i){var o=e[t];if(o&&o[nt]&&(o=n?o[n]:null),i&&!o)throw new Error(n?"Component "+t+"."+(n||"")+" is used but not imported.":t+".type should be specified.");return o},t.getClassesByMainType=function(t){t=ot(t);var n=[];return(t=e[t.main])&&t[nt]?s.S6(t,(function(t,e){e!==nt&&n.push(t)})):n.push(t),n},t.hasClass=function(t){return t=ot(t),!!e[t.main]},t.getAllClassMainTypes=function(){var t=[];return s.S6(e,(function(e,n){t.push(n)})),t},t.hasSubTypes=function(t){return t=ot(t),(t=e[t.main])&&t[nt]}}function ct(t,e){for(var n=0;n<t.length;n++)t[n][1]||(t[n][1]=t[n][0]);return e=e||!1,function(n,i,o){for(var a={},r=0;r<t.length;r++){var l=t[r][1];i&&0<=s.cq(i,l)||o&&s.cq(o,l)<0||null!=(l=n.getShallow(l,e))&&(a[t[r][0]]=l)}return a}}e=Math.round(10*Math.random());var ht=ct([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),dt=(pt.prototype.getAreaStyle=function(t,e){return ht(this,t,e)},pt);function pt(){}function gt(t,e,n,i){var o;i&&((o=yt(i)).dataIndex=n,o.dataType=e,o.seriesIndex=t,o.ssrType="chart","group"===i.type)&&i.traverse((function(i){(i=yt(i)).seriesIndex=t,i.dataIndex=n,i.dataType=e,i.ssrType="chart"}))}var ft=n(2266),yt=U(),mt=n(179),vt=n(9742),xt=1,_t={},St=U(),bt=U(),wt=0,Mt=1,It=2,Dt=["emphasis","blur","select"],Tt=["normal","emphasis","blur","select"],Ct=10,At=9,kt="highlight",Lt="downplay",Pt="select",Rt="unselect",Nt="toggleSelect";function Ot(t){return null!=t&&"none"!==t}function Et(t,e,n){t.onHoverStateChange&&(t.hoverState||0)!==n&&t.onHoverStateChange(e),t.hoverState=n}function Vt(t){Et(t,"emphasis",It)}function zt(t){t.hoverState===It&&Et(t,"normal",wt)}function Bt(t){Et(t,"blur",Mt)}function Gt(t){t.hoverState===Mt&&Et(t,"normal",wt)}function Zt(t){t.selected=!0}function Wt(t){t.selected=!1}function Ft(t,e,n){e(t,n)}function Ht(t,e,n){Ft(t,e,n),t.isGroup&&t.traverse((function(t){Ft(t,e,n)}))}function Ut(t,e){switch(e){case"emphasis":t.hoverState=It;break;case"normal":t.hoverState=wt;break;case"blur":t.hoverState=Mt;break;case"select":t.selected=!0}}function Xt(t,e){var n,i,o,a,r,l=this.states[t];if(this.style){if("emphasis"===t)return n=this,i=l,e=e&&0<=(0,s.cq)(e,"select"),r=!1,n instanceof vt.ZP&&(o=St(n),a=e&&o.selectFill||o.normalFill,e=e&&o.selectStroke||o.normalStroke,Ot(a)||Ot(e))&&("inherit"===(o=(i=i||{}).style||{}).fill?(r=!0,i=(0,s.l7)({},i),(o=(0,s.l7)({},o)).fill=a):!Ot(o.fill)&&Ot(a)?(r=!0,i=(0,s.l7)({},i),(o=(0,s.l7)({},o)).fill=(0,mt.fD)(a)):!Ot(o.stroke)&&Ot(e)&&(r||(i=(0,s.l7)({},i),o=(0,s.l7)({},o)),o.stroke=(0,mt.fD)(e)),i.style=o),i&&null==i.z2&&(r||(i=(0,s.l7)({},i)),a=n.z2EmphasisLift,i.z2=n.z2+(null!=a?a:Ct)),i;if("blur"===t)return function(t,e,n){var i=0<=(0,s.cq)(t.currentStates,e),o=t.style.opacity;return t=i?null:function(t,e,n,i){for(var o=t.style,a={},r=0;r<e.length;r++){var s=e[r],l=o[s];a[s]=null==l?i&&i[s]:l}for(r=0;r<t.animators.length;r++){var u=t.animators[r];u.__fromStateTransition&&u.__fromStateTransition.indexOf(n)<0&&"style"===u.targetName&&u.saveTo(a,e)}return a}(t,["opacity"],e,{opacity:1}),null==(e=(n=n||{}).style||{}).opacity&&(n=(0,s.l7)({},n),e=(0,s.l7)({opacity:i?o:.1*t.opacity},e),n.style=e),n}(this,t,l);if("select"===t)return e=this,(o=l)&&null==o.z2&&(o=(0,s.l7)({},o),r=e.z2SelectLift,o.z2=e.z2+(null!=r?r:At)),o}return l}function Yt(t){t.stateProxy=Xt;var e=t.getTextContent();t=t.getTextGuideLine(),e&&(e.stateProxy=Xt),t&&(t.stateProxy=Xt)}function Jt(t,e){ne(t,e)||t.__highByOuter||Ht(t,Vt)}function jt(t,e){ne(t,e)||t.__highByOuter||Ht(t,zt)}function Kt(t,e){t.__highByOuter|=1<<(e||0),Ht(t,Vt)}function qt(t,e){(t.__highByOuter&=~(1<<(e||0)))||Ht(t,zt)}function $t(t){Ht(t,Bt)}function Qt(t){Ht(t,Gt)}function te(t){Ht(t,Zt)}function ee(t){Ht(t,Wt)}function ne(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function ie(t){var e=t.getModel(),n=[],i=[];e.eachComponent((function(e,o){var a=bt(o),r=(e="series"===e)?t.getViewOfSeriesModel(o):t.getViewOfComponentModel(o);e||i.push(r),a.isBlured&&(r.group.traverse((function(t){Gt(t)})),e)&&n.push(o),a.isBlured=!1})),(0,s.S6)(i,(function(t){t&&t.toggleBlurSeries&&t.toggleBlurSeries(n,!1,e)}))}function oe(t,e,n,i){var o,a,r,l=i.getModel();function u(t,e){for(var n=0;n<e.length;n++){var i=t.getItemGraphicEl(e[n]);i&&Qt(i)}}n=n||"coordinateSystem",null!=t&&e&&"none"!==e&&(o=l.getSeriesByIndex(t),(a=o.coordinateSystem)&&a.master&&(a=a.master),r=[],l.eachSeries((function(t){var l=o===t,c=(c=(c=t.coordinateSystem)&&c.master?c.master:c)&&a?c===a:l;if(!("series"===n&&!l||"coordinateSystem"===n&&!c||"series"===e&&l)){if(i.getViewOfSeriesModel(t).group.traverse((function(t){t.__highByOuter&&l&&"self"===e||Bt(t)})),(0,s.zG)(e))u(t.getData(),e);else if((0,s.Kn)(e))for(var h=(0,s.XP)(e),d=0;d<h.length;d++)u(t.getData(h[d]),e[h[d]]);r.push(t),bt(t).isBlured=!0}})),l.eachComponent((function(t,e){"series"!==t&&(t=i.getViewOfComponentModel(e))&&t.toggleBlurSeries&&t.toggleBlurSeries(r,!0,l)})))}function ae(t,e,n){var i;null!=t&&null!=e&&(t=n.getModel().getComponent(t,e))&&(bt(t).isBlured=!0,i=n.getViewOfComponentModel(t))&&i.focusBlurEnabled&&i.group.traverse((function(t){Bt(t)}))}function re(t,e,n,i){var o={focusSelf:!1,dispatchers:null};if(null==t||"series"===t||null==e||null==n)return o;if(!(t=i.getModel().getComponent(t,e)))return o;if(!(e=i.getViewOfComponentModel(t))||!e.findHighDownDispatchers)return o;for(var a,r=e.findHighDownDispatchers(n),s=0;s<r.length;s++)if("self"===yt(r[s]).focus){a=!0;break}return{focusSelf:a,dispatchers:r}}function se(t){var e=t.getAllData();(0,s.S6)(e,(function(e){var n=e.data,i=e.type;n.eachItemGraphicEl((function(e,n){(t.isSelected(n,i)?te:ee)(e)}))}))}function le(t,e,n){ge(t,!0),Ht(t,Yt),ce(t,e,n)}function ue(t,e,n,i){i?ge(t,!1):le(t,e,n)}function ce(t,e,n){t=yt(t),null!=e?(t.focus=e,t.blurScope=n):t.focus&&(t.focus=null)}var he=["emphasis","blur","select"],de={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function pe(t,e,n,i){n=n||"itemStyle";for(var o=0;o<he.length;o++){var a=he[o],r=e.getModel([a,n]);t.ensureState(a).style=i?i(r):r[de[n]]()}}function ge(t,e){e=!1===e;var n=t;t.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=t.highDownSilentOnTouch),e&&!n.__highDownDispatcher||(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!e)}function fe(t){return!(!t||!t.__highDownDispatcher)}function ye(t){return(t=t.type)===Pt||t===Rt||t===Nt}function me(t){return(t=t.type)===kt||t===Lt}var ve=U();function xe(t,e,n,i,o){var a,r,l,u;return e&&e.ecModel&&(a=(a=e.ecModel.getUpdatePayload())&&a.animation),t="update"===t,e&&e.isAnimationEnabled()?(u=l=r=void 0,u=i?(r=(0,s.pD)(i.duration,200),l=(0,s.pD)(i.easing,"cubicOut"),0):(r=e.getShallow(t?"animationDurationUpdate":"animationDuration"),l=e.getShallow(t?"animationEasingUpdate":"animationEasing"),e.getShallow(t?"animationDelayUpdate":"animationDelay")),a&&(null!=a.duration&&(r=a.duration),null!=a.easing&&(l=a.easing),null!=a.delay)&&(u=a.delay),(0,s.mf)(u)&&(u=u(n,o)),{duration:(r=(0,s.mf)(r)?r(n):r)||0,delay:u,easing:l}):null}function _e(t,e,n,i,o,a,r){var l=!1,u=((0,s.mf)(o)?(r=a,a=o,o=null):(0,s.Kn)(o)&&(a=o.cb,r=o.during,l=o.isFrom,c=o.removeOpt,o=o.dataIndex),"leave"===t),c=(u||e.stopAnimation("leave"),xe(t,i,o,u?c||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(e,o):null));c&&0<c.duration?(i={duration:c.duration,delay:c.delay||0,easing:c.easing,done:a,force:!!a||!!r,setToFinal:!u,scope:t,during:r},l?e.animateFrom(n,i):e.animateTo(n,i)):(e.stopAnimation(),l||e.attr(n),r&&r(1),a&&a())}function Se(t,e,n,i,o,a){_e("update",t,e,n,i,o,a)}function be(t,e,n,i,o,a){_e("enter",t,e,n,i,o,a)}function we(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++)if("leave"===t.animators[e].scope)return!0;return!1}function Me(t,e,n,i,o,a){we(t)||_e("leave",t,e,n,i,o,a)}function Ie(t,e,n,i){t.removeTextContent(),t.removeTextGuideLine(),Me(t,{style:{opacity:0}},e,n,i)}function De(t,e,n){function i(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse((function(t){t.isGroup||Ie(t,e,n,i)})):Ie(t,e,n,i)}function Te(t){ve(t).oldStyle=t.style}var Ce={};function Ae(t,e){for(var n=0;n<Dt.length;n++){var i,o=e[i=Dt[n]];(i=t.ensureState(i)).style=i.style||{},i.style.text=o}var a=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(a,!0)}function ke(t,e,n){for(var i,o=t.labelFetcher,a=t.labelDataIndex,r=t.labelDimIndex,l=e.normal,u={normal:i=null==(i=o?o.getFormattedLabel(a,"normal",null,r,l&&l.get("formatter"),null!=n?{interpolatedValue:n}:null):i)?(0,s.mf)(t.defaultText)?t.defaultText(a,t,n):t.defaultText:i},c=0;c<Dt.length;c++){var h=Dt[c],d=e[h];u[h]=(0,s.pD)(o?o.getFormattedLabel(a,h,null,r,d&&d.get("formatter")):null,i)}return u}function Le(t,e,n,i){n=n||Ce;for(var o=t instanceof ft.ZP,a=!1,r=0;r<Tt.length;r++)if((p=e[Tt[r]])&&p.getShallow("show")){a=!0;break}var l=o?t:t.getTextContent();if(a){o||(l||(l=new ft.ZP,t.setTextContent(l)),t.stateProxy&&(l.stateProxy=t.stateProxy));var u=ke(n,e),c=e.normal,h=!!c.getShallow("show"),d=Re(c,i&&i.normal,n,!1,!o);for(d.text=u.normal,o||t.setTextConfig(Ne(c,n,!1)),r=0;r<Dt.length;r++){var p,g,f,y=Dt[r];(p=e[y])&&(g=l.ensureState(y),(f=!!(0,s.pD)(p.getShallow("show"),h))!=h&&(g.ignore=!f),g.style=Re(p,i&&i[y],n,!0,!o),g.style.text=u[y],o||(t.ensureState(y).textConfig=Ne(p,n,!0)))}l.silent=!!c.getShallow("silent"),null!=l.style.x&&(d.x=l.style.x),null!=l.style.y&&(d.y=l.style.y),l.ignore=!h,l.useStyle(d),l.dirty(),n.enableTextSetter&&(Ge(l).setLabelText=function(t){t=ke(n,e,t),Ae(l,t)})}else l&&(l.ignore=!0);t.dirty()}function Pe(t,e){for(var n={normal:t.getModel(e=e||"label")},i=0;i<Dt.length;i++){var o=Dt[i];n[o]=t.getModel([o,e])}return n}function Re(t,e,n,i,o){var a,r={},l=r,u=t,c=n,h=i,d=o;c=c||Ce;var p,g=(t=u.ecModel)&&t.option.textStyle,f=function(t){for(var e;t&&t!==t.ecModel;){var n=(t.option||Ce).rich;if(n){e=e||{};for(var i=(0,s.XP)(n),o=0;o<i.length;o++)e[i[o]]=1}t=t.parentModel}return e}(u);if(f)for(var y in p={},f)f.hasOwnProperty(y)&&(a=u.getModel(["rich",y]),ze(p[y]={},a,g,c,h,d,!1,!0));return p&&(l.rich=p),(t=u.get("overflow"))&&(l.overflow=t),null!=(t=u.get("minMargin"))&&(l.margin=t),ze(l,u,g,c,h,d,!0,!1),e&&(0,s.l7)(r,e),r}function Ne(t,e,n){e=e||{};var i={},o=t.getShallow("rotate"),a=(0,s.pD)(t.getShallow("distance"),n?null:5),r=t.getShallow("offset");return null!=(n="outside"===(n=t.getShallow("position")||(n?null:"inside"))?e.defaultOutsidePosition||"top":n)&&(i.position=n),null!=r&&(i.offset=r),null!=o&&(o*=Math.PI/180,i.rotation=o),null!=a&&(i.distance=a),i.outsideFill="inherit"===t.get("color")?e.inheritColor||null:"auto",i}var Oe=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Ee=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],Ve=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function ze(t,e,n,i,o,a,r,l){n=!o&&n||Ce;var u=i&&i.inheritColor,c=e.getShallow("color"),h=e.getShallow("textBorderColor"),d=(0,s.pD)(e.getShallow("opacity"),n.opacity);"inherit"!==c&&"auto"!==c||(c=u||null),"inherit"!==h&&"auto"!==h||(h=u||null),a||(c=c||n.color,h=h||n.textBorderColor),null!=c&&(t.fill=c),null!=h&&(t.stroke=h),null!=(null!=(null!=(c=(0,s.pD)(e.getShallow("textBorderWidth"),n.textBorderWidth))&&(t.lineWidth=c),h=(0,s.pD)(e.getShallow("textBorderType"),n.textBorderType))&&(t.lineDash=h),c=(0,s.pD)(e.getShallow("textBorderDashOffset"),n.textBorderDashOffset))&&(t.lineDashOffset=c),null!=(d=o||null!=d||l?d:i&&i.defaultOpacity)&&(t.opacity=d),o||a||null==t.fill&&i.inheritColor&&(t.fill=i.inheritColor);for(var p=0;p<Oe.length;p++){var g=Oe[p];null!=(f=(0,s.pD)(e.getShallow(g),n[g]))&&(t[g]=f)}for(p=0;p<Ee.length;p++)g=Ee[p],null!=(f=e.getShallow(g))&&(t[g]=f);if(null==t.verticalAlign&&null!=(h=e.getShallow("baseline"))&&(t.verticalAlign=h),!r||!i.disableBox){for(p=0;p<Ve.length;p++){var f;g=Ve[p],null!=(f=e.getShallow(g))&&(t[g]=f)}null!=(c=e.getShallow("borderType"))&&(t.borderDash=c),"auto"!==t.backgroundColor&&"inherit"!==t.backgroundColor||!u||(t.backgroundColor=u),"auto"!==t.borderColor&&"inherit"!==t.borderColor||!u||(t.borderColor=u)}}function Be(t,e){return e=e&&e.getModel("textStyle"),(0,s.fy)([t.fontStyle||e&&e.getShallow("fontStyle")||"",t.fontWeight||e&&e.getShallow("fontWeight")||"",(t.fontSize||e&&e.getShallow("fontSize")||12)+"px",t.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}var Ge=U();function Ze(t,e,n,i){t&&((t=Ge(t)).prevValue=t.value,t.value=n,n=e.normal,t.valueAnimation=n.get("valueAnimation"),t.valueAnimation)&&(t.precision=n.get("precision"),t.defaultInterpolatedText=i,t.statesModels=e)}function We(t,e,n,i,o){var a,r,l,u=Ge(t);u.valueAnimation&&u.prevValue!==u.value&&(a=u.defaultInterpolatedText,r=(0,s.pD)(u.interpolatedValue,u.prevValue),l=u.value,t.percent=0,(null==u.prevValue?be:Se)(t,{percent:1},i,e,null,(function(i){var s=tt(n,u.precision,r,l,i);u.interpolatedValue=1===i?null:s,i=ke({labelDataIndex:e,labelFetcher:o,defaultText:a?a(s):s+""},u.statesModels,s),Ae(t,i)})))}var Fe=["textStyle","color"],He=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],Ue=new ft.ZP;function Xe(){}Xe.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(Fe):null)},Xe.prototype.getFont=function(){return Be({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},Xe.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<He.length;n++)e[He[n]]=this.getShallow(He[n]);return Ue.useStyle(e),Ue.update(),Ue.getBoundingRect()};var Ye=Xe,Je=ct(vl=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]]),je=(Ke.prototype.getLineStyle=function(t){return Je(this,t)},Ke);function Ke(){}var qe,$e=ct(ml=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]]),Qe=(tn.prototype.getItemStyle=function(t,e){return $e(this,t,e)},tn);function tn(){}function en(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}en.prototype.init=function(t,e,n){for(var i=3;i<arguments.length;i++);},en.prototype.mergeOption=function(t,e){(0,s.TS)(this.option,t,!0)},en.prototype.get=function(t,e){return null==t?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},en.prototype.getShallow=function(t,e){var n;return null!=(n=null==(n=this.option)?n:n[t])||e||(e=this.parentModel)&&(n=e.getShallow(t)),n},en.prototype.getModel=function(t,e){var n=null!=t;return t=n?this.parsePath(t):null,new en(n?this._doGet(t):this.option,e=e||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(t)),this.ecModel)},en.prototype.isEmpty=function(){return null==this.option},en.prototype.restoreData=function(){},en.prototype.clone=function(){return new this.constructor((0,s.d9)(this.option))},en.prototype.parsePath=function(t){return"string"==typeof t?t.split("."):t},en.prototype.resolveParentPath=function(t){return t},en.prototype.isAnimationEnabled=function(){if(!l.Z.node&&this.option)return null!=this.option.animation?!!this.option.animation:this.parentModel?this.parentModel.isAnimationEnabled():void 0},en.prototype._doGet=function(t,e){var n=this.option;if(t){for(var i=0;i<t.length&&(!t[i]||null!=(n=n&&"object"==typeof n?n[t[i]]:null));i++);null==n&&e&&(n=e._doGet(this.resolveParentPath(t),e.parentModel))}return n},at(Js=en),yr=Js,qe=["__\0is_clz",e++].join("_"),yr.prototype[qe]=!0,yr.isInstance=function(t){return!(!t||!t[qe])},(0,s.jB)(Js,je),(0,s.jB)(Js,Qe),(0,s.jB)(Js,dt),(0,s.jB)(Js,Ye);var nn=Js,on=Math.round(10*Math.random());function an(t){return[t||"",on++].join("_")}function rn(t,e){return s.TS(s.TS({},t,!0),e,!0)}var sn=n(2640),ln=n(3627),un="ZH",cn="EN",hn=cn,dn={},pn={},gn=l.Z.domSupported&&-1<(document.documentElement.lang||navigator.language||navigator.browserLanguage||hn).toUpperCase().indexOf(un)?un:hn;function fn(t,e){t=t.toUpperCase(),pn[t]=new nn(e),dn[t]=e}function yn(t){return pn[t]}fn(cn,{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),fn(un,{time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图",custom:"自定义图表",chart:"图表"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}});var mn=6e4,vn=60*mn,xn=24*vn,_n=(e=365*xn,{year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"}),Sn={year:"{yyyy}",month:"{yyyy}-{MM}",day:yr="{yyyy}-{MM}-{dd}",hour:yr+" "+_n.hour,minute:yr+" "+_n.minute,second:yr+" "+_n.second,millisecond:_n.none},bn=["year","month","day","hour","minute","second","millisecond"],wn=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Mn(t,e){return"0000".substr(0,e-(t+="").length)+t}function In(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function Dn(t,e,n,i){var o=(t=b(t))[An(n)](),a=t[kn(n)]()+1,r=Math.floor((a-1)/3)+1,s=t[Ln(n)](),l=t["get"+(n?"UTC":"")+"Day"](),u=t[Pn(n)](),c=(u-1)%12+1,h=t[Rn(n)](),d=t[Nn(n)](),p=(t=t[On(n)](),(n=12<=u?"pm":"am").toUpperCase()),g=(i=(i instanceof nn?i:yn(i||gn)||pn[hn]).getModel("time")).get("month"),f=i.get("monthAbbr"),y=i.get("dayOfWeek");return i=i.get("dayOfWeekAbbr"),(e||"").replace(/{a}/g,n+"").replace(/{A}/g,p+"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,Mn(o%100+"",2)).replace(/{Q}/g,r+"").replace(/{MMMM}/g,g[a-1]).replace(/{MMM}/g,f[a-1]).replace(/{MM}/g,Mn(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,Mn(s,2)).replace(/{d}/g,s+"").replace(/{eeee}/g,y[l]).replace(/{ee}/g,i[l]).replace(/{e}/g,l+"").replace(/{HH}/g,Mn(u,2)).replace(/{H}/g,u+"").replace(/{hh}/g,Mn(c+"",2)).replace(/{h}/g,c+"").replace(/{mm}/g,Mn(h,2)).replace(/{m}/g,h+"").replace(/{ss}/g,Mn(d,2)).replace(/{s}/g,d+"").replace(/{SSS}/g,Mn(t,3)).replace(/{S}/g,t+"")}function Tn(t,e){var n=(t=b(t))[kn(e)]()+1,i=t[Ln(e)](),o=t[Pn(e)](),a=t[Rn(e)](),r=t[Nn(e)]();return(o=(a=(r=(e=(t=0===t[On(e)]())&&0===r)&&0===a)&&0===o)&&1===i)&&1===n?"year":o?"month":a?"day":r?"hour":e?"minute":t?"second":"millisecond"}function Cn(t,e,n){var i=s.hj(t)?b(t):t;switch(e=e||Tn(t,n)){case"year":return i[An(n)]();case"half-year":return 6<=i[kn(n)]()?1:0;case"quarter":return Math.floor((i[kn(n)]()+1)/4);case"month":return i[kn(n)]();case"day":return i[Ln(n)]();case"half-day":return i[Pn(n)]()/24;case"hour":return i[Pn(n)]();case"minute":return i[Rn(n)]();case"second":return i[Nn(n)]();case"millisecond":return i[On(n)]()}}function An(t){return t?"getUTCFullYear":"getFullYear"}function kn(t){return t?"getUTCMonth":"getMonth"}function Ln(t){return t?"getUTCDate":"getDate"}function Pn(t){return t?"getUTCHours":"getHours"}function Rn(t){return t?"getUTCMinutes":"getMinutes"}function Nn(t){return t?"getUTCSeconds":"getSeconds"}function On(t){return t?"getUTCMilliseconds":"getMilliseconds"}function En(t){return t?"setUTCMonth":"setMonth"}function Vn(t){return t?"setUTCDate":"setDate"}function zn(t){return t?"setUTCHours":"setHours"}function Bn(t){return t?"setUTCMinutes":"setMinutes"}function Gn(t){return t?"setUTCSeconds":"setSeconds"}function Zn(t){return t?"setUTCMilliseconds":"setMilliseconds"}function Wn(t){var e;return C(t)?(e=(t+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(1<e.length?"."+e[1]:""):s.HD(t)?t:"-"}function Fn(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()})),e?t&&t.charAt(0).toUpperCase()+t.slice(1):t}var Hn=s.MY;function Un(t,e,n){function i(t){return t&&s.fy(t)?t:"-"}function o(t){return null!=t&&!isNaN(t)&&isFinite(t)}var a="time"===e,r=t instanceof Date;if(a||r){if(a=a?b(t):t,!isNaN(+a))return Dn(a,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",n);if(r)return"-"}return"ordinal"===e?s.cd(t)?i(t):s.hj(t)&&o(t)?t+"":"-":o(a=T(t))?Wn(a):s.cd(t)?i(t):"boolean"==typeof t?t+"":"-"}function Xn(t,e){return"{"+t+(null==e?"":e)+"}"}var Yn=["a","b","c","d","e","f","g"];function Jn(t,e,n){var i=(e=s.kJ(e)?e:[e]).length;if(!i)return"";for(var o=e[0].$vars||[],a=0;a<o.length;a++){var r=Yn[a];t=t.replace(Xn(r),Xn(r,0))}for(var l=0;l<i;l++)for(var u=0;u<o.length;u++){var c=e[l][o[u]];t=t.replace(Xn(Yn[u],l),n?(0,ln.F1)(c):c)}return t}function jn(t,e){return e=e||"transparent",s.HD(t)?t:s.Kn(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function Kn(t,e){var n;"_blank"===e||"blank"===e?((n=window.open()).opener=null,n.location.href=t):window.open(t,e)}var qn=s.S6,$n=["left","right","top","bottom","width","height"],Qn=[["width","left","right"],["height","top","bottom"]];function ti(t,e,n,i,o){var a=0,r=0,s=(null==i&&(i=1/0),null==o&&(o=1/0),0);e.eachChild((function(l,u){var c,h,d,p=l.getBoundingRect();u=(u=e.childAt(u+1))&&u.getBoundingRect(),s="horizontal"===t?(h=p.width+(u?-u.x+p.x:0),i<(c=a+h)||l.newline?(a=0,c=h,r+=s+n,p.height):Math.max(s,p.height)):(h=p.height+(u?-u.y+p.y:0),o<(d=r+h)||l.newline?(a+=s+n,r=0,d=h,p.width):Math.max(s,p.width)),l.newline||(l.x=a,l.y=r,l.markRedraw(),"horizontal"===t?a=c+n:r=d+n)}))}var ei=ti;function ni(t,e,n){n=Hn(n||0);var i=e.width,o=e.height,a=p(t.left,i),r=p(t.top,o),s=(e=p(t.right,i),p(t.bottom,o)),l=p(t.width,i),u=p(t.height,o),c=n[2]+n[0],h=n[1]+n[3],d=t.aspect;switch(isNaN(l)&&(l=i-e-h-a),isNaN(u)&&(u=o-s-c-r),null!=d&&(isNaN(l)&&isNaN(u)&&(i/o<d?l=.8*i:u=.8*o),isNaN(l)&&(l=d*u),isNaN(u))&&(u=l/d),isNaN(a)&&(a=i-e-l-h),isNaN(r)&&(r=o-s-u-c),t.left||t.right){case"center":a=i/2-l/2-n[3];break;case"right":a=i-l-h}switch(t.top||t.bottom){case"middle":case"center":r=o/2-u/2-n[0];break;case"bottom":r=o-u-c}return a=a||0,r=r||0,isNaN(l)&&(l=i-h-a-(e||0)),isNaN(u)&&(u=o-c-r-(s||0)),(d=new sn.Z(a+n[3],r+n[0],l,u)).margin=n,d}function ii(t,e,n,i,o,a){var r,l=!o||!o.hv||o.hv[0],u=!o||!o.hv||o.hv[1];if(o=o&&o.boundingMode||"all",(a=a||t).x=t.x,a.y=t.y,!l&&!u)return!1;"raw"===o?r="group"===t.type?new sn.Z(0,0,+e.width||0,+e.height||0):t.getBoundingRect():(r=t.getBoundingRect(),t.needLocalTransform()&&(c=t.getLocalTransform(),(r=r.clone()).applyTransform(c)));var c=ni(s.ce({width:r.width,height:r.height},e),n,i);return e=l?c.x-r.x:0,n=u?c.y-r.y:0,"raw"===o?(a.x=e,a.y=n):(a.x+=e,a.y+=n),a===t&&t.markRedraw(),!0}function oi(t){return t=t.layoutMode||t.constructor.layoutMode,s.Kn(t)?t:t?{type:t}:null}function ai(t,e,n){var i=n&&n.ignoreSize,o=(s.kJ(i)||(i=[i,i]),n=a(Qn[0],0),a(Qn[1],1));function a(n,o){var a={},s=0,u={},c=0;if(qn(n,(function(e){u[e]=t[e]})),qn(n,(function(t){r(e,t)&&(a[t]=u[t]=e[t]),l(a,t)&&s++,l(u,t)&&c++})),i[o])l(e,n[1])?u[n[2]]=null:l(e,n[2])&&(u[n[1]]=null);else if(2!==c&&s){if(!(2<=s))for(var h=0;h<n.length;h++){var d=n[h];if(!r(a,d)&&r(t,d)){a[d]=t[d];break}}return a}return u}function r(t,e){return t.hasOwnProperty(e)}function l(t,e){return null!=t[e]&&"auto"!==t[e]}function u(t,e,n){qn(t,(function(t){e[t]=n[t]}))}u(Qn[0],t,n),u(Qn[1],t,o)}function ri(t){return si({},t)}function si(t,e){return e&&t&&qn($n,(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t}s.WA(ti,"vertical"),s.WA(ti,"horizontal");var li,ui,ci,hi,di=U(),pi=(a(gi,li=nn),gi.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n)},gi.prototype.mergeDefaultAndTheme=function(t,e){var n=oi(this),i=n?ri(t):{};e=e.getTheme(),s.TS(t,e.get(this.mainType)),s.TS(t,this.getDefaultOption()),n&&ai(t,i,n)},gi.prototype.mergeOption=function(t,e){s.TS(this.option,t,!0);var n=oi(this);n&&ai(this.option,t,n)},gi.prototype.optionUpdated=function(t,e){},gi.prototype.getDefaultOption=function(){var t=this.constructor;if(!(e=t)||!e[it])return t.defaultOption;var e=di(this);if(!e.defaultOption){for(var n=[],i=t;i;){var o=i.prototype.defaultOption;o&&n.push(o),i=i.superClass}for(var a={},r=n.length-1;0<=r;r--)a=s.TS(a,n[r],!0);e.defaultOption=a}return e.defaultOption},gi.prototype.getReferringComponents=function(t,e){var n=t+"Id";return q(this.ecModel,t,{index:this.get(t+"Index",!0),id:this.get(n,!0)},e)},gi.prototype.getBoxLayoutParams=function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}},gi.prototype.getZLevelKey=function(){return""},gi.prototype.setZLevel=function(t){this.option.zlevel=t},gi.protoInitialize=((je=gi.prototype).type="component",je.id="",je.name="",je.mainType="",je.subType="",void(je.componentIndex=0)),gi);function gi(t,e,n){return(t=li.call(this,t,e,n)||this).uid=an("ec_cpt_model"),t}function fi(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}rt(pi,nn),ut(pi),ci={},(ui=pi).registerSubTypeDefaulter=function(t,e){t=ot(t),ci[t.main]=e},ui.determineSubType=function(t,e){var n,i=e.type;return i||(n=ot(t).main,ui.hasSubTypes(t)&&ci[n]&&(i=ci[n](e))),i},hi=function(t){var e=[];return s.S6(pi.getClassesByMainType(t),(function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])})),e=s.UI(e,(function(t){return ot(t).main})),"dataset"!==t&&s.cq(e,"dataset")<=0&&e.unshift("dataset"),e},pi.topologicalTravel=function(t,e,n,i){if(t.length){o=e,a={},r=[],s.S6(o,(function(t){var e,n,i=fi(a,t),l=i.originalDeps=hi(t);e=o,n=[],s.S6(l,(function(t){0<=s.cq(e,t)&&n.push(t)})),l=n,i.entryCount=l.length,0===i.entryCount&&r.push(t),s.S6(l,(function(e){s.cq(i.predecessor,e)<0&&i.predecessor.push(e);var n=fi(a,e);s.cq(n.successor,e)<0&&n.successor.push(t)}))}));var o,a,r,l=(e={graph:a,noEntryList:r}).graph,u=e.noEntryList,c={};for(s.S6(t,(function(t){c[t]=!0}));u.length;){var h=u.pop(),d=l[h],p=!!c[h];p&&(n.call(i,h,d.originalDeps.slice()),delete c[h]),s.S6(d.successor,p?f:g)}s.S6(c,(function(){throw new Error("")}))}function g(t){l[t].entryCount--,0===l[t].entryCount&&u.push(t)}function f(t){c[t]=!0,g(t)}};var yi=pi,mi=(Qe="",{darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:("undefined"!=typeof navigator&&(Qe=navigator.platform||""),dt="rgba(0, 0, 0, 0.2)"),dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:dt,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:dt,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:dt,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:dt,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:dt,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Qe.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1}),vi=(0,s.kW)(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),xi="original",_i="arrayRows",Si="objectRows",bi="keyedColumns",wi="typedArray",Mi="unknown",Ii="column",Di="row",Ti={Must:1,Might:2,Not:3},Ci=U();function Ai(t,e,n){var i,o,a,r,l,u={},c=Li(e);return c&&t&&(i=[],o=[],e=e.ecModel,e=Ci(e).datasetMap,c=c.uid+"_"+n.seriesLayoutBy,t=t.slice(),(0,s.S6)(t,(function(e,n){"ordinal"===(e=(0,s.Kn)(e)?e:t[n]={name:e}).type&&null==a&&(a=n,r=d(e)),u[e.name]=[]})),l=e.get(c)||e.set(c,{categoryWayDim:r,valueWayDim:0}),(0,s.S6)(t,(function(t,e){var n,r=t.name;t=d(t),null==a?(n=l.valueWayDim,h(u[r],n,t),h(o,n,t),l.valueWayDim+=t):a===e?(h(u[r],0,t),h(i,0,t)):(n=l.categoryWayDim,h(u[r],n,t),h(o,n,t),l.categoryWayDim+=t)})),i.length&&(u.itemName=i),o.length)&&(u.seriesName=o),u;function h(t,e,n){for(var i=0;i<n;i++)t.push(e+i)}function d(t){return(t=t.dimsDef)?t.length:1}}function ki(t,e,n){var i,o,a,r={};return Li(t)&&(i=e.sourceFormat,o=e.dimensionsDefine,i!==Si&&i!==bi||(0,s.S6)(o,(function(t,e){"name"===((0,s.Kn)(t)?t.name:t)&&(a=e)})),t=function(){for(var t={},r={},s=[],l=0,u=Math.min(5,n);l<u;l++){var c=Ri(e.data,i,e.seriesLayoutBy,o,e.startIndex,l),h=(s.push(c),c===Ti.Not);if(h&&null==t.v&&l!==a&&(t.v=l),null!=t.n&&t.n!==t.v&&(h||s[t.n]!==Ti.Not)||(t.n=l),d(t)&&s[t.n]!==Ti.Not)return t;h||(c===Ti.Might&&null==r.v&&l!==a&&(r.v=l),null!=r.n&&r.n!==r.v)||(r.n=l)}function d(t){return null!=t.v&&null!=t.n}return d(t)?t:d(r)?r:null}())&&(r.value=[t.v],t=null!=a?a:t.n,r.itemName=[t],r.seriesName=[t]),r}function Li(t){if(!t.get("data",!0))return q(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},j).models[0]}function Pi(t,e){return Ri(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function Ri(t,e,n,i,o,a){var r,l,u;if(!(0,s.fU)(t)){if(i&&(i=i[a],(0,s.Kn)(i)?(l=i.name,u=i.type):(0,s.HD)(i)&&(l=i)),null!=u)return"ordinal"===u?Ti.Must:Ti.Not;if(e===_i){var c=t;if(n===Di){for(var h=c[a],d=0;d<(h||[]).length&&d<5;d++)if(null!=(r=v(h[o+d])))return r}else for(d=0;d<c.length&&d<5;d++){var p=c[o+d];if(p&&null!=(r=v(p[a])))return r}}else if(e===Si){var g=t;if(!l)return Ti.Not;for(d=0;d<g.length&&d<5;d++)if((y=g[d])&&null!=(r=v(y[l])))return r}else if(e===bi){if(!l)return Ti.Not;if(!(h=t[l])||(0,s.fU)(h))return Ti.Not;for(d=0;d<h.length&&d<5;d++)if(null!=(r=v(h[d])))return r}else if(e===xi){var f=t;for(d=0;d<f.length&&d<5;d++){var y,m=V(y=f[d]);if(!(0,s.kJ)(m))return Ti.Not;if(null!=(r=v(m[a])))return r}}}return Ti.Not;function v(t){var e=(0,s.HD)(t);return null!=t&&Number.isFinite(Number(t))&&""!==t?e?Ti.Might:Ti.Not:e&&"-"!==t?Ti.Must:void 0}}var Ni,Oi,Ei,Vi=(0,s.kW)(),zi=U(),Bi=U(),Gi=(Zi.prototype.getColorFromPalette=function(t,e,n){var i=N(this.get("color",!0)),o=this.get("colorLayer",!0);return Fi(this,zi,i,o,t,e,n)},Zi.prototype.clearColorPalette=function(){var t;(t=zi)(this).paletteIdx=0,t(this).paletteNameMap={}},Zi);function Zi(){}function Wi(t,e,n,i){var o=N(t.get(["aria","decal","decals"]));return Fi(t,Bi,o,null,e,n,i)}function Fi(t,e,n,i,o,a,r){return t=(e=e(a=a||t)).paletteIdx||0,(a=e.paletteNameMap=e.paletteNameMap||{}).hasOwnProperty(o)?a[o]:(i=(i=null!=r&&i?function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i].length>e)return t[i];return t[n-1]}(i,r):n)||n)&&i.length?(r=i[t],o&&(a[o]=r),e.paletteIdx=(t+1)%i.length,r):void 0}var Hi,Ui="\0_ec_inner";function Xi(){return null!==Hi&&Hi.apply(this,arguments)||this}function Yi(t,e,n){var i,o;return(0,s.kJ)(e)?(i=(0,s.kW)(),(0,s.S6)(e,(function(t){null!=t&&null!=Z(t,null)&&i.set(t,!0)})),(0,s.hX)(n,(function(e){return e&&i.get(e[t])}))):(o=Z(e,null),(0,s.hX)(n,(function(e){return e&&null!=o&&e[t]===o})))}function Ji(t,e){return e.hasOwnProperty("subType")?(0,s.hX)(t,(function(t){return t&&t.subType===e.subType})):t}function ji(t){var e=(0,s.kW)();return t&&(0,s.S6)(N(t.replaceMerge),(function(t){e.set(t,!0)})),{replaceMergeMainTypeMap:e}}function Ki(t){s.S6($i,(function(e){this[e]=s.ak(t[e],t)}),this)}a(Xi,Hi=nn),Xi.prototype.init=function(t,e,n,i,o,a){i=i||{},this.option=null,this._theme=new nn(i),this._locale=new nn(o),this._optionManager=a},Xi.prototype.setOption=function(t,e,n){e=ji(e),this._optionManager.setOption(t,n,e),this._resetOption(null,e)},Xi.prototype.resetOption=function(t,e){return this._resetOption(t,ji(e))},Xi.prototype._resetOption=function(t,e){var n,i=!1,o=this._optionManager;return t&&"recreate"!==t||(n=o.mountOption("recreate"===t),this.option&&"recreate"!==t?(this.restoreData(),this._mergeOption(n,e)):Ei(this,n),i=!0),"timeline"!==t&&"media"!==t||this.restoreData(),t&&"recreate"!==t&&"timeline"!==t||(n=o.getTimelineOption(this))&&(i=!0,this._mergeOption(n,e)),t&&"recreate"!==t&&"media"!==t||(n=o.getMediaOption(this)).length&&(0,s.S6)(n,(function(t){i=!0,this._mergeOption(t,e)}),this),i},Xi.prototype.mergeOption=function(t){this._mergeOption(t,null)},Xi.prototype._mergeOption=function(t,e){var n=this.option,i=this._componentsMap,o=this._componentsCount,a=[],r=(0,s.kW)(),l=e&&e.replaceMergeMainTypeMap;Ci(this).datasetMap=(0,s.kW)(),(0,s.S6)(t,(function(t,e){null!=t&&(yi.hasClass(e)?e&&(a.push(e),r.set(e,!0)):n[e]=null==n[e]?(0,s.d9)(t):(0,s.TS)(n[e],t,!0))})),l&&l.each((function(t,e){yi.hasClass(e)&&!r.get(e)&&(a.push(e),r.set(e,!0))})),yi.topologicalTravel(a,yi.getAllClassMainTypes(),(function(e){var a,r,u=function(t,e,n){return(e=(e=Vi.get(e))&&e(t))?n.concat(e):n}(this,e,N(t[e])),c=(function(t,e,n){(0,s.S6)(t,(function(t){var i,o,a=t.newOption;(0,s.Kn)(a)&&(t.keyInfo.mainType=e,t.keyInfo.subType=(i=e,t=t.existing,o=n,a.type||(t?t.subType:o.determineSubType(i,a))))}))}(r=z(r=i.get(e),u,r?l&&l.get(e)?"replaceMerge":"normalMerge":"replaceAll"),e,yi),n[e]=null,i.set(e,null),o.set(e,0),[]),h=[],d=0;(0,s.S6)(r,(function(t,n){var i=t.existing,o=t.newOption;if(o){var r=yi.getClass(e,t.keyInfo.subType,!("series"===e));if(!r)return;if("tooltip"===e){if(a)return;a=!0}i&&i.constructor===r?(i.name=t.keyInfo.name,i.mergeOption(o,this),i.optionUpdated(o,!1)):(i=new r(o,this,this,r=(0,s.l7)({componentIndex:n},t.keyInfo)),(0,s.l7)(i,r),t.brandNew&&(i.__requireNewView=!0),i.init(o,this,this),i.optionUpdated(null,!0))}else i&&(i.mergeOption({},this),i.optionUpdated({},!1));i?(c.push(i.option),h.push(i),d++):(c.push(void 0),h.push(void 0))}),this),n[e]=c,i.set(e,h),o.set(e,d),"series"===e&&Ni(this)}),this),this._seriesIndices||Ni(this)},Xi.prototype.getOption=function(){var t=(0,s.d9)(this.option);return(0,s.S6)(t,(function(e,n){if(yi.hasClass(n)){for(var i=N(e),o=i.length,a=!1,r=o-1;0<=r;r--)i[r]&&!F(i[r])?a=!0:(i[r]=null,a||o--);i.length=o,t[n]=i}})),delete t[Ui],t},Xi.prototype.getTheme=function(){return this._theme},Xi.prototype.getLocaleModel=function(){return this._locale},Xi.prototype.setUpdatePayload=function(t){this._payload=t},Xi.prototype.getUpdatePayload=function(){return this._payload},Xi.prototype.getComponent=function(t,e){var n=this._componentsMap.get(t);if(n){if(t=n[e||0])return t;if(null==e)for(var i=0;i<n.length;i++)if(n[i])return n[i]}},Xi.prototype.queryComponents=function(t){var e,n,i,o,a,r=t.mainType;return r&&(e=t.index,n=t.id,i=t.name,o=this._componentsMap.get(r))&&o.length?(null!=e?(a=[],(0,s.S6)(N(e),(function(t){o[t]&&a.push(o[t])}))):a=null!=n?Yi("id",n,o):null!=i?Yi("name",i,o):(0,s.hX)(o,(function(t){return!!t})),Ji(a,t)):[]},Xi.prototype.findComponents=function(t){var e,n=t.query,i=t.mainType,o=(o=i+"Index",a=i+"Id",e=i+"Name",!n||null==n[o]&&null==n[a]&&null==n[e]?null:{mainType:i,index:n[o],id:n[a],name:n[e]}),a=o?this.queryComponents(o):(0,s.hX)(this._componentsMap.get(i),(function(t){return!!t}));return n=Ji(a,t),t.filter?(0,s.hX)(n,t.filter):n},Xi.prototype.eachComponent=function(t,e,n){var i=this._componentsMap;if((0,s.mf)(t)){var o=e,a=t;i.each((function(t,e){for(var n=0;t&&n<t.length;n++){var i=t[n];i&&a.call(o,e,i,i.componentIndex)}}))}else for(var r=(0,s.HD)(t)?i.get(t):(0,s.Kn)(t)?this.findComponents(t):null,l=0;r&&l<r.length;l++){var u=r[l];u&&e.call(n,u,u.componentIndex)}},Xi.prototype.getSeriesByName=function(t){var e=Z(t,null);return(0,s.hX)(this._componentsMap.get("series"),(function(t){return!!t&&null!=e&&t.name===e}))},Xi.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},Xi.prototype.getSeriesByType=function(t){return(0,s.hX)(this._componentsMap.get("series"),(function(e){return!!e&&e.subType===t}))},Xi.prototype.getSeries=function(){return(0,s.hX)(this._componentsMap.get("series"),(function(t){return!!t}))},Xi.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},Xi.prototype.eachSeries=function(t,e){Oi(this),(0,s.S6)(this._seriesIndices,(function(n){var i=this._componentsMap.get("series")[n];t.call(e,i,n)}),this)},Xi.prototype.eachRawSeries=function(t,e){(0,s.S6)(this._componentsMap.get("series"),(function(n){n&&t.call(e,n,n.componentIndex)}))},Xi.prototype.eachSeriesByType=function(t,e,n){Oi(this),(0,s.S6)(this._seriesIndices,(function(i){var o=this._componentsMap.get("series")[i];o.subType===t&&e.call(n,o,i)}),this)},Xi.prototype.eachRawSeriesByType=function(t,e,n){return(0,s.S6)(this.getSeriesByType(t),e,n)},Xi.prototype.isSeriesFiltered=function(t){return Oi(this),null==this._seriesIndicesMap.get(t.componentIndex)},Xi.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},Xi.prototype.filterSeries=function(t,e){Oi(this);var n=[];(0,s.S6)(this._seriesIndices,(function(i){var o=this._componentsMap.get("series")[i];t.call(e,o,i)&&n.push(i)}),this),this._seriesIndices=n,this._seriesIndicesMap=(0,s.kW)(n)},Xi.prototype.restoreData=function(t){Ni(this);var e=this._componentsMap,n=[];e.each((function(t,e){yi.hasClass(e)&&n.push(e)})),yi.topologicalTravel(n,yi.getAllClassMainTypes(),(function(n){(0,s.S6)(e.get(n),(function(e){!e||"series"===n&&function(t,e){var n,i;if(e)return n=e.seriesIndex,i=e.seriesId,e=e.seriesName,null!=n&&t.componentIndex!==n||null!=i&&t.id!==i||null!=e&&t.name!==e}(e,t)||e.restoreData()}))}))},Xi.internalField=(Ni=function(t){var e=t._seriesIndices=[];(0,s.S6)(t._componentsMap.get("series"),(function(t){t&&e.push(t.componentIndex)})),t._seriesIndicesMap=(0,s.kW)(e)},Oi=function(t){},void(Ei=function(t,e){t.option={},t.option[Ui]=1,t._componentsMap=(0,s.kW)({series:[]}),t._componentsCount=(0,s.kW)();var n,i,o=e.aria;(0,s.Kn)(o)&&null==o.enabled&&(o.enabled=!0),n=e,o=t._theme.option,i=n.color&&!n.colorLayer,(0,s.S6)(o,(function(t,e){"colorLayer"===e&&i||yi.hasClass(e)||("object"==typeof t?n[e]=n[e]?(0,s.TS)(n[e],t,!1):(0,s.d9)(t):null==n[e]&&(n[e]=t))})),(0,s.TS)(e,mi,!1),t._mergeOption(e,null)})),Ye=Xi,(0,s.jB)(Ye,Gi);var qi=Ye,$i=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],Qi={};function to(){this._coordinateSystems=[]}to.prototype.create=function(t,e){var n=[];s.S6(Qi,(function(i,o){i=i.create(t,e),n=n.concat(i||[])})),this._coordinateSystems=n},to.prototype.update=function(t,e){s.S6(this._coordinateSystems,(function(n){n.update&&n.update(t,e)}))},to.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},to.register=function(t,e){Qi[t]=e},to.get=function(t){return Qi[t]};var eo=to,no=/^(min|max)?(.+)$/;function io(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}io.prototype.setOption=function(t,e,n){t&&((0,s.S6)(N(t.series),(function(t){t&&t.data&&(0,s.fU)(t.data)&&(0,s.s7)(t.data)})),(0,s.S6)(N(t.dataset),(function(t){t&&t.source&&(0,s.fU)(t.source)&&(0,s.s7)(t.source)}))),t=(0,s.d9)(t);var i=this._optionBackup;t=function(t,e,n){var i,o,a=[],r=t.baseOption,l=t.timeline,u=t.options,c=t.media,h=!!t.media,d=!!(u||l||r&&r.timeline);function p(t){(0,s.S6)(e,(function(e){e(t,n)}))}return r?(o=r).timeline||(o.timeline=l):((d||h)&&(t.options=t.media=null),o=t),h&&(0,s.kJ)(c)&&(0,s.S6)(c,(function(t){t&&t.option&&(t.query?a.push(t):i=i||t)})),p(o),(0,s.S6)(u,p),(0,s.S6)(a,(function(t){return p(t.option)})),{baseOption:o,timelineOptions:u||[],mediaDefault:i,mediaList:a}}(t,e,!i),this._newBaseOption=t.baseOption,i?(t.timelineOptions.length&&(i.timelineOptions=t.timelineOptions),t.mediaList.length&&(i.mediaList=t.mediaList),t.mediaDefault&&(i.mediaDefault=t.mediaDefault)):this._optionBackup=t},io.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],(0,s.d9)(t?e.baseOption:this._newBaseOption)},io.prototype.getTimelineOption=function(t){var e=this._timelineOptions;return e.length&&(t=t.getComponent("timeline"))?(0,s.d9)(e[t.getCurrentIndex()]):undefined},io.prototype.getMediaOption=function(t){var e=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,o=this._mediaDefault,a=[],r=[];if(i.length||o){for(var l,u,c=0,h=i.length;c<h;c++)!function(t,e,n){var i={width:e,height:n,aspectratio:e/n},o=!0;return(0,s.S6)(t,(function(t,e){var n;(e=e.match(no))&&e[1]&&e[2]&&(n=e[1],e=e[2].toLowerCase(),e=i[e],("min"===n?t<=e:"max"===n?e<=t:e===t)||(o=!1))})),o}(i[c].query,e,n)||a.push(c);(a=!a.length&&o?[-1]:a).length&&(l=a,u=this._currentMediaIndices,l.join(",")!==u.join(","))&&(r=(0,s.UI)(a,(function(t){return(0,s.d9)((-1===t?o:i[t]).option)}))),this._currentMediaIndices=a}return r};var oo=io,ao=s.S6,ro=s.Kn,so=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function lo(t){var e=t&&t.itemStyle;if(e)for(var n=0,i=so.length;n<i;n++){var o=so[n],a=e.normal,r=e.emphasis;a&&a[o]&&(t[o]=t[o]||{},t[o].normal?s.TS(t[o].normal,a[o]):t[o].normal=a[o],a[o]=null),r&&r[o]&&(t[o]=t[o]||{},t[o].emphasis?s.TS(t[o].emphasis,r[o]):t[o].emphasis=r[o],r[o]=null)}}function uo(t,e,n){var i,o;t&&t[e]&&(t[e].normal||t[e].emphasis)&&(i=t[e].normal,o=t[e].emphasis,i&&(n?(t[e].normal=t[e].emphasis=null,s.ce(t[e],i)):t[e]=i),o)&&(t.emphasis=t.emphasis||{},(t.emphasis[e]=o).focus&&(t.emphasis.focus=o.focus),o.blurScope)&&(t.emphasis.blurScope=o.blurScope)}function co(t){uo(t,"itemStyle"),uo(t,"lineStyle"),uo(t,"areaStyle"),uo(t,"label"),uo(t,"labelLine"),uo(t,"upperLabel"),uo(t,"edgeLabel")}function ho(t,e){var n=ro(t)&&t[e],i=ro(n)&&n.textStyle;if(i)for(var o=0,a=E.length;o<a;o++){var r=E[o];i.hasOwnProperty(r)&&(n[r]=i[r])}}function po(t){t&&(co(t),ho(t,"label"),t.emphasis)&&ho(t.emphasis,"label")}function go(t){return s.kJ(t)?t:t?[t]:[]}function fo(t){return(s.kJ(t)?t[0]:t)||{}}function yo(t){t&&(0,s.S6)(mo,(function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])}))}var mo=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],vo=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],xo=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function _o(t){var e=t&&t.itemStyle;if(e)for(var n=0;n<xo.length;n++){var i=xo[n][1],o=xo[n][0];null!=e[i]&&(e[o]=e[i])}}function So(t){t&&"edge"===t.alignTo&&null!=t.margin&&null==t.edgeDistance&&(t.edgeDistance=t.margin)}function bo(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function wo(t,e){(function(t,e){ao(go(t.series),(function(t){if(ro(t)&&ro(t)){lo(t),co(t),ho(t,"label"),ho(t,"upperLabel"),ho(t,"edgeLabel"),t.emphasis&&(ho(t.emphasis,"label"),ho(t.emphasis,"upperLabel"),ho(t.emphasis,"edgeLabel"));var e=t.markPoint,n=(e&&(lo(e),po(e)),t.markLine),i=(n&&(lo(n),po(n)),t.markArea),o=(i&&po(i),t.data);if("graph"===t.type){o=o||t.nodes;var a=t.links||t.edges;if(a&&!s.fU(a))for(var r=0;r<a.length;r++)po(a[r]);s.S6(t.categories,(function(t){co(t)}))}if(o&&!s.fU(o))for(r=0;r<o.length;r++)po(o[r]);if((e=t.markPoint)&&e.data){var l=e.data;for(r=0;r<l.length;r++)po(l[r])}if((n=t.markLine)&&n.data){var u=n.data;for(r=0;r<u.length;r++)s.kJ(u[r])?(po(u[r][0]),po(u[r][1])):po(u[r])}"gauge"===t.type?(ho(t,"axisLabel"),ho(t,"title"),ho(t,"detail")):"treemap"===t.type?(uo(t.breadcrumb,"itemStyle"),s.S6(t.levels,(function(t){co(t)}))):"tree"===t.type&&co(t.leaves)}}));var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),ao(n,(function(e){ao(go(t[e]),(function(t){t&&(ho(t,"axisLabel"),ho(t.axisPointer,"label"))}))})),ao(go(t.parallel),(function(t){ho(t=t&&t.parallelAxisDefault,"axisLabel"),ho(t&&t.axisPointer,"label")})),ao(go(t.calendar),(function(t){uo(t,"itemStyle"),ho(t,"dayLabel"),ho(t,"monthLabel"),ho(t,"yearLabel")})),ao(go(t.radar),(function(t){ho(t,"name"),t.name&&null==t.axisName&&(t.axisName=t.name,delete t.name),null!=t.nameGap&&null==t.axisNameGap&&(t.axisNameGap=t.nameGap,delete t.nameGap)})),ao(go(t.geo),(function(t){ro(t)&&(po(t),ao(go(t.regions),(function(t){po(t)})))})),ao(go(t.timeline),(function(t){po(t),uo(t,"label"),uo(t,"itemStyle"),uo(t,"controlStyle",!0),t=t.data,s.kJ(t)&&s.S6(t,(function(t){s.Kn(t)&&(uo(t,"label"),uo(t,"itemStyle"))}))})),ao(go(t.toolbox),(function(t){uo(t,"iconStyle"),ao(t.feature,(function(t){uo(t,"iconStyle")}))})),ho(fo(t.axisPointer),"label"),ho(fo(t.tooltip).axisPointer,"label")})(t,e),t.series=N(t.series),(0,s.S6)(t.series,(function(t){if((0,s.Kn)(t)){var e,n=t.type;if("line"===n)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===n||"gauge"===n){if(null!=t.clockWise&&(t.clockwise=t.clockWise),So(t.label),(e=t.data)&&!(0,s.fU)(e))for(var i=0;i<e.length;i++)So(e[i]);null!=t.hoverOffset&&(t.emphasis=t.emphasis||{},t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset)}else if("gauge"===n){var o=function(t,e){for(var n="pointer.color".split(","),i=t,o=0;o<n.length&&null!=(i=i&&i[n[o]]);o++);return i}(t);if(null!=o){for(var a,r=t,l="itemStyle.color",u=l.split(","),c=r,h=0;h<u.length-1;h++)null==c[a=u[h]]&&(c[a]={}),c=c[a];null!=c[u[h]]||(c[u[h]]=o)}}else if("bar"===n){if(_o(t),_o(t.backgroundStyle),_o(t.emphasis),(e=t.data)&&!(0,s.fU)(e))for(i=0;i<e.length;i++)"object"==typeof e[i]&&(_o(e[i]),_o(e[i]&&e[i].emphasis))}else"sunburst"===n?((l=t.highlightPolicy)&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=l)),bo(t),function t(e,n){if(e)for(var i=0;i<e.length;i++)n(e[i]),e[i]&&t(e[i].children,n)}(t.data,bo)):"graph"===n||"sankey"===n?(r=t)&&null!=r.focusNodeAdjacency&&(r.emphasis=r.emphasis||{},null==r.emphasis.focus)&&(r.emphasis.focus="adjacency"):"map"===n&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation)&&(0,s.ce)(t,t.mapLocation);null!=t.hoverAnimation&&(t.emphasis=t.emphasis||{},t.emphasis)&&null==t.emphasis.scale&&(t.emphasis.scale=t.hoverAnimation),yo(t)}})),t.dataRange&&(t.visualMap=t.dataRange),(0,s.S6)(vo,(function(e){(e=t[e])&&((0,s.kJ)(e)||(e=[e]),(0,s.S6)(e,(function(t){yo(t)})))}))}function Mo(t){(0,s.S6)(t,(function(e,n){var i=[],o=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],r=e.data,s=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";r.modify(a,(function(a,u,c){var d,p,f=r.get(e.stackedDimension,c);if(isNaN(f))return o;s?p=r.getRawIndex(c):d=r.get(e.stackedByDimension,c);for(var m,v,x,_=NaN,S=n-1;0<=S;S--){var b=t[S];if(0<=(p=s?p:b.data.rawIndexOf(b.stackedByDimension,d))&&(b=b.data.getByRawIndex(b.stackResultDimension,p),"all"===l||"positive"===l&&0<b||"negative"===l&&b<0||"samesign"===l&&0<=f&&0<b||"samesign"===l&&f<=0&&b<0)){m=f,v=b,x=Math.max(y(m),y(v)),m+=v,f=h<x?m:g(m,x),_=b;break}}return i[0]=f,i[1]=_,i}))}))}var Io,Do,To=function(t){this.data=t.data||(t.sourceFormat===bi?{}:[]),this.sourceFormat=t.sourceFormat||Mi,this.seriesLayoutBy=t.seriesLayoutBy||Ii,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e)for(var n=0;n<e.length;n++){var i=e[n];null==i.type&&Pi(this,n)===Ti.Must&&(i.type="ordinal")}};function Co(t){return t instanceof To}function Ao(t,e,n){n=n||Lo(t);var i=e.seriesLayoutBy,o=function(t,e,n,i,o){var a,r,l;return t?(e===_i?(l=t,"auto"===i||null==i?Ro((function(t){null!=t&&"-"!==t&&((0,s.HD)(t)?null==r&&(r=1):r=0)}),n,l,10):r=(0,s.hj)(i)?i:i?1:0,o||1!==r||(o=[],Ro((function(t,e){o[e]=null!=t?t+"":""}),n,l,1/0)),a=o?o.length:n===Di?l.length:l[0]?l[0].length:null):e===Si?o=o||function(t){for(var e,n=0;n<t.length&&!(e=t[n++]););if(e)return(0,s.XP)(e)}(t):e===bi?o||(o=[],(0,s.S6)(t,(function(t,e){o.push(e)}))):e===xi&&(i=V(t[0]),a=(0,s.kJ)(i)&&i.length||1),{startIndex:r,dimensionsDefine:Po(o),dimensionsDetectedCount:a}):{dimensionsDefine:Po(o),startIndex:r,dimensionsDetectedCount:a}}(t,n,i,e.sourceHeader,e.dimensions);return new To({data:t,sourceFormat:n,seriesLayoutBy:i,dimensionsDefine:o.dimensionsDefine,startIndex:o.startIndex,dimensionsDetectedCount:o.dimensionsDetectedCount,metaRawOption:(0,s.d9)(e)})}function ko(t){return new To({data:t,sourceFormat:(0,s.fU)(t)?wi:xi})}function Lo(t){var e=Mi;if((0,s.fU)(t))e=wi;else if((0,s.kJ)(t)){0===t.length&&(e=_i);for(var n=0,i=t.length;n<i;n++){var o=t[n];if(null!=o){if((0,s.kJ)(o)||(0,s.fU)(o)){e=_i;break}if((0,s.Kn)(o)){e=Si;break}}}}else if((0,s.Kn)(t))for(var a in t)if((0,s.RI)(t,a)&&(0,s.zG)(t[a])){e=bi;break}return e}function Po(t){var e;if(t)return e=(0,s.kW)(),(0,s.UI)(t,(function(t,n){var i;return null!=(t={name:(t=(0,s.Kn)(t)?t:{name:t}).name,displayName:t.displayName,type:t.type}).name&&(t.name+="",null==t.displayName&&(t.displayName=t.name),(i=e.get(t.name))?t.name+="-"+i.count++:e.set(t.name,{count:1})),t}))}function Ro(t,e,n,i){if(e===Di)for(var o=0;o<n.length&&o<i;o++)t(n[o]?n[o][0]:null,o);else{var a=n[0]||[];for(o=0;o<a.length&&o<i;o++)t(a[o],o)}}function No(t){return(t=t.sourceFormat)===Si||t===bi}Bo.prototype.getSource=function(){return this._source},Bo.prototype.count=function(){return 0},Bo.prototype.getItem=function(t,e){},Bo.prototype.appendData=function(t){},Bo.prototype.clean=function(){},Bo.protoInitialize=((Js=Bo.prototype).pure=!1,void(Js.persistent=!0)),Bo.internalField=(Do=function(t,e,n){var i=n.sourceFormat,o=n.seriesLayoutBy,a=n.startIndex,r=(n=n.dimensionsDefine,Io[Ko(i,o)]);(0,s.l7)(t,r),i===wi?(t.getItem=Oo,t.count=Vo,t.fillStorage=Eo):(r=Fo(i,o),t.getItem=(0,s.ak)(r,null,e,a,n),r=Xo(i,o),t.count=(0,s.ak)(r,null,e,a,n))},Oo=function(t,e){t-=this._offset,e=e||[];for(var n=this._data,i=this._dimSize,o=i*t,a=0;a<i;a++)e[a]=n[o+a];return e},Eo=function(t,e,n,i){for(var o=this._data,a=this._dimSize,r=0;r<a;r++){for(var s=i[r],l=null==s[0]?1/0:s[0],u=null==s[1]?-1/0:s[1],c=e-t,h=n[r],d=0;d<c;d++){var p=o[d*a+r];(h[t+d]=p)<l&&(l=p),u<p&&(u=p)}s[0]=l,s[1]=u}},Vo=function(){return this._data?this._data.length/this._dimSize:0},(Js={})[_i+"_"+Ii]={pure:!0,appendData:Go},Js[_i+"_"+Di]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},Js[Si]={pure:!0,appendData:Go},Js[bi]={pure:!0,appendData:function(t){var e=this._data;(0,s.S6)(t,(function(t,n){for(var i=e[n]||(e[n]=[]),o=0;o<(t||[]).length;o++)i.push(t[o])}))}},Js[xi]={appendData:Go},Js[wi]={persistent:!1,pure:!0,appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}},void(Io=Js));var Oo,Eo,Vo,zo=Bo;function Bo(t,e){t=Co(t)?t:ko(t);var n=(this._source=t,this._data=t.data);t.sourceFormat===wi&&(this._offset=0,this._dimSize=e,this._data=n),Do(this,n,t)}function Go(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}function Zo(t,e,n,i){return t[i]}(yr={})[_i+"_"+Ii]=function(t,e,n,i){return t[i+e]},yr[_i+"_"+Di]=function(t,e,n,i,o){i+=e;for(var a=o||[],r=t,s=0;s<r.length;s++){var l=r[s];a[s]=l?l[i]:null}return a},yr[Si]=Zo,yr[bi]=function(t,e,n,i,o){for(var a=o||[],r=0;r<n.length;r++){var s=t[n[r].name];a[r]=s?s[i]:null}return a},yr[xi]=Zo;var Wo=yr;function Fo(t,e){return Wo[Ko(t,e)]}function Ho(t,e,n){return t.length}(je={})[_i+"_"+Ii]=function(t,e,n){return Math.max(0,t.length-e)},je[_i+"_"+Di]=function(t,e,n){return(t=t[0])?Math.max(0,t.length-e):0},je[Si]=Ho,je[bi]=function(t,e,n){return(t=t[n[0].name])?t.length:0},je[xi]=Ho;var Uo=je;function Xo(t,e){return Uo[Ko(t,e)]}function Yo(t,e,n){return t[e]}(dt={})[_i]=Yo,dt[Si]=function(t,e,n){return t[n]},dt[bi]=Yo,dt[xi]=function(t,e,n){return(t=V(t))instanceof Array?t[e]:t},dt[wi]=Yo;var Jo=dt;function jo(t){return Jo[t]}function Ko(t,e){return t===_i?t+"_"+e:t}function qo(t,e,n){var i,o;if(t&&null!=(e=t.getRawDataItem(e)))return i=(o=t.getStore()).getSource().sourceFormat,null!=n?(t=t.getDimensionIndex(n),n=o.getDimensionProperty(t),jo(i)(e,t,n)):(o=e,i===xi?V(e):o)}var $o=/\{@(.+?)\}/g,Qo=(ta.prototype.getDataParams=function(t,e){var n=this.getData(e),i=this.getRawValue(t,e),o=n.getRawIndex(t),a=n.getName(t),r=n.getRawDataItem(t),s=(t=(s=n.getItemVisual(t,"style"))&&s[n.getItemVisual(t,"drawType")||"fill"],s&&s.stroke),l=this.mainType,u="series"===l;return n=n.userOutput&&n.userOutput.get(),{componentType:l,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:u?this.subType:null,seriesIndex:this.seriesIndex,seriesId:u?this.id:null,seriesName:u?this.name:null,name:a,dataIndex:o,data:r,dataType:e,value:i,color:t,borderColor:s,dimensionNames:n?n.fullDimensions:null,encode:n?n.encode:null,$vars:["seriesName","name","value"]}},ta.prototype.getFormattedLabel=function(t,e,n,i,o,a){e=e||"normal";var r=this.getData(n);return n=this.getDataParams(t,n),a&&(n.value=a.interpolatedValue),null!=i&&s.kJ(n.value)&&(n.value=n.value[i]),o=o||r.getItemModel(t).get("normal"===e?["label","formatter"]:[e,"label","formatter"]),s.mf(o)?(n.status=e,n.dimensionIndex=i,o(n)):s.HD(o)?Jn(o,n).replace($o,(function(e,n){var i=n.length;return"["===n.charAt(0)&&"]"===n.charAt(i-1)&&(n=+n.slice(1,i-1)),i=qo(r,t,n),null!=(i=a&&s.kJ(a.interpolatedValue)&&0<=(n=r.getDimensionIndex(n))?a.interpolatedValue[n]:i)?i+"":""})):void 0},ta.prototype.getRawValue=function(t,e){return qo(this.getData(e),t)},ta.prototype.formatTooltip=function(t,e,n){},ta);function ta(){}function ea(t){var e,n;return s.Kn(t)?t.type&&(n=t):e=t,{text:e,frag:n}}function na(t){return new ia(t)}oa.prototype.perform=function(t){var e,n,i=this._upstream,o=t&&t.skip,a=(this._dirty&&i&&((a=this.context).data=a.outputData=i.context.outputData),this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!o&&(e=this._plan(this.context)),c(this._modBy)),r=this._modDataCount||0,l=c(t&&t.modBy),u=t&&t.modDataCount||0;function c(t){return 1<=t?t:1}if(a===l&&r===u||(e="reset"),!this._dirty&&"reset"!==e||(this._dirty=!1,n=this._doReset(o)),this._modBy=l,this._modDataCount=u,a=t&&t.step,this._dueEnd=i?i._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var h=this._dueIndex,d=Math.min(null!=a?this._dueIndex+a:1/0,this._dueEnd);if(!o&&(n||h<d)){var p=this._progress;if((0,s.kJ)(p))for(var g=0;g<p.length;g++)this._doProgress(p[g],h,d,l,u);else this._doProgress(p,h,d,l,u)}this._dueIndex=d,r=null!=this._settedOutputEnd?this._settedOutputEnd:d,this._outputDueEnd=r}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},oa.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},oa.prototype._doProgress=function(t,e,n,i,o){ha.reset(e,n,i,o),this._callingProgress=t,this._callingProgress({start:e,end:n,count:n-e,next:ha.next},this.context)},oa.prototype._doReset=function(t){var e,n;return this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&((e=this._reset(this.context))&&e.progress&&(n=e.forceFirstProgress,e=e.progress),(0,s.kJ)(e))&&!e.length&&(e=null),this._progress=e,this._modBy=this._modDataCount=null,(t=this._downstream)&&t.dirty(),n},oa.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},oa.prototype.pipe=function(t){this._downstream===t&&!this._dirty||((this._downstream=t)._upstream=this,t.dirty())},oa.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},oa.prototype.getUpstream=function(){return this._upstream},oa.prototype.getDownstream=function(){return this._downstream},oa.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t};var ia=oa;function oa(t){this._reset=(t=t||{}).reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}var aa,ra,sa,la,ua,ca,ha=ca={reset:function(t,e,n,i){ra=t,aa=e,sa=n,la=i,ua=Math.ceil(la/sa),ca.next=1<sa&&0<la?pa:da}};function da(){return ra<aa?ra++:null}function pa(){var t=ra%ua*sa+Math.ceil(ra/ua);return t=aa<=ra?null:t<la?t:ra,ra++,t}function ga(t){throw new Error(t)}function fa(t,e){return"ordinal"===(e=e&&e.type)?t:null==(t="time"!==e||(0,s.hj)(t)||null==t||"-"===t?t:+b(t))||""===t?NaN:Number(t)}var ya=(0,s.kW)({number:function(t){return parseFloat(t)},time:function(t){return+b(t)},trim:function(t){return(0,s.HD)(t)?(0,s.fy)(t):t}});function ma(t){return ya.get(t)}var va={lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return e<t},gte:function(t,e){return e<=t}},xa=(_a.prototype.evaluate=function(t){return(0,s.hj)(t)?this._opFn(t,this._rvalFloat):this._opFn(T(t),this._rvalFloat)},_a);function _a(t,e){(0,s.hj)(e)||ga(""),this._opFn=va[t],this._rvalFloat=T(e)}ba.prototype.evaluate=function(t,e){var n=(0,s.hj)(t)?t:T(t),i=(0,s.hj)(e)?e:T(e),o=isNaN(n),a=isNaN(i);return o&&(n=this._incomparable),a&&(i=this._incomparable),o&&a&&(o=(0,s.HD)(t),a=(0,s.HD)(e),o&&(n=a?t:0),a)&&(i=o?e:0),n<i?this._resultLT:i<n?-this._resultLT:0};var Sa=ba;function ba(t,e){t="desc"===t,this._resultLT=t?1:-1,this._incomparable="min"===(e=null==e?t?"min":"max":e)?-1/0:1/0}Ma.prototype.evaluate=function(t){var e,n=t===this._rval;return n||(e=typeof t)===this._rvalTypeof||"number"!=e&&"number"!==this._rvalTypeof||(n=T(t)===this._rvalFloat),this._isEQ?n:!n};var wa=Ma;function Ma(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=T(e)}Da.prototype.getRawData=function(){throw new Error("not supported")},Da.prototype.getRawDataItem=function(t){throw new Error("not supported")},Da.prototype.cloneRawData=function(){},Da.prototype.getDimensionInfo=function(t){},Da.prototype.cloneAllDimensionInfo=function(){},Da.prototype.count=function(){},Da.prototype.retrieveValue=function(t,e){},Da.prototype.retrieveValueFromItem=function(t,e){},Da.prototype.convertValue=fa;var Ia=Da;function Da(){}function Ta(t){return Pa(t.sourceFormat)||ga(""),t.data}function Ca(t){var e=t.sourceFormat,n=t.data;if(Pa(e)||ga(""),e===_i){for(var i=[],o=0,a=n.length;o<a;o++)i.push(n[o].slice());return i}if(e===Si){for(i=[],o=0,a=n.length;o<a;o++)i.push((0,s.l7)({},n[o]));return i}}function Aa(t,e,n){if(null!=n)return(0,s.hj)(n)||!isNaN(n)&&!(0,s.RI)(e,n)?t[n]:(0,s.RI)(e,n)?e[n]:void 0}function ka(t){return(0,s.d9)(t)}var La=(0,s.kW)();function Pa(t){return t===_i||t===Si}n(4224),n(1121),n(7133),Qe="undefined";var Ra,Na=typeof Uint32Array==Qe?Array:Uint32Array,Oa=typeof Uint16Array==Qe?Array:Uint16Array,Ea=typeof Int32Array==Qe?Array:Int32Array,Va={float:Ye=typeof Float64Array==Qe?Array:Float64Array,int:Ea,ordinal:Array,number:Array,time:Ye};function za(t){return 65535<t?Na:Oa}function Ba(t,e,n,i,o){if(n=Va[n||"float"],o){var a=t[e],r=a&&a.length;if(r!==i){for(var s=new n(i),l=0;l<r;l++)s[l]=a[l];t[e]=s}}else t[e]=new n(i)}function Ga(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=(0,s.kW)()}function Za(t,e,n,i){return fa(t[i],this._dimensions[i])}Ga.prototype.initData=function(t,e,n){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=t.getSource(),o=this.defaultDimValueGetter=Ra[i.sourceFormat];this._dimValueGetter=n||o,this._rawExtent=[],No(i),this._dimensions=(0,s.UI)(e,(function(t){return{type:t.type,property:t.property}})),this._initDataFromProvider(0,t.count())},Ga.prototype.getProvider=function(){return this._provider},Ga.prototype.getSource=function(){return this._provider.getSource()},Ga.prototype.ensureCalculationDimension=function(t,e){var n=this._calcDimNameToIdx,i=this._dimensions,o=n.get(t);if(null!=o){if(i[o].type===e)return o}else o=i.length;return i[o]={type:e},n.set(t,o),this._chunks[o]=new Va[e||"float"](this._rawCount),this._rawExtent[o]=[1/0,-1/0],o},Ga.prototype.collectOrdinalMeta=function(t,e){for(var n=this._chunks[t],i=this._dimensions[t],o=this._rawExtent,a=i.ordinalOffset||0,r=n.length,s=(0===a&&(o[t]=[1/0,-1/0]),o[t]),l=a;l<r;l++){var u=n[l]=e.parseAndCollect(n[l]);isNaN(u)||(s[0]=Math.min(u,s[0]),s[1]=Math.max(u,s[1]))}i.ordinalMeta=e,i.ordinalOffset=r,i.type="ordinal"},Ga.prototype.getOrdinalMeta=function(t){return this._dimensions[t].ordinalMeta},Ga.prototype.getDimensionProperty=function(t){return(t=this._dimensions[t])&&t.property},Ga.prototype.appendData=function(t){var e=this._provider,n=this.count();return e.appendData(t),t=e.count(),e.persistent||(t+=n),n<t&&this._initDataFromProvider(n,t,!0),[n,t]},Ga.prototype.appendValues=function(t,e){for(var n=this._chunks,i=this._dimensions,o=i.length,a=this._rawExtent,r=this.count(),s=r+Math.max(t.length,e||0),l=0;l<o;l++)Ba(n,l,(p=i[l]).type,s,!0);for(var u=[],c=r;c<s;c++)for(var h=c-r,d=0;d<o;d++){var p=i[d],g=Ra.arrayRows.call(this,t[h]||u,p.property,h,d),f=(n[d][c]=g,a[d]);g<f[0]&&(f[0]=g),g>f[1]&&(f[1]=g)}return{start:r,end:this._rawCount=this._count=s}},Ga.prototype._initDataFromProvider=function(t,e,n){for(var i=this._provider,o=this._chunks,a=this._dimensions,r=a.length,l=this._rawExtent,u=(0,s.UI)(a,(function(t){return t.property})),c=0;c<r;c++){var h=a[c];l[c]||(l[c]=[1/0,-1/0]),Ba(o,c,h.type,e,n)}if(i.fillStorage)i.fillStorage(t,e,o,l);else for(var d=[],p=t;p<e;p++){d=i.getItem(p,d);for(var g=0;g<r;g++){var f=o[g],y=this._dimValueGetter(d,u[g],p,g);y<(f[p]=y,f=l[g])[0]&&(f[0]=y),y>f[1]&&(f[1]=y)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=e,this._extent=[]},Ga.prototype.count=function(){return this._count},Ga.prototype.get=function(t,e){return 0<=e&&e<this._count&&(t=this._chunks[t])?t[this.getRawIndex(e)]:NaN},Ga.prototype.getValues=function(t,e){var n=[],i=[];if(null==e){e=t,t=[];for(var o=0;o<this._dimensions.length;o++)i.push(o)}else i=t;o=0;for(var a=i.length;o<a;o++)n.push(this.get(i[o],e));return n},Ga.prototype.getByRawIndex=function(t,e){return 0<=e&&e<this._rawCount&&(t=this._chunks[t])?t[e]:NaN},Ga.prototype.getSum=function(t){var e=0;if(this._chunks[t])for(var n=0,i=this.count();n<i;n++){var o=this.get(t,n);isNaN(o)||(e+=o)}return e},Ga.prototype.getMedian=function(t){var e=[],n=(this.each([t],(function(t){isNaN(t)||e.push(t)})),t=e.sort((function(t,e){return t-e})),this.count());return 0===n?0:n%2==1?t[(n-1)/2]:(t[n/2]+t[n/2-1])/2},Ga.prototype.indexOfRawIndex=function(t){if(!(t>=this._rawCount||t<0)){if(!this._indices)return t;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;for(var i=0,o=this._count-1;i<=o;){var a=(i+o)/2|0;if(e[a]<t)i=1+a;else{if(!(e[a]>t))return a;o=a-1}}}return-1},Ga.prototype.indicesOfNearest=function(t,e,n){var i=this._chunks[t],o=[];if(i){null==n&&(n=1/0);for(var a=1/0,r=-1,s=0,l=0,u=this.count();l<u;l++){var c=e-i[this.getRawIndex(l)],h=Math.abs(c);h<=n&&((h<a||h===a&&0<=c&&r<0)&&(a=h,r=c,s=0),c===r)&&(o[s++]=l)}o.length=s}return o},Ga.prototype.getIndices=function(){var t=this._indices;if(t){var e=t.constructor,n=this._count;if(e===Array)for(var i=new e(n),o=0;o<n;o++)i[o]=t[o];else i=new e(t.buffer,0,n)}else for(i=new(e=za(this._rawCount))(this.count()),o=0;o<i.length;o++)i[o]=o;return i},Ga.prototype.filter=function(t,e){if(!this._count)return this;for(var n=this.clone(),i=n.count(),o=new(za(n._rawCount))(i),a=[],r=t.length,s=0,l=t[0],u=n._chunks,c=0;c<i;c++){var h=void 0,d=n.getRawIndex(c);if(0===r)h=e(c);else if(1===r)h=e(u[l][d],c);else{for(var p=0;p<r;p++)a[p]=u[t[p]][d];a[p]=c,h=e.apply(null,a)}h&&(o[s++]=d)}return s<i&&(n._indices=o),n._count=s,n._extent=[],n._updateGetRawIdx(),n},Ga.prototype.selectRange=function(t){var e=this.clone(),n=e._count;if(!n)return this;var i=(0,s.XP)(t),o=i.length;if(!o)return this;var a=e.count(),r=new(za(e._rawCount))(a),l=0,u=t[d=i[0]][0],c=t[d][1],h=e._chunks,d=!1;if(!e._indices){var p=0;if(1===o){for(var g=h[i[0]],f=0;f<n;f++)(u<=(x=g[f])&&x<=c||isNaN(x))&&(r[l++]=p),p++;d=!0}else if(2===o){g=h[i[0]];var y=h[i[1]],m=t[i[1]][0],v=t[i[1]][1];for(f=0;f<n;f++){var x=g[f],_=y[f];(u<=x&&x<=c||isNaN(x))&&(m<=_&&_<=v||isNaN(_))&&(r[l++]=p),p++}d=!0}}if(!d)if(1===o)for(f=0;f<a;f++){var S=e.getRawIndex(f);(u<=(x=h[i[0]][S])&&x<=c||isNaN(x))&&(r[l++]=S)}else for(f=0;f<a;f++){for(var b=!0,w=(S=e.getRawIndex(f),0);w<o;w++){var M=i[w];((x=h[M][S])<t[M][0]||x>t[M][1])&&(b=!1)}b&&(r[l++]=e.getRawIndex(f))}return l<a&&(e._indices=r),e._count=l,e._extent=[],e._updateGetRawIdx(),e},Ga.prototype.map=function(t,e){var n=this.clone(t);return this._updateDims(n,t,e),n},Ga.prototype.modify=function(t,e){this._updateDims(this,t,e)},Ga.prototype._updateDims=function(t,e,n){for(var i=t._chunks,o=[],a=e.length,r=t.count(),s=[],l=t._rawExtent,u=0;u<e.length;u++)l[e[u]]=[1/0,-1/0];for(var c=0;c<r;c++){for(var h=t.getRawIndex(c),d=0;d<a;d++)s[d]=i[e[d]][h];s[a]=c;var p=n&&n.apply(null,s);if(null!=p)for("object"!=typeof p&&(o[0]=p,p=o),u=0;u<p.length;u++){var g=e[u],f=p[u],y=l[g];(g=i[g])&&(g[h]=f),f<y[0]&&(y[0]=f),f>y[1]&&(y[1]=f)}}},Ga.prototype.lttbDownSample=function(t,e){var n,i=this.clone([t],!0),o=i._chunks[t],a=this.count(),r=0,s=Math.floor(1/e),l=this.getRawIndex(0),u=new(za(this._rawCount))(Math.min(2*(Math.ceil(a/s)+2),a));u[r++]=l;for(var c=1;c<a-1;c+=s){for(var h=Math.min(c+s,a-1),d=Math.min(c+2*s,a),p=(d+h)/2,g=0,f=h;f<d;f++){var y=o[M=this.getRawIndex(f)];isNaN(y)||(g+=y)}g/=d-h,h=c;var m=Math.min(c+s,a),v=c-1,x=o[l],_=-1,S=h,b=-1,w=0;for(f=h;f<m;f++){var M;y=o[M=this.getRawIndex(f)],isNaN(y)?(w++,b<0&&(b=M)):_<(n=Math.abs((v-p)*(y-x)-(v-f)*(g-x)))&&(_=n,S=M)}0<w&&w<m-h&&(u[r++]=Math.min(b,S),S=Math.max(b,S)),l=u[r++]=S}return u[r++]=this.getRawIndex(a-1),i._count=r,i._indices=u,i.getRawIndex=this._getRawIdx,i},Ga.prototype.minmaxDownSample=function(t,e){for(var n=this.clone([t],!0),i=n._chunks,o=Math.floor(1/e),a=i[t],r=this.count(),s=new(za(this._rawCount))(2*Math.ceil(r/o)),l=0,u=0;u<r;u+=o){var c=u,h=a[this.getRawIndex(c)],d=u,p=a[this.getRawIndex(d)],g=o;r<u+o&&(g=r-u);for(var f=0;f<g;f++){var y=a[this.getRawIndex(u+f)];y<h&&(h=y,c=u+f),p<y&&(p=y,d=u+f)}var m=this.getRawIndex(c),v=this.getRawIndex(d);c<d?(s[l++]=m,s[l++]=v):(s[l++]=v,s[l++]=m)}return n._count=l,n._indices=s,n._updateGetRawIdx(),n},Ga.prototype.downSample=function(t,e,n,i){for(var o=this.clone([t],!0),a=o._chunks,r=[],s=Math.floor(1/e),l=a[t],u=this.count(),c=o._rawExtent[t]=[1/0,-1/0],h=new(za(this._rawCount))(Math.ceil(u/s)),d=0,p=0;p<u;p+=s){u-p<s&&(r.length=s=u-p);for(var g=0;g<s;g++){var f=this.getRawIndex(p+g);r[g]=l[f]}var y=n(r),m=this.getRawIndex(Math.min(p+i(r,y)||0,u-1));(l[m]=y)<c[0]&&(c[0]=y),y>c[1]&&(c[1]=y),h[d++]=m}return o._count=d,o._indices=h,o._updateGetRawIdx(),o},Ga.prototype.each=function(t,e){if(this._count)for(var n=t.length,i=this._chunks,o=0,a=this.count();o<a;o++){var r=this.getRawIndex(o);switch(n){case 0:e(o);break;case 1:e(i[t[0]][r],o);break;case 2:e(i[t[0]][r],i[t[1]][r],o);break;default:for(var s=0,l=[];s<n;s++)l[s]=i[t[s]][r];l[s]=o,e.apply(null,l)}}},Ga.prototype.getDataExtent=function(t){var e=this._chunks[t],n=[1/0,-1/0];if(!e)return n;var i=this.count();if(!this._indices)return this._rawExtent[t].slice();if(o=this._extent[t])return o.slice();for(var o,a=(o=n)[0],r=o[1],s=0;s<i;s++){var l=e[this.getRawIndex(s)];l<a&&(a=l),r<l&&(r=l)}return this._extent[t]=[a,r]},Ga.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var n=[],i=this._chunks,o=0;o<i.length;o++)n.push(i[o][e]);return n},Ga.prototype.clone=function(t,e){var n,i,o=new Ga,a=this._chunks,r=t&&(0,s.u4)(t,(function(t,e){return t[e]=!0,t}),{});if(r)for(var l=0;l<a.length;l++)o._chunks[l]=r[l]?(i=void 0,(i=(n=a[l]).constructor)===Array?n.slice():new i(n)):a[l];else o._chunks=a;return this._copyCommonProps(o),e||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},Ga.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=(0,s.d9)(this._extent),t._rawExtent=(0,s.d9)(this._rawExtent)},Ga.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array)for(var n=this._indices.length,i=(e=new t(n),0);i<n;i++)e[i]=this._indices[i];else e=new t(this._indices);return e}return null},Ga.prototype._getRawIdxIdentity=function(t){return t},Ga.prototype._getRawIdx=function(t){return t<this._count&&0<=t?this._indices[t]:-1},Ga.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},Ga.internalField=void(Ra={arrayRows:Za,objectRows:function(t,e,n,i){return fa(t[e],this._dimensions[i])},keyedColumns:Za,original:function(t,e,n,i){return fa((t=t&&(null==t.value?t:t.value))instanceof Array?t[i]:t,this._dimensions[i])},typedArray:function(t,e,n,i){return t[i]}});var Wa=Ga,Fa=(Ha.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},Ha.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,9e10<this._versionSignBase&&(this._versionSignBase=0)},Ha.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},Ha.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},Ha.prototype._createSource=function(){this._setLocalSource([],[]);var t,e,n,i,o,a,r,l=this._sourceHost,u=this._getUpstreamSourceManagers(),c=!!u.length;Xa(l)?(i=l,o=t=a=void 0,e=c?((e=u[0]).prepareSource(),a=(o=e.getSource()).data,t=o.sourceFormat,[e._getVersionSign()]):(a=i.get("data",!0),t=(0,s.fU)(a)?wi:xi,[]),i=this._getSourceMetaRawOption()||{},o=o&&o.metaRawOption||{},r=(0,s.pD)(i.seriesLayoutBy,o.seriesLayoutBy)||null,n=(0,s.pD)(i.sourceHeader,o.sourceHeader),i=(0,s.pD)(i.dimensions,o.dimensions),o=r!==o.seriesLayoutBy||!!n!=!!o.sourceHeader||i?[Ao(a,{seriesLayoutBy:r,sourceHeader:n,dimensions:i},t)]:[]):(a=l,e=c?(o=(r=this._applyTransform(u)).sourceList,r.upstreamSignList):(o=[Ao(a.get("source",!0),this._getSourceMetaRawOption(),null)],[])),this._setLocalSource(o,e)},Ha.prototype._applyTransform=function(t){var e,n=this._sourceHost,i=n.get("transform",!0),o=n.get("fromTransformResult",!0),a=(null!=o&&1!==t.length&&Ya(""),[]),r=[];return(0,s.S6)(t,(function(t){t.prepareSource();var e=t.getSource(o||0);null==o||e||Ya(""),a.push(e),r.push(t._getVersionSign())})),i?e=function(t,e){var n=N(t);(t=n.length)||ga("");for(var i=0,o=t;i<o;i++)e=function(t,e){e.length||ga(""),(0,s.Kn)(t)||ga("");var n=t.type,i=La.get(n);return i||ga(""),n=(0,s.UI)(e,(function(t){var e=t,n=(t=i,new Ia),o=e.data,a=n.sourceFormat=e.sourceFormat,r=e.startIndex,l=(e.seriesLayoutBy!==Ii&&ga(""),[]),u={};if(d=e.dimensionsDefine)(0,s.S6)(d,(function(t,e){var n=t.name;e={index:e,name:n,displayName:t.displayName},l.push(e),null!=n&&((0,s.RI)(u,n)&&ga(""),u[n]=e)}));else for(var c=0;c<e.dimensionsDetectedCount;c++)l.push({index:c});var h=Fo(a,Ii),d=(t.__isBuiltIn&&(n.getRawDataItem=function(t){return h(o,r,l,t)},n.getRawData=(0,s.ak)(Ta,null,e)),n.cloneRawData=(0,s.ak)(Ca,null,e),Xo(a,Ii)),p=(n.count=(0,s.ak)(d,null,o,r,l),jo(a)),g=(n.retrieveValue=function(t,e){return t=h(o,r,l,t),g(t,e)},n.retrieveValueFromItem=function(t,e){var n;return null!=t&&(n=l[e])?p(t,e,n.name):void 0});return n.getDimensionInfo=(0,s.ak)(Aa,null,l,u),n.cloneAllDimensionInfo=(0,s.ak)(ka,null,l),n})),n=N(i.transform({upstream:n[0],upstreamList:n,config:(0,s.d9)(t.config)})),(0,s.UI)(n,(function(t,n){(0,s.Kn)(t)||ga(""),t.data||ga(""),Pa(Lo(t.data))||ga("");var i=e[0];return n=i&&0===n&&!t.dimensions?((n=i.startIndex)&&(t.data=i.data.slice(0,n).concat(t.data)),{seriesLayoutBy:Ii,sourceHeader:n,dimensions:i.metaRawOption.dimensions}):{seriesLayoutBy:Ii,sourceHeader:0,dimensions:t.dimensions},Ao(t.data,n,null)}))}(n[i],e),i!==o-1&&(e.length=Math.max(e.length,1));return e}(i,a,n.componentIndex):null!=o&&(e=[new To({data:(t=a[0]).data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:(0,s.d9)(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})]),{sourceList:e,upstreamSignList:r}},Ha.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var n=t[e];if(n._isDirty()||this._upstreamSignList[e]!==n._getVersionSign())return!0}},Ha.prototype.getSource=function(t){var e=this._sourceList[t=t||0];return e||(e=this._getUpstreamSourceManagers())[0]&&e[0].getSource(t)},Ha.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},Ha.prototype._innerGetDataStore=function(t,e,n){var i,o,a=(o=this._storeList)[0];return(o=(a=a||(o[0]={}))[n])||(i=this._getUpstreamSourceManagers()[0],Xa(this._sourceHost)&&i?o=i._innerGetDataStore(t,e,n):(o=new Wa).initData(new zo(e,t.length),t),a[n]=o),o},Ha.prototype._getUpstreamSourceManagers=function(){var t,e=this._sourceHost;return Xa(e)?(t=Li(e))?[t.getSourceManager()]:[]:(0,s.UI)((t=e).get("transform",!0)||t.get("fromTransformResult",!0)?q(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},j).models:[],(function(t){return t.getSourceManager()}))},Ha.prototype._getSourceMetaRawOption=function(){var t,e,n,i=this._sourceHost;return Xa(i)?(t=i.get("seriesLayoutBy",!0),e=i.get("sourceHeader",!0),n=i.get("dimensions",!0)):this._getUpstreamSourceManagers().length||(t=i.get("seriesLayoutBy",!0),e=i.get("sourceHeader",!0),n=i.get("dimensions",!0)),{seriesLayoutBy:t,sourceHeader:e,dimensions:n}},Ha);function Ha(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}function Ua(t){t.option.transform&&(0,s.s7)(t.option.transform)}function Xa(t){return"series"===t.mainType}function Ya(t){throw new Error(t)}var Ja="line-height:1";function ja(t){return null==(t=t.lineHeight)?Ja:"line-height:"+(0,ln.F1)(t+"")+"px"}function Ka(t,e){var n=t.color||"#6e7079",i=t.fontSize||12,o=t.fontWeight||"400",a=t.color||"#464646",r=t.fontSize||14;return t=t.fontWeight||"900","html"===e?{nameStyle:"font-size:"+(0,ln.F1)(i+"")+"px;color:"+(0,ln.F1)(n)+";font-weight:"+(0,ln.F1)(o+""),valueStyle:"font-size:"+(0,ln.F1)(r+"")+"px;color:"+(0,ln.F1)(a)+";font-weight:"+(0,ln.F1)(t+"")}:{nameStyle:{fontSize:i,fill:n,fontWeight:o},valueStyle:{fontSize:r,fill:a,fontWeight:t}}}var qa=[0,10,20,30],$a=["","\n","\n\n","\n\n\n"];function Qa(t,e){return e.type=t,e}function tr(t){return"section"===t.type}function er(t){return tr(t)?nr:ir}function nr(t,e,n,i){var o,a=e.noHeader,r=(u=function t(e){var n,i,o;return tr(e)?(n=0,i=e.blocks.length,o=1<i||0<i&&!e.noHeader,(0,s.S6)(e.blocks,(function(e){var i=t(e);n<=i&&(n=i+ +(o&&(!i||tr(e)&&!e.noHeader)))})),n):0}(e),{html:qa[u],richText:$a[u]}),l=[],u=e.blocks||[],c=((0,s.hu)(!u||(0,s.kJ)(u)),u=u||[],t.orderMode),h=(e.sortBlocks&&c&&(u=u.slice(),(0,s.RI)(h={valueAsc:"asc",valueDesc:"desc"},c)?(o=new Sa(h[c],null),u.sort((function(t,e){return o.evaluate(t.sortParam,e.sortParam)}))):"seriesDesc"===c&&u.reverse()),(0,s.S6)(u,(function(n,o){var a=e.valueFormatter;null!=(a=er(n)(a?(0,s.l7)((0,s.l7)({},t),{valueFormatter:a}):t,n,0<o?r.html:0,i))&&l.push(a)})),"richText"===t.renderMode?l.join(r.richText):ar(i,l.join(""),a?n:r.html));return a?h:(c=Un(e.header,"ordinal",t.useUTC),u=Ka(i,t.renderMode).nameStyle,a=ja(i),"richText"===t.renderMode?rr(t,c,u)+r.richText+h:ar(i,'<div style="'+u+";"+a+';">'+(0,ln.F1)(c)+"</div>"+h,n))}function ir(t,e,n,i){var o,a,r,l,u,c=t.renderMode,h=e.noName,d=e.noValue,p=!e.markerType,g=e.name,f=t.useUTC,y=e.valueFormatter||t.valueFormatter||function(t){return t=(0,s.kJ)(t)?t:[t],(0,s.UI)(t,(function(t,e){return Un(t,(0,s.kJ)(a)?a[e]:a,f)}))};if(!h||!d)return o=p?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",c),g=h?"":Un(g,"ordinal",f),a=e.valueType,y=d?[]:y(e.value,e.dataIndex),e=!p||!h,r=!p&&h,l=(u=Ka(i,c)).nameStyle,u=u.valueStyle,"richText"===c?(p?"":o)+(h?"":rr(t,g,l))+(d?"":function(t,e,n,i,o){return o=[o],i=i?10:20,n&&o.push({padding:[0,0,0,i],align:"right"}),t.markupStyleCreator.wrapRichTextStyle((0,s.kJ)(e)?e.join("  "):e,o)}(t,y,e,r,u)):ar(i,(p?"":o)+(h?"":'<span style="'+l+";"+(p?"":"margin-left:2px")+'">'+(0,ln.F1)(g)+"</span>")+(d?"":function(t,e,n,i){return n=n?"10px":"20px",e=e?"float:right;margin-left:"+n:"",t=(0,s.kJ)(t)?t:[t],'<span style="'+e+";"+i+'">'+(0,s.UI)(t,(function(t){return(0,ln.F1)(t)})).join("&nbsp;&nbsp;")+"</span>"}(y,e,r,u)),n)}function or(t,e,n,i,o,a){if(t)return er(t)({useUTC:o,renderMode:n,orderMode:i,markupStyleCreator:e,valueFormatter:t.valueFormatter},t,0,a)}function ar(t,e,n){return'<div style="margin: '+n+"px 0 0;"+ja(t)+';">'+e+'<div style="clear:both"></div></div>'}function rr(t,e,n){return t.markupStyleCreator.wrapRichTextStyle(e,n)}function sr(t,e){return jn(t.getData().getItemVisual(e,"style")[t.visualDrawType])}function lr(t,e){return null!=(t=t.get("padding"))?t:"richText"===e?[8,10]:10}cr.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},cr.prototype.makeTooltipMarker=function(t,e,n){var i,o="richText"===n?this._generateStyleName():null,a=(e={color:e,type:t,renderMode:n,markerId:o},t=(e=s.HD(e)?{color:e,extraCssText:a}:e||{}).color,n=e.type,a=e.extraCssText,i=e.renderMode||"html",t?"html"===i?"subItem"===n?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+(0,ln.F1)(t)+";"+(a||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+(0,ln.F1)(t)+";"+(a||"")+'"></span>':{renderMode:i,content:"{"+(e.markerId||"markerX")+"|}  ",style:"subItem"===n?{width:4,height:4,borderRadius:2,backgroundColor:t}:{width:10,height:10,borderRadius:5,backgroundColor:t}}:"");return(0,s.HD)(a)?a:(this.richTextStyles[o]=a.style,a.content)},cr.prototype.wrapRichTextStyle=function(t,e){var n={};return(0,s.kJ)(e)?(0,s.S6)(e,(function(t){return(0,s.l7)(n,t)})):(0,s.l7)(n,e),e=this._generateStyleName(),this.richTextStyles[e]=n,"{"+e+"|"+t+"}"};var ur=cr;function cr(){this.richTextStyles={},this._nextStyleNameId=A()}function hr(t){var e,n,i,o,a,r,l,u,c,h,d,p=t.series,g=t.dataIndex,f=(t=t.multipleSeries,p.getData()),y=f.mapDimensionsAll("defaultedTooltip"),m=y.length,v=p.getRawValue(g),x=(0,s.kJ)(v),_=sr(p,g);function S(t,e){(e=l.getDimensionInfo(e))&&!1!==e.otherDims.tooltip&&(u?d.push(Qa("nameValue",{markerType:"subItem",markerColor:r,name:e.displayName,value:t,valueType:e.type})):(c.push(t),h.push(e.type)))}return 1<m||x&&!m?(i=v,o=g,a=y,r=_,l=p.getData(),u=(0,s.u4)(i,(function(t,e,n){return n=l.getDimensionInfo(n),t||n&&!1!==n.tooltip&&null!=n.displayName}),!1),c=[],h=[],d=[],a.length?(0,s.S6)(a,(function(t){S(qo(l,o,t),t)})):(0,s.S6)(i,S),i=(a={inlineValues:c,inlineValueTypes:h,blocks:d}).inlineValueTypes,e=a.blocks,n=(a=a.inlineValues)[0]):m?(m=f.getDimensionInfo(y[0]),n=a=qo(f,g,y[0]),i=m.type):n=a=x?v[0]:v,m=(y=W(p))&&p.name||"",x=f.getName(g),Qa("section",{header:m,noHeader:t||!y,sortParam:n,blocks:[Qa("nameValue",{markerType:"item",markerColor:_,name:v=t?m:x,noName:!(0,s.fy)(v),value:a,valueType:i,dataIndex:g})].concat(e||[])})}var dr=U();function pr(t,e){return t.getName(e)||t.getId(e)}var gr,fr="__universalTransitionEnabled",yr=(a(mr,gr=yi),mr.prototype.init=function(t,e,n){this.seriesIndex=this.componentIndex,this.dataTask=na({count:xr,reset:_r}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,n),(dr(this).sourceManager=new Fa(this)).prepareSource(),br(t=this.getInitialData(t,n),this),this.dataTask.context.data=t,dr(this).dataBeforeProcessed=t,vr(this),this._initSelectedMapFromData(t)},mr.prototype.mergeDefaultAndTheme=function(t,e){var n=oi(this),i=n?ri(t):{},o=this.subType;yi.hasClass(o),s.TS(t,e.getTheme().get(this.subType)),s.TS(t,this.getDefaultOption()),O(t,"label",["show"]),this.fillDataTextStyle(t.data),n&&ai(t,i,n)},mr.prototype.mergeOption=function(t,e){var n;t=s.TS(this.option,t,!0),this.fillDataTextStyle(t.data),br((((n=oi(this))&&ai(this.option,t,n),n=dr(this).sourceManager).dirty(),n.prepareSource(),n=this.getInitialData(t,e)),this),this.dataTask.dirty(),this.dataTask.context.data=n,dr(this).dataBeforeProcessed=n,vr(this),this._initSelectedMapFromData(n)},mr.prototype.fillDataTextStyle=function(t){if(t&&!s.fU(t))for(var e=["show"],n=0;n<t.length;n++)t[n]&&t[n].label&&O(t[n],"label",e)},mr.prototype.getInitialData=function(t,e){},mr.prototype.appendData=function(t){this.getRawData().appendData(t.data)},mr.prototype.getData=function(t){var e=Mr(this);return e?(e=e.context.data,null!=t&&e.getLinkedData?e.getLinkedData(t):e):dr(this).data},mr.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},mr.prototype.setData=function(t){var e,n=Mr(this);n&&((e=n.context).outputData=t,n!==this.dataTask)&&(e.data=t),dr(this).data=t},mr.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return s.kW(t)},mr.prototype.getSourceManager=function(){return dr(this).sourceManager},mr.prototype.getSource=function(){return this.getSourceManager().getSource()},mr.prototype.getRawData=function(){return dr(this).dataBeforeProcessed},mr.prototype.getColorBy=function(){return this.get("colorBy")||"series"},mr.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},mr.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},mr.prototype.formatTooltip=function(t,e,n){return hr({series:this,dataIndex:t,multipleSeries:e})},mr.prototype.isAnimationEnabled=function(){var t=this.ecModel;return!!(!l.Z.node||t&&t.ssr)&&!!(t=!((t=this.getShallow("animation"))&&this.getData().count()>this.getShallow("animationThreshold"))&&t)},mr.prototype.restoreData=function(){this.dataTask.dirty()},mr.prototype.getColorFromPalette=function(t,e,n){var i=this.ecModel;return Gi.prototype.getColorFromPalette.call(this,t,e,n)||i.getColorFromPalette(t,e,n)},mr.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},mr.prototype.getProgressive=function(){return this.get("progressive")},mr.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},mr.prototype.select=function(t,e){this._innerSelect(this.getData(e),t)},mr.prototype.unselect=function(t,e){var n=this.option.selectedMap;if(n){var i=this.option.selectedMode,o=this.getData(e);if("series"===i||"all"===n)this.option.selectedMap={},this._selectedDataIndicesMap={};else for(var a=0;a<t.length;a++){var r=pr(o,t[a]);n[r]=!1,this._selectedDataIndicesMap[r]=-1}}},mr.prototype.toggleSelect=function(t,e){for(var n=[],i=0;i<t.length;i++)n[0]=t[i],this.isSelected(t[i],e)?this.unselect(n,e):this.select(n,e)},mr.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,e=s.XP(t),n=[],i=0;i<e.length;i++){var o=t[e[i]];0<=o&&n.push(o)}return n},mr.prototype.isSelected=function(t,e){var n=this.option.selectedMap;return!!n&&(e=this.getData(e),"all"===n||n[pr(e,t)])&&!e.getItemModel(t).get(["select","disabled"])},mr.prototype.isUniversalTransitionEnabled=function(){var t;return!!this[fr]||!!(t=this.option.universalTransition)&&(!0===t||t&&t.enabled)},mr.prototype._innerSelect=function(t,e){var n=this.option,i=n.selectedMode,o=e.length;if(i&&o)if("series"===i)n.selectedMap="all";else if("multiple"===i){s.Kn(n.selectedMap)||(n.selectedMap={});for(var a=n.selectedMap,r=0;r<o;r++){var l,u=e[r];a[l=pr(t,u)]=!0,this._selectedDataIndicesMap[l]=t.getRawIndex(u)}}else"single"!==i&&!0!==i||(l=pr(t,i=e[o-1]),n.selectedMap=((n={})[l]=!0,n),this._selectedDataIndicesMap=((n={})[l]=t.getRawIndex(i),n))},mr.prototype._initSelectedMapFromData=function(t){var e;this.option.selectedMap||(e=[],t.hasItemOption&&t.each((function(n){var i=t.getRawDataItem(n);i&&i.selected&&e.push(n)})),0<e.length&&this._innerSelect(t,e))},mr.registerClass=function(t){return yi.registerClass(t)},mr.protoInitialize=((Js=mr.prototype).type="series.__base__",Js.seriesIndex=0,Js.ignoreStyleOnData=!1,Js.hasSymbolVisual=!1,Js.defaultSymbol="circle",Js.visualStyleAccessPath="itemStyle",void(Js.visualDrawType="fill")),mr);function mr(){var t=null!==gr&&gr.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}function vr(t){var e,n,i=t.name;W(t)||(t.name=(t=(e=t.getRawData()).mapDimensionsAll("seriesName"),n=[],s.S6(t,(function(t){(t=e.getDimensionInfo(t)).displayName&&n.push(t.displayName)})),n.join(" ")||i))}function xr(t){return t.model.getRawData().count()}function _r(t){return(t=t.model).setData(t.getRawData().cloneShallow()),Sr}function Sr(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function br(t,e){s.S6(s.WW(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),(function(n){t.wrapMethod(n,s.WA(wr,e))}))}function wr(t,e){return(t=Mr(t))&&t.setOutputEnd((e||this).count()),e}function Mr(t){var e,n;if(n=(n=(t.ecModel||{}).scheduler)&&n.getPipeline(t.uid))return(n=n.currentTask)&&(e=n.agentStubMap)?e.get(t.uid):n}s.jB(yr,Qo),s.jB(yr,Gi),rt(yr,yi);var Ir=yr,Dr=n(3498);function Tr(){this.group=new Dr.Z,this.uid=an("viewComponent")}Tr.prototype.init=function(t,e){},Tr.prototype.render=function(t,e,n,i){},Tr.prototype.dispose=function(t,e){},Tr.prototype.updateView=function(t,e,n,i){},Tr.prototype.updateLayout=function(t,e,n,i){},Tr.prototype.updateVisual=function(t,e,n,i){},Tr.prototype.toggleBlurSeries=function(t,e,n){},Tr.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},at(je=Tr),ut(je);var Cr=je;function Ar(){var t=U();return function(e){var n=t(e),i=(e=e.pipelineContext,!!n.large),o=!!n.progressiveRender,a=n.large=!(!e||!e.large);return n=n.progressiveRender=!(!e||!e.progressiveRender),!(i==a&&o==n)&&"reset"}}var kr=n(6875),Lr=n(5783),Pr=n(6560),Rr=n(7171),Nr=n(121),Or=n(2472),Er=n(6893),Vr=n(6588),zr=n(6300),Br=n(8374),Gr=n(9952),Zr=n(2509),Wr=n(5390),Fr=n(4804),Hr=n(2236),Ur=n(9617),Xr=n(3020),Yr=n(2861),Jr=n(5753),jr=n(2660),Kr=n(9603),qr=n(2528),$r=Math.max,Qr=Math.min,ts={};function es(t){return vt.ZP.extend(t)}var ns=kr.Pc;function is(t,e){return ns(t,e)}function os(t,e){ts[t]=e}function as(t){if(ts.hasOwnProperty(t))return ts[t]}function rs(t,e,n,i){return t=kr.iR(t,e),n&&("center"===i&&(n=ls(n,t.getBoundingRect())),cs(t,n)),t}function ss(t,e,n){var i=new Nr.ZP({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){"center"===n&&(t={width:t.width,height:t.height},i.setStyle(ls(e,t)))}});return i}function ls(t,e){e=e.width/e.height;var n=t.height*e;return e=n<=t.width?t.height:(n=t.width)/e,{x:t.x+t.width/2-n/2,y:t.y+t.height/2-e/2,width:n,height:e}}var us=kr.AA;function cs(t,e){t.applyTransform&&(e=t.getBoundingRect().calculateTransform(e),t.applyTransform(e))}function hs(t,e){return qr._3(t,t,{lineWidth:e}),t}function ds(t){return qr.Pw(t.shape,t.shape,t.style),t}var ps=qr.vu;function gs(t,e){for(var n=Lr.yR([]);t&&t!==e;)Lr.dC(n,t.getLocalTransform(),n),t=t.parent;return n}function fs(t,e,n){return e&&!(0,s.zG)(e)&&(e=Rr.ZP.getLocalTransform(e)),n&&(e=Lr.U_([],e)),Pr.Ne([],t,e)}function ys(t,e,n){var i=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),o=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]);return i=fs(["left"===t?-i:"right"===t?i:0,"top"===t?-o:"bottom"===t?o:0],e,n),Math.abs(i[0])>Math.abs(i[1])?0<i[0]?"right":"left":0<i[1]?"bottom":"top"}function ms(t){return!t.isGroup}function vs(t,e,n){var i,o;function a(t){var e={x:t.x,y:t.y,rotation:t.rotation};return null!=t.shape&&(e.shape=(0,s.l7)({},t.shape)),e}t&&e&&(o={},t.traverse((function(t){ms(t)&&t.anid&&(o[t.anid]=t)})),i=o,e.traverse((function(t){var e,o;ms(t)&&t.anid&&(e=i[t.anid])&&(o=a(t),t.attr(a(e)),Se(t,o,n,yt(t).dataIndex))})))}function xs(t,e){return(0,s.UI)(t,(function(t){var n=t[0];return n=$r(n,e.x),n=Qr(n,e.x+e.width),t=t[1],t=$r(t,e.y),[n,Qr(t,e.y+e.height)]}))}function _s(t,e){var n=$r(t.x,e.x),i=Qr(t.x+t.width,e.x+e.width),o=$r(t.y,e.y);if(t=Qr(t.y+t.height,e.y+e.height),n<=i&&o<=t)return{x:n,y:o,width:i-n,height:t-o}}function Ss(t,e,n){var i=(e=(0,s.l7)({rectHover:!0},e)).style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(i.image=t.slice(8),(0,s.ce)(i,n),new Nr.ZP(e)):rs(t.replace("path://",""),e,n,"center")}function bs(t,e,n,i,o){for(var a=0,r=o[o.length-1];a<o.length;a++){var s=o[a];if(ws(t,e,n,i,s[0],s[1],r[0],r[1]))return!0;r=s}}function ws(t,e,n,i,o,a,r,s){var l,u=(r-=o)*(i-=e)-(n-=t)*(s-=a);return!((l=u)<=1e-6&&-1e-6<=l||(o=((l=t-o)*i-n*(t=e-a))/u)<0||1<o||(i=(l*s-r*t)/u)<0||1<i)}function Ms(t){var e=t.itemTooltipOption,n=t.componentModel,i=t.itemName,o=(e=(0,s.HD)(e)?{formatter:e}:e,n.mainType),a=(n=n.componentIndex,{componentType:o,name:i,$vars:["name"]}),r=(a[o+"Index"]=n,t.formatterParamsExtra);(r&&(0,s.S6)((0,s.XP)(r),(function(t){(0,s.RI)(a,t)||(a[t]=r[t],a.$vars.push(t))})),t=yt(t.el)).componentMainType=o,t.componentIndex=n,t.tooltipConfig={name:i,option:(0,s.ce)({content:i,encodeHTMLContent:!0,formatterParams:a},e)}}function Is(t,e){var n;(n=t.isGroup?e(t):n)||t.traverse(e)}function Ds(t,e){if(t)if((0,s.kJ)(t))for(var n=0;n<t.length;n++)Is(t[n],e);else Is(t,e)}os("circle",Or.Z),os("ellipse",Er.Z),os("sector",Vr.C),os("ring",zr.Z),os("polygon",Br.Z),os("polyline",Gr.Z),os("rect",Zr.Z),os("line",Wr.Z),os("bezierCurve",Fr.Z),os("arc",Hr.Z);var Ts=U(),Cs=Ar();function As(){this.group=new Dr.Z,this.uid=an("viewChart"),this.renderTask=na({plan:Ps,reset:Rs}),this.renderTask.context={view:this}}function ks(t,e,n){t&&fe(t)&&("emphasis"===e?Kt:qt)(t,n)}function Ls(t,e,n){var i,o=H(t,e),a=e&&null!=e.highlightKey?(e=e.highlightKey,i=null==(i=_t[e])&&xt<=32?_t[e]=xt++:i):null;null!=o?(0,s.S6)(N(o),(function(e){ks(t.getItemGraphicEl(e),n,a)})):t.eachItemGraphicEl((function(t){ks(t,n,a)}))}function Ps(t){return Cs(t.model)}function Rs(t){var e=t.model,n=t.ecModel,i=t.api,o=t.payload,a=e.pipelineContext.progressiveRender,r=(t=t.view,o&&Ts(o).updateMethod);return"render"!==(a=a?"incrementalPrepareRender":r&&t[r]?r:"render")&&t[a](e,n,i,o),Ns[a]}As.prototype.init=function(t,e){},As.prototype.render=function(t,e,n,i){},As.prototype.highlight=function(t,e,n,i){(t=t.getData(i&&i.dataType))&&Ls(t,i,"emphasis")},As.prototype.downplay=function(t,e,n,i){(t=t.getData(i&&i.dataType))&&Ls(t,i,"normal")},As.prototype.remove=function(t,e){this.group.removeAll()},As.prototype.dispose=function(t,e){},As.prototype.updateView=function(t,e,n,i){this.render(t,e,n,i)},As.prototype.updateLayout=function(t,e,n,i){this.render(t,e,n,i)},As.prototype.updateVisual=function(t,e,n,i){this.render(t,e,n,i)},As.prototype.eachRendered=function(t){Ds(this.group,t)},As.markUpdateMethod=function(t,e){Ts(t).updateMethod=e},As.protoInitialize=void(As.prototype.type="chart"),at(dt=As),ut(dt);var Ns={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},Os=dt,Es="\0__throttleOriginMethod",Vs="\0__throttleRate",zs="\0__throttleType";function Bs(t,e,n){var i,o,a,r,s,l=0,u=0,c=null;function h(){u=(new Date).getTime(),c=null,t.apply(a,r||[])}function d(){for(var t=[],d=0;d<arguments.length;d++)t[d]=arguments[d];i=(new Date).getTime(),a=this,r=t;var p=s||e,g=s||n;s=null,o=i-(g?l:u)-p,clearTimeout(c),g?c=setTimeout(h,p):0<=o?h():c=setTimeout(h,-o),l=i}return e=e||0,d.clear=function(){c&&(clearTimeout(c),c=null)},d.debounceNextCall=function(t){s=t},d}function Gs(t,e,n,i){var o=t[e];if(o){var a=o[Es]||o,r=o[zs];if(o[Vs]!==n||r!==i){if(null==n||!i)return t[e]=a;(o=t[e]=Bs(a,n,"debounce"===i))[Es]=a,o[zs]=i,o[Vs]=n}return o}}function Zs(t,e){var n=t[e];n&&n[Es]&&(n.clear&&n.clear(),t[e]=n[Es])}var Ws=U(),Fs={itemStyle:ct(ml,!0),lineStyle:ct(vl,!0)},Hs={lineStyle:"stroke",itemStyle:"fill"};function Us(t,e){return(t=t.visualStyleMapper||Fs[e])||(console.warn("Unknown style type '"+e+"'."),Fs.itemStyle)}function Xs(t,e){return(t=t.visualDrawType||Hs[e])||(console.warn("Unknown style type '"+e+"'."),"fill")}Qe={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData(),i=t.visualStyleAccessPath||"itemStyle",o=t.getModel(i),a=Us(t,i)(o),r=((o=o.getShallow("decal"))&&(n.setVisual("decal",o),o.dirty=!0),Xs(t,i)),l=(o=a[r],(0,s.mf)(o)?o:null);if(i="auto"===a.fill||"auto"===a.stroke,a[r]&&!l&&!i||(o=t.getColorFromPalette(t.name,null,e.getSeriesCount()),a[r]||(a[r]=o,n.setVisual("colorFromPalette",!0)),a.fill="auto"===a.fill||(0,s.mf)(a.fill)?o:a.fill,a.stroke="auto"===a.stroke||(0,s.mf)(a.stroke)?o:a.stroke),n.setVisual("style",a),n.setVisual("drawType",r),!e.isSeriesFiltered(t)&&l)return n.setVisual("colorFromPalette",!1),{dataEach:function(e,n){var i=t.getDataParams(n),o=(0,s.l7)({},a);o[r]=l(i),e.setItemVisual(n,"style",o)}}}};var Ys=new nn,Js=(Ye={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n,i,o;if(!t.ignoreStyleOnData&&!e.isSeriesFiltered(t))return e=t.getData(),n=t.visualStyleAccessPath||"itemStyle",i=Us(t,n),o=e.getVisual("drawType"),{dataEach:e.hasItemOption?function(t,e){var a,r=t.getRawDataItem(e);r&&r[n]&&(Ys.option=r[n],r=i(Ys),a=t.ensureUniqueItemVisual(e,"style"),(0,s.l7)(a,r),Ys.option.decal&&(t.setItemVisual(e,"decal",Ys.option.decal),Ys.option.decal.dirty=!0),o in r)&&t.setItemVisual(e,"colorFromPalette",!1)}:null}}},{performRawSeries:!0,overallReset:function(t){var e=(0,s.kW)();t.eachSeries((function(t){var n,i=t.getColorBy();t.isColorBySeries()||(i=t.type+"-"+i,(n=e.get(i))||e.set(i,n={}),Ws(t).scope=n)})),t.eachSeries((function(e){var n,i,o,a,r,s;e.isColorBySeries()||t.isSeriesFiltered(e)||(n=e.getRawData(),i={},o=e.getData(),a=Ws(e).scope,r=e.visualStyleAccessPath||"itemStyle",s=Xs(e,r),o.each((function(t){var e=o.getRawIndex(t);i[e]=t})),n.each((function(t){var r,l=i[t];o.getItemVisual(l,"colorFromPalette")&&(l=o.ensureUniqueItemVisual(l,"style"),t=n.getName(t)||t+"",r=n.count(),l[s]=e.getColorFromPalette(t,a,r))})))}))}}),js=Math.PI;function Ks(t,e,n,i){this._stageTaskMap=(0,s.kW)(),this.ecInstance=t,this.api=e,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}function qs(t){t.overallReset(t.ecModel,t.api,t.payload)}function $s(t){return t.overallProgress&&Qs}function Qs(){this.agent.dirty(),this.getDownstream().dirty()}function tl(){this.agent&&this.agent.dirty()}function el(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function nl(t){return t.useClearVisual&&t.data.clearAllVisual(),1<(t=t.resetDefines=N(t.reset(t.model,t.ecModel,t.api,t.payload))).length?(0,s.UI)(t,(function(t,e){return ol(e)})):il}Ks.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each((function(t){(t=t.overallTask)&&t.dirty()}))},Ks.prototype.getPerformArgs=function(t,e){var n,i;if(t.__pipeline)return i=(n=this._pipelineMap.get(t.__pipeline.id)).context,{step:e=!e&&n.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>n.blockIndex?n.step:null,modBy:null!=(t=i&&i.modDataCount)?Math.ceil(t/e):null,modDataCount:t}},Ks.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},Ks.prototype.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),i=t.getData().count(),o=(e=n.progressiveEnabled&&e.incrementalPrepareRender&&i>=n.threshold,t.get("large")&&i>=t.get("largeThreshold"));i="mod"===t.get("progressiveChunkMode")?i:null,t.pipelineContext=n.context={progressiveRender:e,modDataCount:i,large:o}},Ks.prototype.restorePipelines=function(t){var e=this,n=e._pipelineMap=(0,s.kW)();t.eachSeries((function(t){var i=t.getProgressive(),o=t.uid;n.set(o,{id:o,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:i&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),e._pipe(t,t.dataTask)}))},Ks.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),n=this.api;(0,s.S6)(this._allHandlers,(function(i){var o=t.get(i.uid)||t.set(i.uid,{});(0,s.hu)(!(i.reset&&i.overallReset),""),i.reset&&this._createSeriesStageTask(i,o,e,n),i.overallReset&&this._createOverallStageTask(i,o,e,n)}),this)},Ks.prototype.prepareView=function(t,e,n,i){var o=t.renderTask,a=o.context;a.model=e,a.ecModel=n,a.api=i,o.__block=!t.incrementalPrepareRender,this._pipe(e,o)},Ks.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},Ks.prototype.performVisualTasks=function(t,e,n){this._performStageTasks(this._visualHandlers,t,e,n)},Ks.prototype._performStageTasks=function(t,e,n,i){i=i||{};var o=!1,a=this;function r(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}(0,s.S6)(t,(function(t,s){var l,u,c,h,d;i.visualType&&i.visualType!==t.visualType||(l=(u=a._stageTaskMap.get(t.uid)).seriesTaskMap,(u=u.overallTask)?((h=u.agentStubMap).each((function(t){r(i,t)&&(t.dirty(),c=!0)})),c&&u.dirty(),a.updatePayload(u,n),d=a.getPerformArgs(u,i.block),h.each((function(t){t.perform(d)})),u.perform(d)&&(o=!0)):l&&l.each((function(s,l){r(i,s)&&s.dirty();var u=a.getPerformArgs(s,i.block);u.skip=!t.performRawSeries&&e.isSeriesFiltered(s.context.model),a.updatePayload(s,n),s.perform(u)&&(o=!0)})))})),this.unfinished=o||this.unfinished},Ks.prototype.performSeriesTasks=function(t){var e;t.eachSeries((function(t){e=t.dataTask.perform()||e})),this.unfinished=e||this.unfinished},Ks.prototype.plan=function(){this._pipelineMap.each((function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}}while(e=e.getUpstream())}))},Ks.prototype.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},Ks.prototype._createSeriesStageTask=function(t,e,n,i){var o=this,a=e.seriesTaskMap,r=e.seriesTaskMap=(0,s.kW)(),l=(e=t.seriesType,t.getTargetSeries);function u(e){var s=e.uid;(s=r.set(s,a&&a.get(s)||na({plan:el,reset:nl,count:al}))).context={model:e,ecModel:n,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:o},o._pipe(e,s)}t.createOnAllSeries?n.eachRawSeries(u):e?n.eachRawSeriesByType(e,u):l&&l(n,i).each(u)},Ks.prototype._createOverallStageTask=function(t,e,n,i){var o=this,a=e.overallTask=e.overallTask||na({reset:qs}),r=(a.context={ecModel:n,api:i,overallReset:t.overallReset,scheduler:o},a.agentStubMap),l=a.agentStubMap=(0,s.kW)(),u=(e=t.seriesType,t.getTargetSeries),c=!0,h=!1;function d(t){var e=t.uid;(e=l.set(e,r&&r.get(e)||(h=!0,na({reset:$s,onDirty:tl})))).context={model:t,overallProgress:c},e.agent=a,e.__block=c,o._pipe(t,e)}(0,s.hu)(!t.createOnAllSeries,""),e?n.eachRawSeriesByType(e,d):u?u(n,i).each(d):(c=!1,s.S6)(n.getSeries(),d),h&&a.dirty()},Ks.prototype._pipe=function(t,e){t=t.uid,(t=this._pipelineMap.get(t)).head||(t.head=e),t.tail&&t.tail.pipe(e),(t.tail=e).__idxInPipeline=t.count++,e.__pipeline=t},Ks.wrapStageHandler=function(t,e){return(t=(0,s.mf)(t)?{overallReset:t,seriesType:function(t){rl=null;try{t(sl,ll)}catch(t){}return rl}(t)}:t).uid=an("stageHandler"),e&&(t.visualType=e),t},yr=Ks;var il=ol(0);function ol(t){return function(e,n){var i=n.data,o=n.resetDefines[t];if(o&&o.dataEach)for(var a=e.start;a<e.end;a++)o.dataEach(i,a);else o&&o.progress&&o.progress(e,i)}}function al(t){return t.data.count()}var rl,sl={},ll={};function ul(t,e){for(var n in e.prototype)t[n]=s.ZT}function cl(){return{axisLine:{lineStyle:{color:dl}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}}ul(sl,qi),ul(ll,Ki),sl.eachSeriesByType=sl.eachRawSeriesByType=function(t){rl=t},sl.eachComponent=function(t){"series"===t.mainType&&t.subType&&(rl=t.subType)};var hl=yr,dl=(dt={color:je=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],je]},"#B9B8CE"),pl=((yr={darkMode:!0,color:vl=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],backgroundColor:ml="#100C2A",axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:dl},pageTextStyle:{color:dl}},textStyle:{color:dl},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:dl}},dataZoom:{borderColor:"#71708A",textStyle:{color:dl},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:dl}},timeline:{lineStyle:{color:dl},label:{color:dl},controlStyle:{color:dl,borderColor:dl}},calendar:{itemStyle:{color:ml},dayLabel:{color:dl},monthLabel:{color:dl},yearLabel:{color:dl}},timeAxis:cl(),logAxis:cl(),valueAxis:cl(),categoryAxis:cl(),line:{symbol:"circle"},graph:{color:vl},gauge:{title:{color:dl},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:dl},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}}).categoryAxis.splitLine.show=!1,je=yr,gl.prototype.normalizeQuery=function(t){var e,n,i,o={},a={},r={};return s.HD(t)?(e=ot(t),o.mainType=e.main||null,o.subType=e.sub||null):(n=["Index","Name","Id"],i={name:1,dataIndex:1,dataType:1},s.S6(t,(function(t,e){for(var s=!1,l=0;l<n.length;l++){var u=n[l],c=e.lastIndexOf(u);0<c&&c===e.length-u.length&&"data"!==(c=e.slice(0,c))&&(o.mainType=c,o[u.toLowerCase()]=t,s=!0)}i.hasOwnProperty(e)&&(a[e]=t,s=!0),s||(r[e]=t)}))),{cptQuery:o,dataQuery:a,otherQuery:r}},gl.prototype.filter=function(t,e){var n,i,o,a,r,s=this.eventInfo;return!s||(n=s.targetEl,i=s.packedEvent,o=s.model,s=s.view,!o)||!s||(a=e.cptQuery,r=e.dataQuery,l(a,o,"mainType")&&l(a,o,"subType")&&l(a,o,"index","componentIndex")&&l(a,o,"name")&&l(a,o,"id")&&l(r,i,"name")&&l(r,i,"dataIndex")&&l(r,i,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,e.otherQuery,n,i)));function l(t,e,n,i){return null==t[n]||e[i||n]===t[n]}},gl.prototype.afterTrigger=function(){this.eventInfo=null},gl);function gl(){}var fl=["symbol","symbolSize","symbolRotate","symbolOffset"],yl=fl.concat(["symbolKeepAspect"]),ml={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData();if(t.legendIcon&&n.setVisual("legendIcon",t.legendIcon),t.hasSymbolVisual){for(var i,o={},a={},r=!1,l=0;l<fl.length;l++){var u=fl[l],c=t.get(u);(0,s.mf)(c)?(r=!0,a[u]=c):o[u]=c}if(o.symbol=o.symbol||t.defaultSymbol,n.setVisual((0,s.l7)({legendIcon:t.legendIcon||o.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},o)),!e.isSeriesFiltered(t))return i=(0,s.XP)(a),{dataEach:r?function(e,n){for(var o=t.getRawValue(n),r=t.getDataParams(n),s=0;s<i.length;s++){var l=i[s];e.setItemVisual(n,l,a[l](o,r))}}:null}}}},vl={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(t.hasSymbolVisual&&!e.isSeriesFiltered(t))return{dataEach:t.getData().hasItemOption?function(t,e){for(var n=t.getItemModel(e),i=0;i<yl.length;i++){var o=yl[i],a=n.getShallow(o,!0);null!=a&&t.setItemVisual(e,o,a)}}:null}}};function xl(t,e,n){switch(n){case"color":return t.getItemVisual(e,"style")[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,n)}}function _l(t,e){switch(e){case"color":return t.getVisual("style")[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e)}}function Sl(t,e,n,i){switch(n){case"color":t.ensureUniqueItemVisual(e,"style")[t.getVisual("drawType")]=i,t.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":t.ensureUniqueItemVisual(e,"style").opacity=i;break;case"symbol":case"symbolSize":case"liftZ":t.setItemVisual(e,n,i)}}function bl(t,e){(0,s.S6)([[t+"ToggleSelect","toggleSelect"],[t+"Select","select"],[t+"UnSelect","unselect"]],(function(n){e(n[0],(function(e,i,o){var a;e=(0,s.l7)({},e),o.dispatchAction((0,s.l7)(e,{type:n[1],seriesIndex:(o=e,a=[],i.eachComponent({mainType:"series",subType:t,query:o},(function(t){a.push(t.seriesIndex)})),a)}))}))}))}function wl(t,e,n,i,o){var a=t+e;n.isSilent(a)||i.eachComponent({mainType:"series",subType:"pie"},(function(t){for(var e,i,r=t.seriesIndex,l=t.option.selectedMap,u=o.selected,c=0;c<u.length;c++)u[c].seriesIndex===r&&(i=H(e=t.getData(),o.fromActionPayload),n.trigger(a,{type:a,seriesId:t.id,name:(0,s.kJ)(i)?e.getName(i[0]):e.getName(i),selected:(0,s.HD)(l)?l:(0,s.l7)({},l)}))}))}function Ml(t,e,n){for(var i;t&&(!e(t)||(i=t,!n));)t=t.__hostTarget||t.parent;return i}yr=n(9188);var Il=n(1329),Dl=n(5882),Tl=vt.ZP.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,o=e.width/2;e=e.height/2,t.moveTo(n,i-e),t.lineTo(n+o,i+e),t.lineTo(n-o,i+e),t.closePath()}}),Cl=vt.ZP.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,o=e.width/2;e=e.height/2,t.moveTo(n,i-e),t.lineTo(n+o,i),t.lineTo(n,i+e),t.lineTo(n-o,i),t.closePath()}}),Al=vt.ZP.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,i=e.y,o=e.width/5*3,a=(e=Math.max(o,e.height),(o/=2)*o/(e-o)),r=(e=i-e+o+a,Math.asin(a/o)),s=Math.cos(r)*o,l=Math.sin(r),u=Math.cos(r),c=.6*o,h=.7*o;t.moveTo(n-s,e+a),t.arc(n,e,o,Math.PI-r,2*Math.PI+r),t.bezierCurveTo(n+s-l*c,e+a+u*c,n,i-h,n,i),t.bezierCurveTo(n,i-h,n-s+l*c,e+a+u*c,n-s,e+a),t.closePath()}}),kl=vt.ZP.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,i=e.width,o=e.x;e=e.y,i=i/3*2,t.moveTo(o,e),t.lineTo(o+i,e+n),t.lineTo(o,e+n/4*3),t.lineTo(o-i,e+n),t.lineTo(o,e),t.closePath()}}),Ll=(Cl={line:Wr.Z,rect:Zr.Z,roundRect:Zr.Z,square:Zr.Z,circle:Or.Z,diamond:Cl,pin:Al,arrow:kl,triangle:Tl},{line:function(t,e,n,i,o){o.x1=t,o.y1=e+i/2,o.x2=t+n,o.y2=e+i/2},rect:function(t,e,n,i,o){o.x=t,o.y=e,o.width=n,o.height=i},roundRect:function(t,e,n,i,o){o.x=t,o.y=e,o.width=n,o.height=i,o.r=Math.min(n,i)/4},square:function(t,e,n,i,o){n=Math.min(n,i),o.x=t,o.y=e,o.width=n,o.height=n},circle:function(t,e,n,i,o){o.cx=t+n/2,o.cy=e+i/2,o.r=Math.min(n,i)/2},diamond:function(t,e,n,i,o){o.cx=t+n/2,o.cy=e+i/2,o.width=n,o.height=i},pin:function(t,e,n,i,o){o.x=t+n/2,o.y=e+i/2,o.width=n,o.height=i},arrow:function(t,e,n,i,o){o.x=t+n/2,o.y=e+i/2,o.width=n,o.height=i},triangle:function(t,e,n,i,o){o.cx=t+n/2,o.cy=e+i/2,o.width=n,o.height=i}}),Pl={},Rl=((0,s.S6)(Cl,(function(t,e){Pl[e]=new t})),vt.ZP.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,n){t=(0,Dl.wI)(t,e,n);var i=this.shape;return i&&"pin"===i.symbolType&&"inside"===e.position&&(t.y=n.y+.4*n.height),t},buildPath:function(t,e,n){var i,o=e.symbolType;"none"!==o&&(i=(i=Pl[o])||Pl[o="rect"],Ll[o](e.x,e.y,e.width,e.height,i.shape),i.buildPath(t,i.shape,n))}}));function Nl(t,e){var n;"image"!==this.type&&(n=this.style,this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff",n.lineWidth=2):"line"===this.shape.symbolType?n.stroke=t:n.fill=t,this.markRedraw())}function Ol(t,e,n,i,o,a,r){var s=0===t.indexOf("empty");return(r=0===(t=s?t.substr(5,1).toLowerCase()+t.substr(6):t).indexOf("image://")?ss(t.slice(8),new sn.Z(e,n,i,o),r?"center":"cover"):0===t.indexOf("path://")?rs(t.slice(7),{},new sn.Z(e,n,i,o),r?"center":"cover"):new Rl({shape:{symbolType:t,x:e,y:n,width:i,height:o}})).__isEmptyBrush=s,r.setColor=Nl,a&&r.setColor(a),r}function El(t){return[(t=(0,s.kJ)(t)?t:[+t,+t])[0]||0,t[1]||0]}function Vl(t,e){if(null!=t)return[p((t=(0,s.kJ)(t)?t:[t,t])[0],e[0])||0,p((0,s.pD)(t[1],t[0]),e[1])||0]}var zl=n(9569),Bl=n(8523),Gl=new yr.Z,Zl=new Il.ZP(100),Wl=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Fl(t,e){if("none"===t)return null;var n=e.getDevicePixelRatio(),i=e.getZr(),o="svg"===i.painter.type;if(t.dirty&&Gl.delete(t),e=Gl.get(t))return e;for(var a,r=(0,s.ce)(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512}),l=("none"===r.backgroundColor&&(r.backgroundColor=null),e={repeat:"repeat"}),u=[n],c=!0,h=0;h<Wl.length;++h){var d=r[Wl[h]];if(null!=d&&!(0,s.kJ)(d)&&!(0,s.HD)(d)&&!(0,s.hj)(d)&&"boolean"!=typeof d){c=!1;break}u.push(d)}c&&(a=u.join(",")+(o?"-svg":""),x=Zl.get(a))&&(o?l.svgElement=x:l.image=x);var p,g=function t(e){if(!e||0===e.length)return[[0,0]];if((0,s.hj)(e))return[[a=Math.ceil(e),a]];for(var n=!0,i=0;i<e.length;++i)if(!(0,s.hj)(e[i])){n=!1;break}if(n)return t([e]);var o=[];for(i=0;i<e.length;++i){var a;(0,s.hj)(e[i])?(a=Math.ceil(e[i]),o.push([a,a])):(a=(0,s.UI)(e[i],(function(t){return Math.ceil(t)}))).length%2==1?o.push(a.concat(a)):o.push(a)}return o}(r.dashArrayX),f=function(t){if(!t||"object"==typeof t&&0===t.length)return[0,0];if((0,s.hj)(t))return[e=Math.ceil(t),e];var e=(0,s.UI)(t,(function(t){return Math.ceil(t)}));return t.length%2?e.concat(e):e}(r.dashArrayY),y=function t(e){if(!e||0===e.length)return[["rect"]];if((0,s.HD)(e))return[[e]];for(var n=!0,i=0;i<e.length;++i)if(!(0,s.HD)(e[i])){n=!1;break}if(n)return t([e]);var o=[];for(i=0;i<e.length;++i)(0,s.HD)(e[i])?o.push([e[i]]):o.push(e[i]);return o}(r.symbol),m=function(t){return(0,s.UI)(t,Hl)}(g),v=Hl(f),x=!o&&Bl.qW.createCanvas(),_=o&&{tag:"g",attrs:{},key:"dcl",children:[]},S=function(){for(var t=1,e=0,n=m.length;e<n;++e)t=k(t,m[e]);var i=1;for(e=0,n=y.length;e<n;++e)i=k(i,y[e].length);t*=i;var o=v*m.length*y.length;return{width:Math.max(1,Math.min(t,r.maxTileWidth)),height:Math.max(1,Math.min(o,r.maxTileHeight))}}();x&&(x.width=S.width*n,x.height=S.height*n,p=x.getContext("2d")),p&&(p.clearRect(0,0,x.width,x.height),r.backgroundColor)&&(p.fillStyle=r.backgroundColor,p.fillRect(0,0,x.width,x.height));for(var b=0,w=0;w<f.length;++w)b+=f[w];if(!(b<=0))for(var M=-v,I=0,D=0,T=0;M<S.height;){if(I%2==0){for(var C=D/2%y.length,A=0,L=0,P=0;A<2*S.width;){var R,N,O,E,V,z=0;for(w=0;w<g[T].length;++w)z+=g[T][w];if(z<=0)break;L%2==0&&(N=.5*(1-r.symbolSize),R=A+g[T][L]*N,N=M+f[I]*N,O=g[T][L]*r.symbolSize,E=f[I]*r.symbolSize,V=P/2%y[C].length,function(t,e,a,s,l){var u=o?1:n;l=Ol(l,t*u,e*u,a*u,s*u,r.color,r.symbolKeepAspect),o?(t=i.painter.renderOneToVNode(l))&&_.children.push(t):(0,zl.RV)(p,l)}(R,N,O,E,y[C][V])),A+=g[T][L],++P,++L===g[T].length&&(L=0)}++T===g.length&&(T=0)}M+=f[I],++D,++I===f.length&&(I=0)}return c&&Zl.put(a,x||_),l.image=x,l.svgElement=_,l.svgWidth=S.width,l.svgHeight=S.height,e.rotation=r.rotation,e.scaleX=e.scaleY=o?1:1/n,Gl.set(t,e),t.dirty=!1,e}function Hl(t){for(var e=0,n=0;n<t.length;++n)e+=t[n];return t.length%2==1?2*e:e}var Ul=new c.Z,Xl={},Yl=(Al={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},"__flagInMainProcess"),Jl="__pendingUpdate",jl="__needsUpdateStatus",Kl=/^[a-zA-Z0-9_]+$/,ql="__connectUpdateStatus";function $l(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!this.isDisposed())return tu(this,t,e);this.id}}function Ql(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return tu(this,t,e)}}function tu(t,e,n){return n[0]=n[0]&&n[0].toLowerCase(),c.Z.prototype[e].apply(t,n)}a(iu,eu=c.Z);var eu,nu=iu;function iu(){return null!==eu&&eu.apply(this,arguments)||this}var ou,au,ru,su,lu,uu,cu,hu,du,pu,gu,fu,yu,mu,vu,xu,_u,Su,bu,wu=((kl=nu.prototype).on=Ql("on"),kl.off=Ql("off"),a(Mu,bu=c.Z),Mu.prototype._onframe=function(){if(!this._disposed){Su(this);var t=this._scheduler;if(this[Jl]){var e=this[Jl].silent;this[Yl]=!0;try{ou(this),su.update.call(this,null,this[Jl].updateParams)}catch(t){throw this[Yl]=!1,this[Jl]=null,t}this._zr.flush(),this[Yl]=!1,this[Jl]=null,hu.call(this,e),du.call(this,e)}else if(t.unfinished){var n=1,i=this._model,o=this._api;t.unfinished=!1;do{var a=+new Date}while(t.performSeriesTasks(i),t.performDataProcessorTasks(i),uu(this,i),t.performVisualTasks(i),mu(this,this._model,o,"remain",{}),0<(n-=+new Date-a)&&t.unfinished);t.unfinished||this._zr.flush()}}},Mu.prototype.getDom=function(){return this._dom},Mu.prototype.getId=function(){return this.id},Mu.prototype.getZr=function(){return this._zr},Mu.prototype.isSSR=function(){return this._ssr},Mu.prototype.setOption=function(t,e,n){if(!this[Yl])if(this._disposed)this.id;else{(0,s.Kn)(e)&&(n=e.lazyUpdate,i=e.silent,o=e.replaceMerge,a=e.transition,e=e.notMerge),this[Yl]=!0,this._model&&!e||(e=new oo(this._api),r=this._theme,(l=this._model=new qi).scheduler=this._scheduler,l.ssr=this._ssr,l.init(null,null,null,r,this._locale,e)),this._model.setOption(t,{replaceMerge:o},Nu);var i,o,a,r,l={seriesTransition:a,optionChanged:!0};if(n)this[Jl]={silent:i,updateParams:l},this[Yl]=!1,this.getZr().wakeUp();else{try{ou(this),su.update.call(this,null,l)}catch(t){throw this[Jl]=null,this[Yl]=!1,t}this._ssr||this._zr.flush(),this[Jl]=null,this[Yl]=!1,hu.call(this,i),du.call(this,i)}}},Mu.prototype.setTheme=function(){},Mu.prototype.getModel=function(){return this._model},Mu.prototype.getOption=function(){return this._model&&this._model.getOption()},Mu.prototype.getWidth=function(){return this._zr.getWidth()},Mu.prototype.getHeight=function(){return this._zr.getHeight()},Mu.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||l.Z.hasGlobalWindow&&window.devicePixelRatio||1},Mu.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},Mu.prototype.renderToCanvas=function(t){return this._zr.painter.getRenderedCanvas({backgroundColor:(t=t||{}).backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},Mu.prototype.renderToSVGString=function(t){return this._zr.painter.renderToString({useViewBox:(t=t||{}).useViewBox})},Mu.prototype.getSvgDataURL=function(){var t,e;if(l.Z.svgSupported)return e=(t=this._zr).storage.getDisplayList(),(0,s.S6)(e,(function(t){t.stopAnimation(null,!0)})),t.painter.toDataURL()},Mu.prototype.getDataURL=function(t){var e,n,i,o;if(!this._disposed)return o=(t=t||{}).excludeComponents,e=this._model,n=[],i=this,(0,s.S6)(o,(function(t){e.eachComponent({mainType:t},(function(t){(t=i._componentsMap[t.__viewId]).group.ignore||(n.push(t),t.group.ignore=!0)}))})),o="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png")),(0,s.S6)(n,(function(t){t.group.ignore=!1})),o;this.id},Mu.prototype.getConnectedDataURL=function(t){var e,n,i,o,a,l,u,c,h,d,p,g,f,y,m;if(!this._disposed)return e="svg"===t.type,n=this.group,i=Math.min,o=Math.max,Bu[n]?(l=a=1/0,c=u=-1/0,h=[],d=t&&t.pixelRatio||this.getDevicePixelRatio(),(0,s.S6)(zu,(function(r,d){var p;r.group===n&&(p=e?r.getZr().painter.getSvgDom().innerHTML:r.renderToCanvas((0,s.d9)(t)),r=r.getDom().getBoundingClientRect(),a=i(r.left,a),l=i(r.top,l),u=o(r.right,u),c=o(r.bottom,c),h.push({dom:p,left:r.left,top:r.top}))})),p=(u*=d)-(a*=d),g=(c*=d)-(l*=d),f=Bl.qW.createCanvas(),(y=r.S1(f,{renderer:e?"svg":"canvas"})).resize({width:p,height:g}),e?((m="",s.S6)(h,(function(t){var e=t.left-a,n=t.top-l;m+='<g transform="translate('+e+","+n+')">'+t.dom+"</g>"})),y.painter.getSvgRoot().innerHTML=m,t.connectedBackgroundColor&&y.painter.setBackgroundColor(t.connectedBackgroundColor),y.refreshImmediately(),y.painter.toDataURL()):(t.connectedBackgroundColor&&y.add(new Zr.Z({shape:{x:0,y:0,width:p,height:g},style:{fill:t.connectedBackgroundColor}})),(0,s.S6)(h,(function(t){t=new Nr.ZP({style:{x:t.left*d-a,y:t.top*d-l,image:t.dom}}),y.add(t)})),y.refreshImmediately(),f.toDataURL("image/"+(t&&t.type||"png")))):this.getDataURL(t);this.id},Mu.prototype.convertToPixel=function(t,e){return lu(this,"convertToPixel",t,e)},Mu.prototype.convertFromPixel=function(t,e){return lu(this,"convertFromPixel",t,e)},Mu.prototype.containPixel=function(t,e){var n;if(!this._disposed)return t=Y(this._model,t),(0,s.S6)(t,(function(t,i){0<=i.indexOf("Models")&&(0,s.S6)(t,(function(t){var o=t.coordinateSystem;o&&o.containPoint?n=n||!!o.containPoint(e):"seriesModels"===i&&(o=this._chartsMap[t.__viewId])&&o.containPoint&&(n=n||o.containPoint(e,t))}),this)}),this),!!n;this.id},Mu.prototype.getVisual=function(t,e){var n=(t=Y(this._model,t,{defaultMainType:"series"})).seriesModel.getData();return null!=(t=t.hasOwnProperty("dataIndexInside")?t.dataIndexInside:t.hasOwnProperty("dataIndex")?n.indexOfRawIndex(t.dataIndex):null)?xl(n,t,e):_l(n,e)},Mu.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},Mu.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},Mu.prototype._initEvents=function(){var t,e,n,i=this;(0,s.S6)(ku,(function(t){function e(e){var n,o,a,r=i.getModel(),l=e.target;"globalout"===t?n={}:l&&Ml(l,(function(t){var e;return(t=yt(t))&&null!=t.dataIndex?(e=t.dataModel||r.getSeriesByIndex(t.seriesIndex),n=e&&e.getDataParams(t.dataIndex,t.dataType,l)||{},1):t.eventData&&(n=(0,s.l7)({},t.eventData),1)}),!0),n&&(o=n.componentType,a=n.componentIndex,"markLine"!==o&&"markPoint"!==o&&"markArea"!==o||(o="series",a=n.seriesIndex),a=(o=o&&null!=a&&r.getComponent(o,a))&&i["series"===o.mainType?"_chartsMap":"_componentsMap"][o.__viewId],n.event=e,n.type=t,i._$eventProcessor.eventInfo={targetEl:l,packedEvent:n,model:o,view:a},i.trigger(t,n))}e.zrEventfulCallAtLast=!0,i._zr.on(t,e,i)})),(0,s.S6)(Pu,(function(t,e){i._messageCenter.on(e,(function(t){this.trigger(e,t)}),i)})),(0,s.S6)(["selectchanged"],(function(t){i._messageCenter.on(t,(function(e){this.trigger(t,e)}),i)})),t=this._messageCenter,n=(e=this)._api,t.on("selectchanged",(function(t){var i=n.getModel();t.isFromClick?(wl("map","selectchanged",e,i,t),wl("pie","selectchanged",e,i,t)):"select"===t.fromAction?(wl("map","selected",e,i,t),wl("pie","selected",e,i,t)):"unselect"===t.fromAction&&(wl("map","unselected",e,i,t),wl("pie","unselected",e,i,t))}))},Mu.prototype.isDisposed=function(){return this._disposed},Mu.prototype.clear=function(){this._disposed?this.id:this.setOption({series:[]},!0)},Mu.prototype.dispose=function(){var t,e,n;this._disposed?this.id:(this._disposed=!0,this.getDom()&&$(this.getDom(),Zu,""),e=(t=this)._api,n=t._model,(0,s.S6)(t._componentsViews,(function(t){t.dispose(n,e)})),(0,s.S6)(t._chartsViews,(function(t){t.dispose(n,e)})),t._zr.dispose(),t._dom=t._model=t._chartsMap=t._componentsMap=t._chartsViews=t._componentsViews=t._scheduler=t._api=t._zr=t._throttledZrFlush=t._theme=t._coordSysMgr=t._messageCenter=null,delete zu[t.id])},Mu.prototype.resize=function(t){if(!this[Yl])if(this._disposed)this.id;else{this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){e=e.resetOption("media");var n=t&&t.silent;this[Jl]&&(null==n&&(n=this[Jl].silent),e=!0,this[Jl]=null),this[Yl]=!0;try{e&&ou(this),su.update.call(this,{type:"resize",animation:(0,s.l7)({duration:0},t&&t.animation)})}catch(t){throw this[Yl]=!1,t}this[Yl]=!1,hu.call(this,n),du.call(this,n)}}},Mu.prototype.showLoading=function(t,e){this._disposed?this.id:((0,s.Kn)(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),Vu[t]&&(t=Vu[t](this._api,e),e=this._zr,this._loadingFX=t,e.add(t)))},Mu.prototype.hideLoading=function(){this._disposed?this.id:(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},Mu.prototype.makeActionFromEvent=function(t){var e=(0,s.l7)({},t);return e.type=Pu[t.type],e},Mu.prototype.dispatchAction=function(t,e){var n;this._disposed?this.id:((0,s.Kn)(e)||(e={silent:!!e}),Lu[t.type]&&this._model&&(this[Yl]?this._pendingActions.push(t):(n=e.silent,cu.call(this,t,n),(t=e.flush)?this._zr.flush():!1!==t&&l.Z.browser.weChat&&this._throttledZrFlush(),hu.call(this,n),du.call(this,n))))},Mu.prototype.updateLabelLayout=function(){Ul.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},Mu.prototype.appendData=function(t){var e;this._disposed?this.id:(e=t.seriesIndex,this.getModel().getSeriesByIndex(e).appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp())},Mu.internalField=(ou=function(t){var e=t._scheduler;e.restorePipelines(t._model),e.prepareStageTasks(),au(t,!0),au(t,!1),e.plan()},au=function(t,e){for(var n=t._model,i=t._scheduler,o=e?t._componentsViews:t._chartsViews,a=e?t._componentsMap:t._chartsMap,r=t._zr,s=t._api,l=0;l<o.length;l++)o[l].__alive=!1;function u(t){var l,u=t.__requireNewView,c=(t.__requireNewView=!1,"_ec_"+t.id+"_"+t.type);(u=!u&&a[c])||(l=ot(t.type),(u=new(e?Cr.getClass(l.main,l.sub):Os.getClass(l.sub))).init(n,s),a[c]=u,o.push(u),r.add(u.group)),t.__viewId=u.__id=c,u.__alive=!0,u.__model=t,u.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},e||i.prepareView(u,t,n,s)}for(e?n.eachComponent((function(t,e){"series"!==t&&u(e)})):n.eachSeries(u),l=0;l<o.length;){var c=o[l];c.__alive?l++:(e||c.renderTask.dispose(),r.remove(c.group),c.dispose(n,s),o.splice(l,1),a[c.__id]===c&&delete a[c.__id],c.__id=c.group.__ecComponentInfo=null)}},ru=function(t,e,n,i,o){var a,r,l=t._model;function u(i){i&&i.__alive&&i[e]&&i[e](i.__model,l,t._api,n)}l.setUpdatePayload(n),i?((a={})[i+"Id"]=n[i+"Id"],a[i+"Index"]=n[i+"Index"],a[i+"Name"]=n[i+"Name"],a={mainType:i,query:a},o&&(a.subType=o),null!=(o=n.excludeSeriesId)&&(r=(0,s.kW)(),(0,s.S6)(N(o),(function(t){null!=(t=Z(t,null))&&r.set(t,!0)}))),l&&l.eachComponent(a,(function(e){var i,o;if(!(a=r&&null!=r.get(e.id)))if(me(n))if(e instanceof Ir){if(n.type===kt&&!n.notBlur&&!e.get(["emphasis","disabled"])){var a=e,l=n,u=t._api,c=a.seriesIndex,h=a.getData(l.dataType);if(h){l=H(h,l),l=((0,s.kJ)(l)?l[0]:l)||0;var d=h.getItemGraphicEl(l);if(!d)for(var p=h.count(),g=0;!d&&g<p;)d=h.getItemGraphicEl(g++);d?oe(c,(l=yt(d)).focus,l.blurScope,u):(l=a.get(["emphasis","focus"]),a=a.get(["emphasis","blurScope"]),null!=l&&oe(c,l,a,u))}}}else l=(c=re(e.mainType,e.componentIndex,n.name,t._api)).focusSelf,a=c.dispatchers,n.type===kt&&l&&!n.notBlur&&ae(e.mainType,e.componentIndex,t._api),a&&(0,s.S6)(a,(function(t){(n.type===kt?Kt:qt)(t)}));else ye(n)&&e instanceof Ir&&(u=e,a=n,t._api,ye(a)&&(i=a.dataType,o=H(u.getData(i),a),(0,s.kJ)(o)||(o=[o]),u[a.type===Nt?"toggleSelect":a.type===Pt?"select":"unselect"](o,i)),se(e),_u(t))}),t),l&&l.eachComponent(a,(function(e){r&&null!=r.get(e.id)||u(t["series"===i?"_chartsMap":"_componentsMap"][e.__viewId])}),t)):(0,s.S6)([].concat(t._componentsViews).concat(t._chartsViews),u)},su={prepareAndUpdate:function(t){ou(this),su.update.call(this,t,{optionChanged:null!=t.newOption})},update:function(t,e){var n=this._model,i=this._api,o=this._zr,a=this._coordSysMgr,r=this._scheduler;n&&(n.setUpdatePayload(t),r.restoreData(n,t),r.performSeriesTasks(n),a.create(n,i),r.performDataProcessorTasks(n,t),uu(this,n),a.update(n,i),Iu(n),r.performVisualTasks(n,t),fu(this,n,i,t,e),a=n.get("backgroundColor")||"transparent",r=n.get("darkMode"),o.setBackgroundColor(a),null!=r&&"auto"!==r&&o.setDarkMode(r),Ul.trigger("afterupdate",n,i))},updateTransform:function(t){var e,n,i=this,o=this._model,a=this._api;o&&(o.setUpdatePayload(t),e=[],o.eachComponent((function(n,r){"series"!==n&&(n=i.getViewOfComponentModel(r))&&n.__alive&&(!n.updateTransform||(r=n.updateTransform(r,o,a,t))&&r.update)&&e.push(n)})),n=(0,s.kW)(),o.eachSeries((function(e){var r=i._chartsMap[e.__viewId];(!r.updateTransform||(r=r.updateTransform(e,o,a,t))&&r.update)&&n.set(e.uid,1)})),Iu(o),this._scheduler.performVisualTasks(o,t,{setDirty:!0,dirtyMap:n}),mu(this,o,a,t,{},n),Ul.trigger("afterupdate",o,a))},updateView:function(t){var e=this._model;e&&(e.setUpdatePayload(t),Os.markUpdateMethod(t,"updateView"),Iu(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),fu(this,e,this._api,t,{}),Ul.trigger("afterupdate",e,this._api))},updateVisual:function(t){var e=this,n=this._model;n&&(n.setUpdatePayload(t),n.eachSeries((function(t){t.getData().clearAllVisual()})),Os.markUpdateMethod(t,"updateVisual"),Iu(n),this._scheduler.performVisualTasks(n,t,{visualType:"visual",setDirty:!0}),n.eachComponent((function(i,o){"series"!==i&&(i=e.getViewOfComponentModel(o))&&i.__alive&&i.updateVisual(o,n,e._api,t)})),n.eachSeries((function(i){e._chartsMap[i.__viewId].updateVisual(i,n,e._api,t)})),Ul.trigger("afterupdate",n,this._api))},updateLayout:function(t){su.update.call(this,t)}},lu=function(t,e,n,i){if(t._disposed)t.id;else for(var o=t._model,a=t._coordSysMgr.getCoordinateSystems(),r=Y(o,n),s=0;s<a.length;s++){var l=a[s];if(l[e]&&null!=(l=l[e](o,r,i)))return l}},uu=function(t,e){var n=t._chartsMap,i=t._scheduler;e.eachSeries((function(t){i.updateStreamModes(t,n[t.__viewId])}))},cu=function(t,e){var n,i,o=this,a=this.getModel(),r=t.type,l=t.escapeConnect,u=Lu[r],c=u.actionInfo,h=(p=(c.update||"update").split(":")).pop(),d=null!=p[0]&&ot(p[0]),p=(this[Yl]=!0,[t]),g=!1,f=(t.batch&&(g=!0,p=(0,s.UI)(t.batch,(function(e){return(e=(0,s.ce)((0,s.l7)({},e),t)).batch=null,e}))),[]),y=ye(t),m=me(t);if(m&&ie(this._api),(0,s.S6)(p,(function(e){var i,a;(n=(n=u.action(e,o._model,o._api))||(0,s.l7)({},e)).type=c.event||n.type,f.push(n),m?(i=(a=J(t)).queryOptionMap,a=a.mainTypeSpecified?i.keys()[0]:"series",ru(o,h,e,a),_u(o)):y?(ru(o,h,e,"series"),_u(o)):d&&ru(o,h,e,d.main,d.sub)})),"none"!==h&&!m&&!y&&!d)try{this[Jl]?(ou(this),su.update.call(this,t),this[Jl]=null):su[h].call(this,t)}catch(e){throw this[Yl]=!1,e}n=g?{type:c.event||r,escapeConnect:l,batch:f}:f[0],this[Yl]=!1,e||((p=this._messageCenter).trigger(n.type,n),y&&(g={type:"selectchanged",escapeConnect:l,selected:(i=[],a.eachSeries((function(t){var e=t.getAllData();(0,s.S6)(e,(function(e){e.data,e=e.type;var n=t.getSelectedDataIndices();0<n.length&&(n={dataIndex:n,seriesIndex:t.seriesIndex},null!=e&&(n.dataType=e),i.push(n))}))})),i),isFromClick:t.isFromClick||!1,fromAction:t.type,fromActionPayload:t},p.trigger(g.type,g)))},hu=function(t){for(var e=this._pendingActions;e.length;){var n=e.shift();cu.call(this,n,t)}},du=function(t){t||this.trigger("updated")},pu=function(t,e){t.on("rendered",(function(n){e.trigger("rendered",n),!t.animation.isFinished()||e[Jl]||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")}))},gu=function(t,e){t.on("mouseover",(function(t){var n,i,o,a,r=Ml(t.target,fe);r&&(n=t,t=e._api,o=(a=re((i=yt(r)).componentMainType,i.componentIndex,i.componentHighDownName,t)).dispatchers,a=a.focusSelf,o?(a&&ae(i.componentMainType,i.componentIndex,t),(0,s.S6)(o,(function(t){return Jt(t,n)}))):(oe(i.seriesIndex,i.focus,i.blurScope,t),"self"===i.focus&&ae(i.componentMainType,i.componentIndex,t),Jt(r,n)),_u(e))})).on("mouseout",(function(t){var n,i,o=Ml(t.target,fe);o&&(n=t,ie(t=e._api),(i=re((i=yt(o)).componentMainType,i.componentIndex,i.componentHighDownName,t).dispatchers)?(0,s.S6)(i,(function(t){return jt(t,n)})):jt(o,n),_u(e))})).on("click",(function(t){var n;(t=Ml(t.target,(function(t){return null!=yt(t).dataIndex}),!0))&&(n=t.selected?"unselect":"select",t=yt(t),e._api.dispatchAction({type:n,dataType:t.dataType,dataIndexInside:t.dataIndex,seriesIndex:t.seriesIndex,isFromClick:!0}))}))},fu=function(t,e,n,i,o){var a,r,l,c,h,d,p;h=[],p=!(d=[]),(a=e).eachComponent((function(t,e){var n=e.get("zlevel")||0,i=e.get("z")||0,o=e.getZLevelKey();p=p||!!o,("series"===t?d:h).push({zlevel:n,z:i,idx:e.componentIndex,type:t,key:o})})),p&&(r=h.concat(d),(0,u.Z)(r,(function(t,e){return t.zlevel===e.zlevel?t.z-e.z:t.zlevel-e.zlevel})),(0,s.S6)(r,(function(t){var e=a.getComponent(t.type,t.idx),n=t.zlevel;t=t.key,null!=l&&(n=Math.max(l,n)),t?(n===l&&t!==c&&n++,c=t):c&&(n===l&&n++,c=""),l=n,e.setZLevel(n)}))),yu(t,e,n,i,o),(0,s.S6)(t._chartsViews,(function(t){t.__alive=!1})),mu(t,e,n,i,o),(0,s.S6)(t._chartsViews,(function(t){t.__alive||t.remove(e,n)}))},yu=function(t,e,n,i,o,a){(0,s.S6)(a||t._componentsViews,(function(t){var o=t.__model;Cu(0,t),t.render(o,e,n,i),Tu(o,t),Au(o,t)}))},mu=function(t,e,n,i,o,a){var r,u,c,h,d=t._scheduler,p=(o=(0,s.l7)(o||{},{updatedSeries:e.getSeries()}),Ul.trigger("series:beforeupdate",e,n,o),!1);e.eachSeries((function(e){var n,o=t._chartsMap[e.__viewId],r=(o.__alive=!0,o.renderTask);d.updatePayload(r,i),Cu(0,o),a&&a.get(e.uid)&&r.dirty(),r.perform(d.getPerformArgs(r))&&(p=!0),o.group.silent=!!e.get("silent"),r=o,n=e.get("blendMode")||null,r.eachRendered((function(t){t.isGroup||(t.style.blend=n)})),se(e)})),d.unfinished=p||d.unfinished,Ul.trigger("series:layoutlabels",e,n,o),Ul.trigger("series:transition",e,n,o),e.eachSeries((function(e){var n=t._chartsMap[e.__viewId];Tu(e,n),Au(e,n)})),u=e,c=(r=t)._zr.storage,h=0,c.traverse((function(t){t.isGroup||h++})),h>u.get("hoverLayerThreshold")&&!l.Z.node&&!l.Z.worker&&u.eachSeries((function(t){t.preventUsingHoverLayer||(t=r._chartsMap[t.__viewId]).__alive&&t.eachRendered((function(t){t.states.emphasis&&(t.states.emphasis.hoverLayer=!0)}))})),Ul.trigger("series:afterupdate",e,n,o)},_u=function(t){t[jl]=!0,t.getZr().wakeUp()},Su=function(t){t[jl]&&(t.getZr().storage.traverse((function(t){we(t)||Du(t)})),t[jl]=!1)},vu=function(t){return a(e,n=Ki),e.prototype.getCoordinateSystems=function(){return t._coordSysMgr.getCoordinateSystems()},e.prototype.getComponentByElement=function(e){for(;e;){var n=e.__ecComponentInfo;if(null!=n)return t._model.getComponent(n.mainType,n.index);e=e.parent}},e.prototype.enterEmphasis=function(e,n){Kt(e,n),_u(t)},e.prototype.leaveEmphasis=function(e,n){qt(e,n),_u(t)},e.prototype.enterBlur=function(e){$t(e),_u(t)},e.prototype.leaveBlur=function(e){Qt(e),_u(t)},e.prototype.enterSelect=function(e){te(e),_u(t)},e.prototype.leaveSelect=function(e){ee(e),_u(t)},e.prototype.getModel=function(){return t.getModel()},e.prototype.getViewOfComponentModel=function(e){return t.getViewOfComponentModel(e)},e.prototype.getViewOfSeriesModel=function(e){return t.getViewOfSeriesModel(e)},new e(t);function e(){return null!==n&&n.apply(this,arguments)||this}var n},void(xu=function(t){function e(t,e){for(var n=0;n<t.length;n++)t[n][ql]=e}(0,s.S6)(Pu,(function(n,i){t._messageCenter.on(i,(function(n){var i,o;!Bu[t.group]||0===t[ql]||n&&n.escapeConnect||(i=t.makeActionFromEvent(n),o=[],(0,s.S6)(zu,(function(e){e!==t&&e.group===t.group&&o.push(e)})),e(o,0),(0,s.S6)(o,(function(t){1!==t[ql]&&t.dispatchAction(i)})),e(o,2))}))}))})),Mu);function Mu(t,e,n){var i=bu.call(this,new pl)||this;function o(t,e){return t.__prio-e.__prio}return i._chartsViews=[],i._chartsMap={},i._componentsViews=[],i._componentsMap={},i._pendingActions=[],n=n||{},(0,s.HD)(e)&&(e=Eu[e]),i._dom=t,n.ssr&&r.Qq((function(t){var e,n=(t=yt(t)).dataIndex;if(null!=n)return(e=(0,s.kW)()).set("series_index",t.seriesIndex),e.set("data_index",n),t.ssrType&&e.set("ssr_type",t.ssrType),e})),t=i._zr=r.S1(t,{renderer:n.renderer||"canvas",devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height,ssr:n.ssr,useDirtyRect:(0,s.pD)(n.useDirtyRect,!1),useCoarsePointer:(0,s.pD)(n.useCoarsePointer,"auto"),pointerSize:n.pointerSize}),i._ssr=n.ssr,i._throttledZrFlush=Bs((0,s.ak)(t.flush,t),17),(e=(0,s.d9)(e))&&wo(e,!0),i._theme=e,i._locale=(e=n.locale||gn,(0,s.HD)(e)?(n=dn[e.toUpperCase()]||{},e===un||e===cn?(0,s.d9)(n):(0,s.TS)((0,s.d9)(n),(0,s.d9)(dn[hn]),!1)):(0,s.TS)((0,s.d9)(e),(0,s.d9)(dn[hn]),!1)),i._coordSysMgr=new eo,n=i._api=vu(i),(0,u.Z)(Ou,o),(0,u.Z)(Ru,o),i._scheduler=new hl(i,n,Ru,Ou),i._messageCenter=new nu,i._initEvents(),i.resize=(0,s.ak)(i.resize,i),t.animation.on("frame",i._onframe,i),pu(t,i),gu(t,i),(0,s.s7)(i),i}function Iu(t){t.clearColorPalette(),t.eachSeries((function(t){t.clearColorPalette()}))}function Du(t){for(var e=[],n=t.currentStates,i=0;i<n.length;i++){var o=n[i];"emphasis"!==o&&"blur"!==o&&"select"!==o&&e.push(o)}t.selected&&t.states.select&&e.push("select"),t.hoverState===It&&t.states.emphasis?e.push("emphasis"):t.hoverState===Mt&&t.states.blur&&e.push("blur"),t.useStates(e)}function Tu(t,e){var n,i;t.preventAutoZ||(n=t.get("z")||0,i=t.get("zlevel")||0,e.eachRendered((function(t){return function t(e,n,i,o){var a=e.getTextContent(),r=e.getTextGuideLine(),s=e.isGroup;if(s)for(var l=e.childrenRef(),u=0;u<l.length;u++)o=Math.max(t(l[u],n,i,o),o);else e.z=n,e.zlevel=i,o=Math.max(e.z2,o);return a&&(a.z=n,a.zlevel=i,isFinite(o))&&(a.z2=o+2),r&&(s=e.textGuideLineConfig,r.z=n,r.zlevel=i,isFinite(o))&&(r.z2=o+(s&&s.showAbove?1:-1)),o}(t,n,i,-1/0),!0})))}function Cu(t,e){e.eachRendered((function(t){var e,n;we(t)||(e=t.getTextContent(),n=t.getTextGuideLine(),t.stateTransition&&(t.stateTransition=null),e&&e.stateTransition&&(e.stateTransition=null),n&&n.stateTransition&&(n.stateTransition=null),t.hasState()?(t.prevStates=t.currentStates,t.clearStates()):t.prevStates&&(t.prevStates=null))}))}function Au(t,e){var n=t.getModel("stateAnimation"),i=t.isAnimationEnabled(),o=0<(t=n.get("duration"))?{duration:t,delay:n.get("delay"),easing:n.get("easing")}:null;e.eachRendered((function(t){var e,n,a;t.states&&t.states.emphasis&&(we(t)||(t instanceof vt.ZP&&((a=St(n=t)).normalFill=n.style.fill,a.normalStroke=n.style.stroke,n=n.states.select||{},a.selectFill=n.style&&n.style.fill||null,a.selectStroke=n.style&&n.style.stroke||null),t.__dirty&&(a=t.prevStates)&&t.useStates(a),i&&(t.stateTransition=o,n=t.getTextContent(),e=t.getTextGuideLine(),n&&(n.stateTransition=o),e)&&(e.stateTransition=o),t.__dirty&&Du(t)))}))}var ku=((Tl=wu.prototype).on=$l("on"),Tl.off=$l("off"),Tl.one=function(t,e,n){var i=this;this.on.call(this,t,(function n(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];e&&e.apply&&e.apply(this,o),i.off(t,n)}),n)},["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"]),Lu={},Pu={},Ru=[],Nu=[],Ou=[],Eu={},Vu={},zu={},Bu={},Gu=+new Date,Zu=(new Date,"_echarts_instance_");function Wu(t,e,n){var i=!(n&&n.ssr);if(i){var o=function(t){return zu[(e=Zu,t.getAttribute?t.getAttribute(e):t[e])];var e}(t);if(o)return o}return(o=new wu(t,e,n)).id="ec_"+Gu++,zu[o.id]=o,i&&$(t,Zu,o.id),xu(o),Ul.trigger("afterinit",o),o}function Fu(t,e){Eu[t]=e}function Hu(t){(0,s.cq)(Nu,t)<0&&Nu.push(t)}function Uu(t,e){Ku(Ru,t,e,2e3)}function Xu(t,e){Ul.on(t,e)}function Yu(t,e,n){(0,s.mf)(e)&&(n=e,e="");var i=(0,s.Kn)(t)?t.type:[t,t={event:e}][0];t.event=(t.event||i).toLowerCase(),e=t.event,Pu[e]||((0,s.hu)(Kl.test(i)&&Kl.test(e)),Lu[i]||(Lu[i]={action:n,actionInfo:t}),Pu[e]=i)}function Ju(t,e){Ku(Ou,t,e,3e3,"visual")}var ju=[];function Ku(t,e,n,i,o){((0,s.mf)(e)||(0,s.Kn)(e))&&(n=e,e=i),0<=(0,s.cq)(ju,n)||(ju.push(n),(i=hl.wrapStageHandler(n,o)).__prio=e,i.__raw=n,t.push(i))}function qu(t,e){Vu[t]=e}Ju(2e3,Qe),Ju(4500,Ye),Ju(4500,Js),Ju(2e3,ml),Ju(4500,vl),Ju(7e3,(function(t,e){t.eachRawSeries((function(n){var i;!t.isSeriesFiltered(n)&&((i=n.getData()).hasItemVisual()&&i.each((function(t){var n=i.getItemVisual(t,"decal");n&&(i.ensureUniqueItemVisual(t,"style").decal=Fl(n,e))})),n=i.getVisual("decal"))&&(i.getVisual("style").decal=Fl(n,e))}))})),Hu(wo),Uu(900,(function(t){var e=(0,s.kW)();t.eachSeries((function(t){var n,i=t.get("stack");i&&(i=e.get(i)||e.set(i,[]),(t={stackResultDimension:(n=t.getData()).getCalculationInfo("stackResultDimension"),stackedOverDimension:n.getCalculationInfo("stackedOverDimension"),stackedDimension:n.getCalculationInfo("stackedDimension"),stackedByDimension:n.getCalculationInfo("stackedByDimension"),isStackedByIndex:n.getCalculationInfo("isStackedByIndex"),data:n,seriesModel:t}).stackedDimension)&&(t.isStackedByIndex||t.stackedByDimension)&&(i.length&&n.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(t))})),e.each(Mo)})),qu("default",(function(t,e){e=e||{},s.ce(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n,i=new Dr.Z,o=new Zr.Z({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4}),a=(i.add(o),new ft.ZP({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001})),r=new Zr.Z({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});return i.add(r),e.showSpinner&&((n=new Hr.Z({shape:{startAngle:-js/2,endAngle:-js/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*js/2}).start("circularInOut"),n.animateShape(!0).when(1e3,{startAngle:3*js/2}).delay(300).start("circularInOut"),i.add(n)),i.resize=function(){var i=a.getBoundingRect().width,s=e.showSpinner?e.spinnerRadius:0,l=(i=(t.getWidth()-2*s-(e.showSpinner&&i?10:0)-i)/2-(e.showSpinner&&i?0:5+i/2)+(e.showSpinner?0:i/2)+(i?0:s),t.getHeight()/2);e.showSpinner&&n.setShape({cx:i,cy:l}),r.setShape({x:i-s,y:l-s,width:2*s,height:2*s}),o.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},i.resize(),i})),Yu({type:kt,event:kt,update:kt},s.ZT),Yu({type:Lt,event:Lt,update:Lt},s.ZT),Yu({type:Pt,event:Pt,update:Pt},s.ZT),Yu({type:Rt,event:Rt,update:Rt},s.ZT),Yu({type:Nt,event:Nt,update:Nt},s.ZT),Fu("light",dt),Fu("dark",je);var $u=[],Qu={registerPreprocessor:Hu,registerProcessor:Uu,registerPostInit:function(t){Xu("afterinit",t)},registerPostUpdate:function(t){Xu("afterupdate",t)},registerUpdateLifecycle:Xu,registerAction:Yu,registerCoordinateSystem:function(t,e){eo.register(t,e)},registerLayout:function(t,e){Ku(Ou,t,e,1e3,"layout")},registerVisual:Ju,registerTransform:function(t){var e=(t=(0,s.d9)(t)).type,n=(e||ga(""),e.split(":")),i=(2!==n.length&&ga(""),!1);"echarts"===n[0]&&(e=n[1],i=!0),t.__isBuiltIn=i,La.set(e,t)},registerLoading:qu,registerMap:function(t,e,n){var i=Xl.registerMap;i&&i(t,e,n)},registerImpl:function(t,e){Xl[t]=e},PRIORITY:Al,ComponentModel:yi,ComponentView:Cr,SeriesModel:Ir,ChartView:Os,registerComponentModel:function(t){yi.registerClass(t)},registerComponentView:function(t){Cr.registerClass(t)},registerSeriesModel:function(t){Ir.registerClass(t)},registerChartView:function(t){Os.registerClass(t)},registerSubTypeDefaulter:function(t,e){yi.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){(0,r.wm)(t,e)}};function tc(t){(0,s.kJ)(t)?(0,s.S6)(t,(function(t){tc(t)})):0<=(0,s.cq)($u,t)||($u.push(t),(t=(0,s.mf)(t)?{install:t}:t).install(Qu))}var ec=n(7159),nc=n(5963),ic=n(1225),oc=2*Math.PI,ac=ec.Z.CMD,rc=["top","right","bottom","left"];function sc(t,e,n,i,o,a,r,s){var l=o-t,u=a-e,c=(n-=t,i-=e,Math.sqrt(n*n+i*i));return l=(l*(n/=c)+u*(i/=c))/c,s&&(l=Math.min(Math.max(l,0),1)),u=r[0]=t+(l*=c)*n,s=r[1]=e+l*i,Math.sqrt((u-o)*(u-o)+(s-a)*(s-a))}function lc(t,e,n,i,o,a,r){return n<0&&(t+=n,n=-n),i<0&&(e+=i,i=-i),n=t+n,i=e+i,t=r[0]=Math.min(Math.max(o,t),n),n=r[1]=Math.min(Math.max(a,e),i),Math.sqrt((t-o)*(t-o)+(n-a)*(n-a))}var uc=[];function cc(t,e,n){for(var i,o,a,r,s,l,u,c,h,d=0,p=0,g=0,f=0,y=1/0,m=e.data,v=t.x,x=t.y,_=0;_<m.length;){var S=m[_++],b=(1===_&&(g=d=m[_],f=p=m[_+1]),y);switch(S){case ac.M:d=g=m[_++],p=f=m[_++];break;case ac.L:b=sc(d,p,m[_],m[_+1],v,x,uc,!0),d=m[_++],p=m[_++];break;case ac.C:b=(0,ic.t1)(d,p,m[_++],m[_++],m[_++],m[_++],m[_],m[_+1],v,x,uc),d=m[_++],p=m[_++];break;case ac.Q:b=(0,ic.Wr)(d,p,m[_++],m[_++],m[_],m[_+1],v,x,uc),d=m[_++],p=m[_++];break;case ac.A:var w=m[_++],M=m[_++],I=m[_++],D=m[_++],T=m[_++],C=m[_++],A=(_+=1,!!(1-m[_++])),k=Math.cos(T)*I+w,L=Math.sin(T)*D+M;_<=1&&(g=k,f=L),L=(k=T)+C,r=(v-w)*(a=D)/I+w,s=x,l=uc,h=c=u=void 0,r-=i=w,s-=o=M,c=(r/=u=Math.sqrt(r*r+s*s))*a+i,h=(s/=u)*a+o,b=Math.abs(k-L)%oc<1e-4||((L=A?(A=k,k=(0,nc.m)(L),(0,nc.m)(A)):(k=(0,nc.m)(k),(0,nc.m)(L)))<k&&(L+=oc),(A=Math.atan2(s,r))<0&&(A+=oc),k<=A&&A<=L)||k<=A+oc&&A+oc<=L?(l[0]=c,l[1]=h,u-a):(h=((A=a*Math.cos(k)+i)-r)*(A-r)+((c=a*Math.sin(k)+o)-s)*(c-s))<(i=((u=a*Math.cos(L)+i)-r)*(u-r)+((k=a*Math.sin(L)+o)-s)*(k-s))?(l[0]=A,l[1]=c,Math.sqrt(h)):(l[0]=u,l[1]=k,Math.sqrt(i)),d=Math.cos(T+C)*I+w,p=Math.sin(T+C)*D+M;break;case ac.R:b=lc(g=d=m[_++],f=p=m[_++],m[_++],m[_++],v,x,uc);break;case ac.Z:b=sc(d,p,g,f,v,x,uc,!0),d=g,p=f}b<y&&(y=b,n.set(uc[0],uc[1]))}return y}var hc=new jr.Z,dc=new jr.Z,pc=new jr.Z,gc=new jr.Z,fc=new jr.Z;function yc(t,e){if(t){var n=t.getTextGuideLine(),i=t.getTextContent();if(i&&n){var o=t.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],r=o.candidates||rc,s=i.getBoundingRect().clone(),l=(s.applyTransform(i.getComputedTransform()),1/0),u=o.anchor,c=t.getComputedTransform(),h=c&&(0,Lr.U_)([],c),d=e.get("length2")||0;u&&pc.copy(u);for(var p,g=0;g<r.length;g++){var f=r[g],y=(x=v=y=void 0,f),m=s,v=hc,x=gc,_=m.width,S=m.height;switch(y){case"top":v.set(m.x+_/2,m.y-0),x.set(0,-1);break;case"bottom":v.set(m.x+_/2,m.y+S+0),x.set(0,1);break;case"left":v.set(m.x-0,m.y+S/2),x.set(-1,0);break;case"right":v.set(m.x+_+0,m.y+S/2),x.set(1,0)}jr.Z.scaleAndAdd(dc,hc,gc,d),dc.transform(h),f=t.getBoundingRect(),(f=u?u.distance(dc):t instanceof vt.ZP?cc(dc,t.path,pc):(y=pc,p=lc((p=f).x,f.y,f.width,f.height,dc.x,dc.y,uc),y.set(uc[0],uc[1]),p))<l&&(l=f,dc.transform(c),pc.transform(c),pc.toArray(a[0]),dc.toArray(a[1]),hc.toArray(a[2]))}xc(a,e.get("minTurnAngle")),n.setShape({points:a})}}}var mc=[],vc=new jr.Z;function xc(t,e){var n,i;e<=180&&0<e&&(e=e/180*Math.PI,hc.fromArray(t[0]),dc.fromArray(t[1]),pc.fromArray(t[2]),jr.Z.sub(gc,hc,dc),jr.Z.sub(fc,pc,dc),i=gc.len(),n=fc.len(),i<.001||n<.001||(gc.scale(1/i),fc.scale(1/n),i=gc.dot(fc),Math.cos(e)<i&&(n=sc(dc.x,dc.y,pc.x,pc.y,hc.x,hc.y,mc,!1),vc.fromArray(mc),vc.scaleAndAdd(fc,n/Math.tan(Math.PI-e)),i=pc.x!==dc.x?(vc.x-dc.x)/(pc.x-dc.x):(vc.y-dc.y)/(pc.y-dc.y),isNaN(i)||(i<0?jr.Z.copy(vc,dc):1<i&&jr.Z.copy(vc,pc),vc.toArray(t[1])))))}function _c(t,e,n,i){var o="normal"===n;(n=o?t:t.ensureState(n)).ignore=e,(e=i.get("smooth"))&&!0===e&&(e=.3),n.shape=n.shape||{},0<e&&(n.shape.smooth=e),e=i.getModel("lineStyle").getLineStyle(),o?t.useStyle(e):n.style=e}function Sc(t,e){var n=e.smooth,i=e.points;if(i)if(t.moveTo(i[0][0],i[0][1]),0<n&&3<=i.length){e=Pr.TK(i[0],i[1]);var o=Pr.TK(i[1],i[2]);e&&o?(n=Math.min(e,o)*n,e=Pr.t7([],i[1],i[0],n/e),n=Pr.t7([],i[1],i[2],n/o),o=Pr.t7([],e,n,.5),t.bezierCurveTo(e[0],e[1],e[0],e[1],o[0],o[1]),t.bezierCurveTo(n[0],n[1],n[0],n[1],i[2][0],i[2][1])):(t.lineTo(i[1][0],i[1][1]),t.lineTo(i[2][0],i[2][1]))}else for(var a=1;a<i.length;a++)t.lineTo(i[a][0],i[a][1])}function bc(t,e,n){var i=t.getTextGuideLine(),o=t.getTextContent();if(o){for(var a=e.normal,r=a.get("show"),l=o.ignore,u=0;u<Tt.length;u++){var c,h=Tt[u],d=e[h],p="normal"===h;d&&(c=d.get("show"),(p?l:(0,s.pD)(o.states[h]&&o.states[h].ignore,l))||!(0,s.pD)(c,r)?((c=p?i:i&&i.states[h])&&(c.ignore=!0),i&&_c(i,!0,h,d)):(i||(i=new Gr.Z,t.setTextGuideLine(i),p||!l&&r||_c(i,!0,"normal",e.normal),t.stateProxy&&(i.stateProxy=t.stateProxy)),_c(i,!1,h,d)))}i&&((0,s.ce)(i.style,n),i.style.fill=null,n=a.get("showAbove"),(t.textGuideLineConfig=t.textGuideLineConfig||{}).showAbove=n||!1,i.buildPath=Sc)}else i&&t.removeTextGuideLine()}function wc(t,e){for(var n={normal:t.getModel(e=e||"labelLine")},i=0;i<Dt.length;i++){var o=Dt[i];n[o]=t.getModel([o,e])}return n}function Mc(t){for(var e=[],n=0;n<t.length;n++){var i,o,a,r,s,l,u=t[n];u.defaultAttr.ignore||(o=(i=u.label).getComputedTransform(),a=i.getBoundingRect(),r=!o||o[1]<1e-5&&o[2]<1e-5,l=i.style.margin||0,(s=a.clone()).applyTransform(o),s.x-=l/2,s.y-=l/2,s.width+=l,s.height+=l,l=r?new Jr.Z(a,o):null,e.push({label:i,labelLine:u.labelLine,rect:s,localRect:a,obb:l,priority:u.priority,defaultAttr:u.defaultAttr,layoutOption:u.computedLayoutOption,axisAligned:r,transform:o}))}return e}function Ic(t,e,n,i,o,a){var r=t.length;if(!(r<2)){t.sort((function(t,n){return t.rect[e]-n.rect[e]}));for(var s=0,l=!1,u=[],c=0,h=0;h<r;h++){var d,p=(g=t[h]).rect,g=((d=p[e]-s)<0&&(p[e]-=d,g.label[e]-=d,l=!0),Math.max(-d,0));u.push(g),c+=g,s=p[e]+p[n]}0<c&&a&&S(-c/r,0,r);var f,y,m=t[0],v=t[r-1];return x(),f<0&&b(-f,.8),y<0&&b(y,.8),x(),_(f,y,1),_(y,f,-1),x(),f<0&&w(-f),y<0&&w(y),l}function x(){f=m.rect[e]-i,y=o-v.rect[e]-v.rect[n]}function _(t,e,n){t<0&&(0<(e=Math.min(e,-t))?(S(e*n,0,r),(e+=t)<0&&b(-e*n,1)):b(-t*n,1))}function S(n,i,o){0!==n&&(l=!0);for(var a=i;a<o;a++){var r=t[a];r.rect[e]+=n,r.label[e]+=n}}function b(i,o){for(var a=[],s=0,l=1;l<r;l++){var u=t[l-1].rect;u=Math.max(t[l].rect[e]-u[e]-u[n],0),a.push(u),s+=u}if(s){var c=Math.min(Math.abs(i)/s,o);if(0<i)for(l=0;l<r-1;l++)S(a[l]*c,0,l+1);else for(l=r-1;0<l;l--)S(-a[l-1]*c,l,r)}}function w(t){for(var e=t<0?-1:1,n=(t=Math.abs(t),Math.ceil(t/(r-1))),i=0;i<r-1;i++)if(0<e?S(n,0,i+1):S(-n,r-i-1,r),(t-=n)<=0)return}}function Dc(t,e,n,i){return Ic(t,"y","height",e,n,i)}function Tc(t){var e=[],n=(t.sort((function(t,e){return e.priority-t.priority})),new sn.Z(0,0,0,0));function i(t){var e;t.ignore||null==(e=t.ensureState("emphasis")).ignore&&(e.ignore=!1),t.ignore=!0}for(var o=0;o<t.length;o++){for(var a=t[o],r=a.axisAligned,s=a.localRect,l=a.transform,u=a.label,c=a.labelLine,h=(n.copy(a.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05,a.obb),d=!1,p=0;p<e.length;p++){var g=e[p];if(n.intersect(g.rect)){if(r&&g.axisAligned){d=!0;break}if(g.obb||(g.obb=new Jr.Z(g.localRect,g.transform)),(h=h||new Jr.Z(s,l)).intersect(g.obb)){d=!0;break}}}d?(i(u),c&&i(c)):(u.attr("ignore",a.defaultAttr.ignore),c&&c.attr("ignore",a.defaultAttr.labelGuideIgnore),e.push(a))}}function Cc(t,e){var n=t.label;return e=e&&e.getTextGuideLine(),{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:function(t){if(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].slice());return e}}(e&&e.shape.points)}}var Ac=["align","verticalAlign","width","height","fontSize"],kc=new Rr.ZP,Lc=U(),Pc=U();function Rc(t,e,n){for(var i=0;i<n.length;i++){var o=n[i];null!=e[o]&&(t[o]=e[o])}}var Nc=["x","y","rotation"];function Oc(){this._labelList=[],this._chartViewList=[]}Oc.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},Oc.prototype._addLabel=function(t,e,n,i,o){var a,r=i.style,s=i.__hostTarget.textConfig||{},l=i.getComputedTransform(),u=i.getBoundingRect().plain(),c=(sn.Z.applyTransform(u,u,l),l?kc.setLocalTransform(l):(kc.x=kc.y=kc.rotation=kc.originX=kc.originY=0,kc.scaleX=kc.scaleY=1),kc.rotation=(0,nc.m)(kc.rotation),(l=i.__hostTarget)&&(a=l.getBoundingRect().plain(),c=l.getComputedTransform(),sn.Z.applyTransform(a,a,c)),a&&l.getTextGuideLine());this._labelList.push({label:i,labelLine:c,seriesModel:n,dataIndex:t,dataType:e,layoutOption:o,computedLayoutOption:null,rect:u,hostRect:a,priority:a?a.width*a.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:c&&c.ignore,x:kc.x,y:kc.y,scaleX:kc.scaleX,scaleY:kc.scaleY,rotation:kc.rotation,style:{x:r.x,y:r.y,align:r.align,verticalAlign:r.verticalAlign,width:r.width,height:r.height,fontSize:r.fontSize},cursor:i.cursor,attachedPos:s.position,attachedRot:s.rotation}})},Oc.prototype.addLabelsOfSeries=function(t){var e=this,n=(this._chartViewList.push(t),t.__model),i=n.get("labelLayout");((0,s.mf)(i)||(0,s.XP)(i).length)&&t.group.traverse((function(t){if(t.ignore)return!0;var o=t.getTextContent();t=yt(t),o&&!o.disableLabelLayout&&e._addLabel(t.dataIndex,t.dataType,n,o,i)}))},Oc.prototype.updateLayoutConfig=function(t){for(var e=t.getWidth(),n=t.getHeight(),i=0;i<this._labelList.length;i++){var o=this._labelList[i],a=o.label,r=a.__hostTarget,l=o.defaultAttr,u=void 0,c=(u=(0,s.mf)(o.layoutOption)?o.layoutOption(Cc(o,r)):o.layoutOption,o.computedLayoutOption=u=u||{},Math.PI/180),h=(r&&r.setTextConfig({local:!1,position:null!=u.x||null!=u.y?null:l.attachedPos,rotation:null!=u.rotate?u.rotate*c:l.attachedRot,offset:[u.dx||0,u.dy||0]}),!1);null!=u.x?(a.x=p(u.x,e),a.setStyle("x",0),h=!0):(a.x=l.x,a.setStyle("x",l.style.x)),null!=u.y?(a.y=p(u.y,n),a.setStyle("y",0),h=!0):(a.y=l.y,a.setStyle("y",l.style.y)),u.labelLinePoints&&(d=r.getTextGuideLine())&&(d.setShape({points:u.labelLinePoints}),h=!1),Lc(a).needsUpdateLabelLine=h,a.rotation=null!=u.rotate?u.rotate*c:l.rotation,a.scaleX=l.scaleX,a.scaleY=l.scaleY;for(var d,g=0;g<Ac.length;g++){var f=Ac[g];a.setStyle(f,(null!=u[f]?u:l.style)[f])}u.draggable?(a.draggable=!0,a.cursor="move",r&&(d=o.seriesModel,null!=o.dataIndex&&(d=o.seriesModel.getData(o.dataType).getItemModel(o.dataIndex)),a.on("drag",function(t,e){return function(){yc(t,e)}}(r,d.getModel("labelLine"))))):(a.off("drag"),a.cursor=l.cursor)}},Oc.prototype.layout=function(t){var e=t.getWidth(),n=(t=t.getHeight(),Mc(this._labelList)),i=(0,s.hX)(n,(function(t){return"shiftX"===t.layoutOption.moveOverlap})),o=(0,s.hX)(n,(function(t){return"shiftY"===t.layoutOption.moveOverlap}));Ic(i,"x","width",0,e,void 0),Dc(o,0,t),Tc((0,s.hX)(n,(function(t){return t.layoutOption.hideOverlap})))},Oc.prototype.processLabelsOverall=function(){var t=this;(0,s.S6)(this._chartViewList,(function(e){var n=e.__model,i=e.ignoreLabelLineUpdate,o=n.isAnimationEnabled();e.group.traverse((function(e){if(e.ignore&&!e.forceLabelAnimation)return!0;var a=!i,r=e.getTextContent();(a=!a&&r?Lc(r).needsUpdateLabelLine:a)&&t._updateLabelLine(e,n),o&&t._animateLabels(e,n)}))}))},Oc.prototype._updateLabelLine=function(t,e){var n=t.getTextContent(),i=yt(t),o=i.dataIndex;n&&null!=o&&(e=(n=e.getData(i.dataType)).getItemModel(o),i={},(o=n.getItemVisual(o,"style"))&&(n=n.getVisual("drawType"),i.stroke=o[n]),o=e.getModel("labelLine"),bc(t,wc(e),i),yc(t,o))},Oc.prototype._animateLabels=function(t,e){var n,i,o,a,r,l=t.getTextContent(),u=t.getTextGuideLine();!l||!t.forceLabelAnimation&&(l.ignore||l.invisible||t.disableLabelAnimation||we(t))||(a=(o=Lc(l)).oldLayout,n=(i=yt(t)).dataIndex,r={x:l.x,y:l.y,rotation:l.rotation},i=e.getData(i.dataType),a?(l.attr(a),(t=t.prevStates)&&(0<=(0,s.cq)(t,"select")&&l.attr(o.oldLayoutSelect),0<=(0,s.cq)(t,"emphasis"))&&l.attr(o.oldLayoutEmphasis),Se(l,r,e,n)):(l.attr(r),Ge(l).valueAnimation||(t=(0,s.pD)(l.style.opacity,1),l.style.opacity=0,be(l,{style:{opacity:t}},e,n))),o.oldLayout=r,l.states.select&&(Rc(t=o.oldLayoutSelect={},r,Nc),Rc(t,l.states.select,Nc)),l.states.emphasis&&(Rc(t=o.oldLayoutEmphasis={},r,Nc),Rc(t,l.states.emphasis,Nc)),We(l,n,i,e,e)),!u||u.ignore||u.invisible||(a=(o=Pc(u)).oldLayout,r={points:u.shape.points},a?(u.attr({shape:a}),Se(u,{shape:r},e)):(u.setShape(r),u.style.strokePercent=0,be(u,{style:{strokePercent:1}},e)),o.oldLayout=r)};var Ec=Oc,Vc=U();function zc(t){t.registerUpdateLifecycle("series:beforeupdate",(function(t,e,n){(Vc(e).labelManager||(Vc(e).labelManager=new Ec)).clearLabels()})),t.registerUpdateLifecycle("series:layoutlabels",(function(t,e,n){var i=Vc(e).labelManager;n.updatedSeries.forEach((function(t){i.addLabelsOfSeries(e.getViewOfSeriesModel(t))})),i.updateLayoutConfig(e),i.layout(e),i.processLabelsOverall()}))}tc(zc);var Bc=n(8605),Gc=n(9307);function Zc(t){return null==t?0:t.length||1}function Wc(t){return t}function Fc(t,e,n,i,o,a){this._old=t,this._new=e,this._oldKeyGetter=n||Wc,this._newKeyGetter=i||Wc,this.context=o,this._diffModeMultiple="multiple"===a}Fc.prototype.add=function(t){return this._add=t,this},Fc.prototype.update=function(t){return this._update=t,this},Fc.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},Fc.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},Fc.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},Fc.prototype.remove=function(t){return this._remove=t,this},Fc.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},Fc.prototype._executeOneToOne=function(){var t=this._old,e=this._new,n={},i=new Array(t.length),o=new Array(e.length);this._initIndexMap(t,null,i,"_oldKeyGetter"),this._initIndexMap(e,n,o,"_newKeyGetter");for(var a=0;a<t.length;a++){var r,s=i[a],l=n[s],u=Zc(l);1<u?(r=l.shift(),1===l.length&&(n[s]=l[0]),this._update&&this._update(r,a)):1===u?(n[s]=null,this._update&&this._update(l,a)):this._remove&&this._remove(a)}this._performRestAdd(o,n)},Fc.prototype._executeMultiple=function(){var t=this._old,e=this._new,n={},i={},o=[],a=[];this._initIndexMap(t,n,o,"_oldKeyGetter"),this._initIndexMap(e,i,a,"_newKeyGetter");for(var r=0;r<o.length;r++){var s=o[r],l=n[s],u=i[s],c=Zc(l),h=Zc(u);if(1<c&&1===h)this._updateManyToOne&&this._updateManyToOne(u,l),i[s]=null;else if(1===c&&1<h)this._updateOneToMany&&this._updateOneToMany(u,l),i[s]=null;else if(1===c&&1===h)this._update&&this._update(u,l),i[s]=null;else if(1<c&&1<h)this._updateManyToMany&&this._updateManyToMany(u,l),i[s]=null;else if(1<c)for(var d=0;d<c;d++)this._remove&&this._remove(l[d]);else this._remove&&this._remove(l)}this._performRestAdd(a,i)},Fc.prototype._performRestAdd=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=e[i],a=Zc(o);if(1<a)for(var r=0;r<a;r++)this._add&&this._add(o[r]);else 1===a&&this._add&&this._add(o);e[i]=null}},Fc.prototype._initIndexMap=function(t,e,n,i){for(var o=this._diffModeMultiple,a=0;a<t.length;a++){var r,s,l="_ec_"+this[i](t[a],a);o||(n[a]=l),e&&(0===(s=Zc(r=e[l]))?(e[l]=a,o&&n.push(l)):1===s?e[l]=[r,a]:r.push(a))}};var Hc=Fc,Uc=(Xc.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},Xc.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},Xc);function Xc(t,e){this._encode=t,this._schema=e}function Yc(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function Jc(t){return"category"===t?"ordinal":"time"===t?"time":"float"}var jc=function(t){this.otherDims={},null!=t&&s.l7(this,t)},Kc=U(),qc={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},$c=(Qc.prototype.isDimensionOmitted=function(){return this._dimOmitted},Qc.prototype._updateDimOmitted=function(t){(this._dimOmitted=t)&&!this._dimNameMap&&(this._dimNameMap=nh(this.source))},Qc.prototype.getSourceDimensionIndex=function(t){return(0,s.pD)(this._dimNameMap.get(t),-1)},Qc.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},Qc.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=No(this.source),n=!(30<t),i="",o=[],a=0,r=0;a<t;a++){var s,l=void 0,u=void 0,c=void 0,h=this.dimensions[r];h&&h.storeDimIndex===a?(l=e?h.name:null,u=h.type,c=h.ordinalMeta,r++):(s=this.getSourceDimension(a))&&(l=e?s.name:null,u=s.type),o.push({property:l,type:u,ordinalMeta:c}),!e||null==l||h&&h.isCalculationCoord||(i+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i=i+"$"+(qc[u]||"f"),c&&(i+=c.uid),i+="$"}var d=this.source;return{dimensions:o,hash:[d.seriesLayoutBy,d.startIndex,i].join("$$")}},Qc.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,n=0;e<this._fullDimCount;e++){var i=void 0,o=this.dimensions[n];o&&o.storeDimIndex===e?(o.isCalculationCoord||(i=o.name),n++):(o=this.getSourceDimension(e))&&(i=o.name),t.push(i)}return t},Qc.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},Qc);function Qc(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}function th(t){return t instanceof $c}function eh(t){for(var e=(0,s.kW)(),n=0;n<(t||[]).length;n++){var i=t[n];null!=(i=(0,s.Kn)(i)?i.name:i)&&null==e.get(i)&&e.set(i,n)}return e}function nh(t){var e=Kc(t);return e.dimNameMap||(e.dimNameMap=eh(t.dimensionsDefine))}var ih,oh,ah,rh,sh,lh,uh,ch=s.Kn,hh=s.UI,dh="undefined"==typeof Int32Array?Array:Int32Array,ph=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],gh=["_approximateExtent"];function fh(t,e){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"];for(var n,i,o=!(this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"]),a=(th(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(o=!0,n=t),n=n||["x","y"],{}),r=[],l={},u=!1,c={},h=0;h<n.length;h++){var d=n[h],p=(d=s.HD(d)?new jc({name:d}):d instanceof jc?d:new jc(d)).name,g=(d.type=d.type||"float",d.coordDim||(d.coordDim=p,d.coordDimIndex=0),d.otherDims=d.otherDims||{});r.push(p),null!=c[p]&&(u=!0),(a[p]=d).createInvertedIndices&&(l[p]=[]),0===g.itemName&&(this._nameDimIdx=h),0===g.itemId&&(this._idDimIdx=h),o&&(d.storeDimIndex=h)}this.dimensions=r,this._dimInfos=a,this._initGetDimensionInfo(u),this.hostModel=e,this._invertedIndicesMap=l,this._dimOmitted&&(i=this._dimIdxToName=s.kW(),s.S6(r,(function(t){i.set(a[t].storeDimIndex,t)})))}fh.prototype.getDimension=function(t){var e;return null==(e=this._recognizeDimIndex(t))?t:(e=t,this._dimOmitted?null!=(t=this._dimIdxToName.get(e))?t:(t=this._schema.getSourceDimension(e))?t.name:void 0:this.dimensions[e])},fh.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);return null!=e?e:null==t?-1:(e=this._getDimInfo(t))?e.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},fh.prototype._recognizeDimIndex=function(t){if(s.hj(t)||null!=t&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},fh.prototype._getStoreDimIndex=function(t){return this.getDimensionIndex(t)},fh.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},fh.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(t){return e.hasOwnProperty(t)?e[t]:void 0}:function(t){return e[t]}},fh.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},fh.prototype.mapDimension=function(t,e){var n=this._dimSummary;return null==e?n.encodeFirstDimNotExtra[t]:(n=n.encode[t])?n[e]:null},fh.prototype.mapDimensionsAll=function(t){return(this._dimSummary.encode[t]||[]).slice()},fh.prototype.getStore=function(){return this._store},fh.prototype.initData=function(t,e,n){var i,o,a=this;(i=t instanceof Wa?t:i)||(o=this.dimensions,t=Co(t)||s.zG(t)?new zo(t,o.length):t,i=new Wa,o=hh(o,(function(t){return{type:a._dimInfos[t].type,property:t}})),i.initData(t,o,n)),this._store=i,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,i.count()),this._dimSummary=function(t,e){var n={},i=n.encode={},o=(0,s.kW)(),a=[],r=[],l={},u=((0,s.S6)(t.dimensions,(function(e){var n,s,u=t.getDimensionInfo(e),c=u.coordDim;c&&(n=u.coordDimIndex,Yc(i,c)[n]=e,u.isExtraCoord||(o.set(c,1),"ordinal"!==(s=u.type)&&"time"!==s&&(a[0]=e),Yc(l,c)[n]=t.getDimensionIndex(u.name)),u.defaultTooltip)&&r.push(e),vi.each((function(t,e){var n=Yc(i,e);null!=(e=u.otherDims[e])&&!1!==e&&(n[e]=u.name)}))})),[]),c={},h=(o.each((function(t,e){var n=i[e];c[e]=n[0],u=u.concat(n)})),n.dataDimsOnCoord=u,n.dataDimIndicesOnCoord=(0,s.UI)(u,(function(e){return t.getDimensionInfo(e).storeDimIndex})),n.encodeFirstDimNotExtra=c,i.label);return h&&h.length&&(a=h.slice()),(h=i.tooltip)&&h.length?r=h.slice():r.length||(r=a.slice()),i.defaultedLabel=a,i.defaultedTooltip=r,n.userOutput=new Uc(l,e),n}(this,this._schema),this.userOutput=this._dimSummary.userOutput},fh.prototype.appendData=function(t){t=this._store.appendData(t),this._doInit(t[0],t[1])},fh.prototype.appendValues=function(t,e){var n=(t=this._store.appendValues(t,e&&e.length)).start,i=t.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var a=n;a<i;a++)this._nameList[a]=e[a-n],o&&uh(this,a)},fh.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,n=0;n<e.length;n++){var i=this._dimInfos[e[n]];i.ordinalMeta&&t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},fh.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return null==this._idDimIdx&&t.getSource().sourceFormat!==wi&&!t.fillStorage},fh.prototype._doInit=function(t,e){if(!(e<=t)){var n=this._store.getProvider(),i=(this._updateOrdinalMeta(),this._nameList),o=this._idList;if(n.getSource().sourceFormat===xi&&!n.pure)for(var a=[],r=t;r<e;r++){var l,u=n.getItem(r,a);this.hasItemOption||(l=u,!(0,s.Kn)(l))||l instanceof Array||(this.hasItemOption=!0),u&&(l=u.name,null==i[r]&&null!=l&&(i[r]=Z(l,null)),u=u.id,null==o[r])&&null!=u&&(o[r]=Z(u,null))}if(this._shouldMakeIdFromName())for(r=t;r<e;r++)uh(this,r);ih(this)}},fh.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},fh.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},fh.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},fh.prototype.setCalculationInfo=function(t,e){ch(t)?s.l7(this._calculationInfo,t):this._calculationInfo[t]=e},fh.prototype.getName=function(t){t=this.getRawIndex(t);var e=this._nameList[t];return null==(e=null==e&&null!=this._nameDimIdx?ah(this,this._nameDimIdx,t):e)?"":e},fh.prototype._getCategory=function(t,e){return e=this._store.get(t,e),(t=this._store.getOrdinalMeta(t))?t.categories[e]:e},fh.prototype.getId=function(t){return oh(this,this.getRawIndex(t))},fh.prototype.count=function(){return this._store.count()},fh.prototype.get=function(t,e){var n=this._store;if(t=this._dimInfos[t])return n.get(t.storeDimIndex,e)},fh.prototype.getByRawIndex=function(t,e){var n=this._store;if(t=this._dimInfos[t])return n.getByRawIndex(t.storeDimIndex,e)},fh.prototype.getIndices=function(){return this._store.getIndices()},fh.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},fh.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},fh.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},fh.prototype.getValues=function(t,e){var n=this,i=this._store;return s.kJ(t)?i.getValues(hh(t,(function(t){return n._getStoreDimIndex(t)})),e):i.getValues(t)},fh.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,n=0,i=e.length;n<i;n++)if(isNaN(this._store.get(e[n],t)))return!1;return!0},fh.prototype.indexOfName=function(t){for(var e=0,n=this._store.count();e<n;e++)if(this.getName(e)===t)return e;return-1},fh.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},fh.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},fh.prototype.rawIndexOf=function(t,e){return null==(t=(t=t&&this._invertedIndicesMap[t])&&t[e])||isNaN(t)?-1:t},fh.prototype.indicesOfNearest=function(t,e,n){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,n)},fh.prototype.each=function(t,e,n){s.mf(t)&&(n=e,e=t,t=[]),n=n||this,t=hh(rh(t),this._getStoreDimIndex,this),this._store.each(t,n?s.ak(e,n):e)},fh.prototype.filterSelf=function(t,e,n){return s.mf(t)&&(n=e,e=t,t=[]),n=n||this,t=hh(rh(t),this._getStoreDimIndex,this),this._store=this._store.filter(t,n?s.ak(e,n):e),this},fh.prototype.selectRange=function(t){var e=this,n={},i=s.XP(t),o=[];return s.S6(i,(function(i){var a=e._getStoreDimIndex(i);n[a]=t[i],o.push(a)})),this._store=this._store.selectRange(n),this},fh.prototype.mapArray=function(t,e,n){s.mf(t)&&(n=e,e=t,t=[]);var i=[];return this.each(t,(function(){i.push(e&&e.apply(this,arguments))}),n=n||this),i},fh.prototype.map=function(t,e,n,i){return n=n||i||this,i=hh(rh(t),this._getStoreDimIndex,this),(t=lh(this))._store=this._store.map(i,n?s.ak(e,n):e),t},fh.prototype.modify=function(t,e,n,i){n=n||i||this,i=hh(rh(t),this._getStoreDimIndex,this),this._store.modify(i,n?s.ak(e,n):e)},fh.prototype.downSample=function(t,e,n,i){var o=lh(this);return o._store=this._store.downSample(this._getStoreDimIndex(t),e,n,i),o},fh.prototype.minmaxDownSample=function(t,e){var n=lh(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(t),e),n},fh.prototype.lttbDownSample=function(t,e){var n=lh(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),n},fh.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},fh.prototype.getItemModel=function(t){var e=this.hostModel;return t=this.getRawDataItem(t),new nn(t,e,e&&e.ecModel)},fh.prototype.diff=function(t){var e=this;return new Hc(t?t.getStore().getIndices():[],this.getStore().getIndices(),(function(e){return oh(t,e)}),(function(t){return oh(e,t)}))},fh.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},fh.prototype.setVisual=function(t,e){this._visual=this._visual||{},ch(t)?s.l7(this._visual,t):this._visual[t]=e},fh.prototype.getItemVisual=function(t,e){return null==(t=(t=this._itemVisuals[t])&&t[e])?this.getVisual(e):t},fh.prototype.hasItemVisual=function(){return 0<this._itemVisuals.length},fh.prototype.ensureUniqueItemVisual=function(t,e){var n,i=(n=this._itemVisuals)[t];return null==(n=(i=i||(n[t]={}))[e])&&(n=this.getVisual(e),s.kJ(n)?n=n.slice():ch(n)&&(n=s.l7({},n)),i[e]=n),n},fh.prototype.setItemVisual=function(t,e,n){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,ch(e)?s.l7(i,e):i[e]=n},fh.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},fh.prototype.setLayout=function(t,e){ch(t)?s.l7(this._layout,t):this._layout[t]=e},fh.prototype.getLayout=function(t){return this._layout[t]},fh.prototype.getItemLayout=function(t){return this._itemLayouts[t]},fh.prototype.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?s.l7(this._itemLayouts[t]||{},e):e},fh.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},fh.prototype.setItemGraphicEl=function(t,e){gt(this.hostModel&&this.hostModel.seriesIndex,this.dataType,t,e),this._graphicEls[t]=e},fh.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},fh.prototype.eachItemGraphicEl=function(t,e){s.S6(this._graphicEls,(function(n,i){n&&t&&t.call(e,n,i)}))},fh.prototype.cloneShallow=function(t){return t=t||new fh(this._schema||hh(this.dimensions,this._getDimInfo,this),this.hostModel),sh(t,this),t._store=this._store,t},fh.prototype.wrapMethod=function(t,e){var n=this[t];s.mf(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(s.tP(arguments)))})},fh.internalField=(ih=function(t){var e=t._invertedIndicesMap;s.S6(e,(function(n,i){var o=t._dimInfos[i],a=o.ordinalMeta,r=t._store;if(a){n=e[i]=new dh(a.categories.length);for(var s=0;s<n.length;s++)n[s]=-1;for(s=0;s<r.count();s++)n[r.get(o.storeDimIndex,s)]=s}}))},ah=function(t,e,n){return Z(t._getCategory(e,n),null)},oh=function(t,e){var n=t._idList[e];return null==(n=null==n&&null!=t._idDimIdx?ah(t,t._idDimIdx,e):n)?"e\0\0"+e:n},rh=function(t){return s.kJ(t)?t:null!=t?[t]:[]},lh=function(t){var e=new fh(t._schema||hh(t.dimensions,t._getDimInfo,t),t.hostModel);return sh(e,t),e},sh=function(t,e){s.S6(ph.concat(e.__wrappedMethods||[]),(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t.__wrappedMethods=e.__wrappedMethods,s.S6(gh,(function(n){t[n]=s.d9(e[n])})),t._calculationInfo=s.l7({},e._calculationInfo)},void(uh=function(t,e){var n=t._nameList,i=t._idList,o=t._nameDimIdx,a=t._idDimIdx,r=n[e],s=i[e];null==r&&null!=o&&(n[e]=r=ah(t,o,e)),null==s&&null!=a&&(i[e]=s=ah(t,a,e)),null==s&&null!=r&&(s=r,1<(o=(n=t._nameRepeatCount)[r]=(n[r]||0)+1)&&(s+="__ec__"+o),i[e]=s)}));var yh=fh;function mh(t,e){Co(t)||(t=ko(t));for(var n,i,o=(e=e||{}).coordDimensions||[],a=e.dimensionsDefine||t.dimensionsDefine||[],r=(0,s.kW)(),l=[],u=(c=t,n=o,p=e.dimensionsCount,i=Math.max(c.dimensionsDetectedCount||1,n.length,a.length,p||0),(0,s.S6)(n,(function(t){(0,s.Kn)(t)&&(t=t.dimsDef)&&(i=Math.max(i,t.length))})),i),c=e.canOmitUnusedDimensions&&30<u,h=a===t.dimensionsDefine,d=h?nh(t):eh(a),p=e.encodeDefine,g=(!p&&e.encodeDefaulter&&(p=e.encodeDefaulter(t,u)),(0,s.kW)(p)),f=new Ea(u),y=0;y<f.length;y++)f[y]=-1;function m(t){var e,n,i,o=f[t];return o<0?(e=a[t],e=(0,s.Kn)(e)?e:{name:e},n=new jc,null!=(i=e.name)&&null!=d.get(i)&&(n.name=n.displayName=i),null!=e.type&&(n.type=e.type),null!=e.displayName&&(n.displayName=e.displayName),f[t]=l.length,n.storeDimIndex=t,l.push(n),n):l[o]}if(!c)for(y=0;y<u;y++)m(y);g.each((function(t,e){var n;1===(t=N(t).slice()).length&&!(0,s.HD)(t[0])&&t[0]<0?g.set(e,!1):(n=g.set(e,[]),(0,s.S6)(t,(function(t,i){null!=(t=(0,s.HD)(t)?d.get(t):t)&&t<u&&x(m(n[i]=t),e,i)})))}));var v=0;function x(t,e,n){null!=vi.get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,r.set(e,!0))}(0,s.S6)(o,(function(t){(0,s.HD)(t)?(o=t,i={}):(o=(i=t).name,t=i.ordinalMeta,i.ordinalMeta=null,(i=(0,s.l7)({},i)).ordinalMeta=t,e=i.dimsDef,n=i.otherDims,i.name=i.coordDim=i.coordDimIndex=i.dimsDef=i.otherDims=null);var e,n,i,o,a=g.get(o);if(!1!==a){if(!(a=N(a)).length)for(var r=0;r<(e&&e.length||1);r++){for(;v<u&&null!=m(v).coordDim;)v++;v<u&&a.push(v++)}(0,s.S6)(a,(function(t,a){t=m(t),h&&null!=i.type&&(t.type=i.type),x((0,s.ce)(t,i),o,a),null==t.name&&e&&(a=e[a],(0,s.Kn)(a)||(a={name:a}),t.name=t.displayName=a.name,t.defaultTooltip=a.defaultTooltip),n&&(0,s.ce)(t.otherDims,n)}))}}));var _=e.generateCoord,S=null!=(b=e.generateCoordCount),b=_?b||1:0,w=_||"value";function M(t){null==t.name&&(t.name=t.coordDim)}if(c)(0,s.S6)(l,(function(t){M(t)})),l.sort((function(t,e){return t.storeDimIndex-e.storeDimIndex}));else for(var I=0;I<u;I++){var D=m(I);null==D.coordDim&&(D.coordDim=function(t,e,n){if(n||e.hasKey(t)){for(var i=0;e.hasKey(t+i);)i++;t+=i}return e.set(t,!0),t}(w,r,S),D.coordDimIndex=0,(!_||b<=0)&&(D.isExtraCoord=!0),b--),M(D),null!=D.type||Pi(t,I)!==Ti.Must&&(!D.isExtraCoord||null==D.otherDims.itemName&&null==D.otherDims.seriesName)||(D.type="ordinal")}for(var T=l,C=(0,s.kW)(),A=0;A<T.length;A++){var k=T[A],L=k.name,P=C.get(L)||0;0<P&&(k.name=L+(P-1)),P++,C.set(L,P)}return new $c({source:t,dimensions:l,fullDimensionCount:u,dimensionOmitted:c})}var vh=function(t){this.coordSysDims=[],this.axisMap=(0,s.kW)(),this.categoryAxisMap=(0,s.kW)(),this.coordSysName=t},xh={cartesian2d:function(t,e,n,i){var o=t.getReferringComponents("xAxis",j).models[0];t=t.getReferringComponents("yAxis",j).models[0],e.coordSysDims=["x","y"],n.set("x",o),n.set("y",t),_h(o)&&(i.set("x",o),e.firstCategoryDimIndex=0),_h(t)&&(i.set("y",t),null==e.firstCategoryDimIndex)&&(e.firstCategoryDimIndex=1)},singleAxis:function(t,e,n,i){t=t.getReferringComponents("singleAxis",j).models[0],e.coordSysDims=["single"],n.set("single",t),_h(t)&&(i.set("single",t),e.firstCategoryDimIndex=0)},polar:function(t,e,n,i){var o=(t=t.getReferringComponents("polar",j).models[0]).findAxisModel("radiusAxis");t=t.findAxisModel("angleAxis"),e.coordSysDims=["radius","angle"],n.set("radius",o),n.set("angle",t),_h(o)&&(i.set("radius",o),e.firstCategoryDimIndex=0),_h(t)&&(i.set("angle",t),null==e.firstCategoryDimIndex)&&(e.firstCategoryDimIndex=1)},geo:function(t,e,n,i){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,i){var o=t.ecModel,a=(t=o.getComponent("parallel",t.get("parallelIndex")),e.coordSysDims=t.dimensions.slice());(0,s.S6)(t.parallelAxisIndex,(function(t,r){t=o.getComponent("parallelAxis",t);var s=a[r];n.set(s,t),_h(t)&&(i.set(s,t),null==e.firstCategoryDimIndex)&&(e.firstCategoryDimIndex=r)}))}};function _h(t){return"category"===t.get("type")}function Sh(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function bh(t,e){return Sh(t,e)?t.getCalculationInfo("stackResultDimension"):e}var wh,Mh=function(t,e,n){n=n||{};var i,o,a,r,l,u,c=e.getSourceManager(),h=!1,d=(t?(h=!0,i=ko(t)):h=(i=c.getSource()).sourceFormat===xi,t=function(t){var e=t.get("coordinateSystem"),n=new vh(e);if(e=xh[e])return e(t,n,n.axisMap,n.categoryAxisMap),n}(e),o=t,d=(d=e).get("coordinateSystem"),d=eo.get(d),p=(p=o&&o.coordSysDims?s.UI(o.coordSysDims,(function(t){var e={name:t};return(t=o.axisMap.get(t))&&(t=t.get("type"),e.type=Jc(t)),e})):p)||d&&(d.getDimensionsInfo?d.getDimensionsInfo():d.dimensions.slice())||["x","y"]),p=n.useEncodeDefaulter,g=(p=s.mf(p)?p:p?s.WA(Ai,d,e):null,p=(d=mh(i,{coordDimensions:d,generateCoord:n.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:p,canOmitUnusedDimensions:!h})).dimensions,a=n.createInvertedIndices,(r=t)&&s.S6(p,(function(t,e){var n=t.coordDim;(n=r.categoryAxisMap.get(n))&&(null==l&&(l=e),t.ordinalMeta=n.getOrdinalMeta(),a)&&(t.createInvertedIndices=!0),null!=t.otherDims.itemName&&(u=!0)})),u||null==l||(p[l].otherDims.itemName=0),l);return t=function(t,e,n){var i,o,a,r,l,u,c,h,d,p=(n=n||{}).byIndex,g=n.stackedCoordDimension,f=(th(e.schema)?(o=e.schema,i=o.dimensions,a=e.store):i=e,!(!t||!t.get("stack")));return(0,s.S6)(i,(function(t,e){(0,s.HD)(t)&&(i[e]=t={name:t}),f&&!t.isExtraCoord&&(p||r||!t.ordinalMeta||(r=t),l||"ordinal"===t.type||"time"===t.type||g&&g!==t.coordDim||(l=t))})),!l||p||r||(p=!0),l&&(u="__\0ecstackresult_"+t.id,c="__\0ecstackedover_"+t.id,r&&(r.createInvertedIndices=!0),h=l.coordDim,n=l.type,(d=0,s.S6)(i,(function(t){t.coordDim===h&&d++})),e={name:u,coordDim:h,coordDimIndex:d,type:n,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},t={name:c,coordDim:c,coordDimIndex:d+1,type:n,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1},o?(a&&(e.storeDimIndex=a.ensureCalculationDimension(c,n),t.storeDimIndex=a.ensureCalculationDimension(u,n)),o.appendCalculationDimension(e),o.appendCalculationDimension(t)):(i.push(e),i.push(t))),{stackedDimension:l&&l.name,stackedByDimension:r&&r.name,isStackedByIndex:p,stackedOverDimension:c,stackResultDimension:u}}(e,{schema:d,store:n=h?null:c.getSharedDataStore(d)}),(p=new yh(d,e)).setCalculationInfo(t),c=null!=g&&function(t){if(t.sourceFormat===xi)return t=function(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}(t.data||[]),!s.kJ(V(t))}(i)?function(t,e,n,i){return i===g?n:this.defaultDimValueGetter(t,e,n,i)}:null,p.hasItemOption=!1,p.initData(h?i:n,null,c),p};function Ih(){var t=null!==wh&&wh.apply(this,arguments)||this;return t.type=Ih.type,t.hasSymbolVisual=!0,t}a(Ih,wh=Ir),Ih.prototype.getInitialData=function(t){return Mh(null,this,{useEncodeDefaulter:!0})},Ih.prototype.getLegendIcon=function(t){var e=new Dr.Z,n=Ol("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1),i=(e.add(n),n.setStyle(t.lineStyle),n=this.getData().getVisual("symbol"),this.getData().getVisual("symbolRotate")),o=(n="none"===n?"circle":n,.8*t.itemHeight);return o=Ol(n,(t.itemWidth-o)/2,(t.itemHeight-o)/2,o,o,t.itemStyle.fill),e.add(o),o.setStyle(t.itemStyle),i="inherit"===t.iconRotate?i:t.iconRotate||0,o.rotation=i*Math.PI/180,o.setOrigin([t.itemWidth/2,t.itemHeight/2]),-1<n.indexOf("empty")&&(o.style.stroke=o.style.fill,o.style.fill="#fff",o.style.lineWidth=2),e},Ih.type="series.line",Ih.dependencies=["grid","polar"],Ih.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1};var Dh,Th=Ih;function Ch(t,e){var n,i=t.mapDimensionsAll("defaultedLabel"),o=i.length;if(1===o)return null!=(n=qo(t,e,i[0]))?n+"":null;if(o){for(var a=[],r=0;r<i.length;r++)a.push(qo(t,e,i[r]));return a.join(" ")}}function Ah(t,e){var n=t.mapDimensionsAll("defaultedLabel");if(!(0,s.kJ)(e))return e+"";for(var i=[],o=0;o<n.length;o++){var a=t.getDimensionIndex(n[o]);0<=a&&i.push(e[a])}return i.join(" ")}function kh(t,e,n,i){var o=Dh.call(this)||this;return o.updateData(t,e,n,i),o}function Lh(t,e){this.parent.drift(t,e)}a(kh,Dh=Dr.Z),kh.prototype._createSymbol=function(t,e,n,i,o){this.removeAll(),(o=Ol(t,-1,-1,2,2,null,o)).attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),o.drift=Lh,this._symbolType=t,this.add(o)},kh.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},kh.prototype.getSymbolType=function(){return this._symbolType},kh.prototype.getSymbolPath=function(){return this.childAt(0)},kh.prototype.highlight=function(){Kt(this.childAt(0))},kh.prototype.downplay=function(){qt(this.childAt(0))},kh.prototype.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},kh.prototype.setDraggable=function(t,e){var n=this.childAt(0);n.draggable=t,n.cursor=!e&&t?"move":n.cursor},kh.prototype.updateData=function(t,e,n,i){this.silent=!1;var o,a,r,s=t.getItemVisual(e,"symbol")||"circle",l=t.hostModel,u=kh.getSymbolSize(t,e),c=s!==this._symbolType,h=i&&i.disableAnimation;c?(o=t.getItemVisual(e,"symbolKeepAspect"),this._createSymbol(s,t,e,u,o)):((a=this.childAt(0)).silent=!1,r={scaleX:u[0]/2,scaleY:u[1]/2},h?a.attr(r):Se(a,r,l,e),Te(a)),this._updateCommon(t,e,u,n,i),c&&(a=this.childAt(0),h||(r={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:a.style.opacity}},a.scaleX=a.scaleY=0,a.style.opacity=0,be(a,r,l,e))),h&&this.childAt(0).stopAnimation("leave")},kh.prototype._updateCommon=function(t,e,n,i,o){var a,r,l,u,c,h,d,p,g=this.childAt(0),f=t.hostModel,y=(i&&(a=i.emphasisItemStyle,l=i.blurItemStyle,r=i.selectItemStyle,u=i.focus,c=i.blurScope,d=i.labelStatesModels,p=i.hoverScale,m=i.cursorStyle,h=i.emphasisDisabled),i&&!t.hasItemOption||(a=(y=(i=i&&i.itemModel?i.itemModel:t.getItemModel(e)).getModel("emphasis")).getModel("itemStyle").getItemStyle(),r=i.getModel(["select","itemStyle"]).getItemStyle(),l=i.getModel(["blur","itemStyle"]).getItemStyle(),u=y.get("focus"),c=y.get("blurScope"),h=y.get("disabled"),d=Pe(i),p=y.getShallow("scale"),m=i.getShallow("cursor")),t.getItemVisual(e,"symbolRotate")),m=(i=(g.attr("rotation",(y||0)*Math.PI/180||0),(i=Vl(t.getItemVisual(e,"symbolOffset"),n))&&(g.x=i[0],g.y=i[1]),m&&g.attr("cursor",m),y=t.getItemVisual(e,"style")).fill,g instanceof Nr.ZP?(m=g.style,g.useStyle((0,s.l7)({image:m.image,x:m.x,y:m.y,width:m.width,height:m.height},y))):(g.__isEmptyBrush?g.useStyle((0,s.l7)({},y)):g.useStyle(y),g.style.decal=null,g.setColor(i,o&&o.symbolInnerColor),g.style.strokeNoScale=!0),t.getItemVisual(e,"liftZ")),v=this._z2,x=(null!=m?null==v&&(this._z2=g.z2,g.z2+=m):null!=v&&(g.z2=v,this._z2=null),o&&o.useNameLabel);Le(g,d,{labelFetcher:f,labelDataIndex:e,defaultText:function(e){return x?t.getName(e):Ch(t,e)},inheritColor:i,defaultOpacity:y.opacity}),this._sizeX=n[0]/2,this._sizeY=n[1]/2,(m=g.ensureState("emphasis")).style=a,g.ensureState("select").style=r,g.ensureState("blur").style=l,v=null==p||!0===p?Math.max(1.1,3/this._sizeY):isFinite(p)&&0<p?+p:1,m.scaleX=this._sizeX*v,m.scaleY=this._sizeY*v,this.setSymbolScale(1),ue(this,u,c,h)},kh.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},kh.prototype.fadeOut=function(t,e,n){var i=this.childAt(0),o=yt(this).dataIndex,a=n&&n.animation;this.silent=i.silent=!0,n&&n.fadeLabel?(n=i.getTextContent())&&Me(n,{style:{opacity:0}},e,{dataIndex:o,removeOpt:a,cb:function(){i.removeTextContent()}}):i.removeTextContent(),Me(i,{style:{opacity:0},scaleX:0,scaleY:0},e,{dataIndex:o,cb:t,removeOpt:a})},kh.getSymbolSize=function(t,e){return El(t.getItemVisual(e,"symbolSize"))};var Ph=kh;function Rh(t,e,n,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&(!i.isIgnore||!i.isIgnore(n))&&(!i.clipShape||i.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(n,"symbol")}function Nh(t){return(t=null==t||(0,s.Kn)(t)?t:{isIgnore:t})||{}}function Oh(t){var e=(t=t.hostModel).getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:Pe(t),cursorStyle:t.get("cursor")}}function Eh(t){this.group=new Dr.Z,this._SymbolCtor=t||Ph}Eh.prototype.updateData=function(t,e){this._progressiveEls=null,e=Nh(e);var n=this.group,i=t.hostModel,o=this._data,a=this._SymbolCtor,r=e.disableAnimation,s=Oh(t),l={disableAnimation:r},u=e.getSymbolPoint||function(e){return t.getItemLayout(e)};o||n.removeAll(),t.diff(o).add((function(i){var o,r=u(i);Rh(t,r,i,e)&&((o=new a(t,i,s,l)).setPosition(r),t.setItemGraphicEl(i,o),n.add(o))})).update((function(c,h){h=o.getItemGraphicEl(h);var d,p,g=u(c);Rh(t,g,c,e)?(d=t.getItemVisual(c,"symbol")||"circle",p=h&&h.getSymbolType&&h.getSymbolType(),!h||p&&p!==d?(n.remove(h),(h=new a(t,c,s,l)).setPosition(g)):(h.updateData(t,c,s,l),p={x:g[0],y:g[1]},r?h.attr(p):Se(h,p,i)),n.add(h),t.setItemGraphicEl(c,h)):n.remove(h)})).remove((function(t){var e=o.getItemGraphicEl(t);e&&e.fadeOut((function(){n.remove(e)}),i)})).execute(),this._getSymbolPoint=u,this._data=t},Eh.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl((function(e,n){n=t._getSymbolPoint(n),e.setPosition(n),e.markRedraw()}))},Eh.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Oh(t),this._data=null,this.group.removeAll()},Eh.prototype.incrementalUpdate=function(t,e,n){function i(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],n=Nh(n);for(var o=t.start;o<t.end;o++){var a,r=e.getItemLayout(o);Rh(e,r,o,n)&&((a=new this._SymbolCtor(e,o,this._seriesScope)).traverse(i),a.setPosition(r),this.group.add(a),e.setItemGraphicEl(o,a),this._progressiveEls.push(a))}},Eh.prototype.eachRendered=function(t){Ds(this._progressiveEls||this.group,t)},Eh.prototype.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl((function(t){t.fadeOut((function(){e.remove(t)}),n.hostModel)})):e.removeAll()};var Vh=Eh;function zh(t,e,n){var i=t.getBaseAxis(),o=(n=function(t,e){var n=0;return t=t.scale.getExtent(),"start"===e?n=t[0]:"end"===e?n=t[1]:(0,s.hj)(e)&&!isNaN(e)?n=e:0<t[0]?n=t[0]:t[1]<0&&(n=t[1]),n}(o=t.getOtherAxis(i),n),i=i.dim,o.dim),a=e.mapDimension(o),r=e.mapDimension(i),l="x"===o||"radius"===o?1:0,u=(t=(0,s.UI)(t.dimensions,(function(t){return e.mapDimension(t)})),!1),c=e.getCalculationInfo("stackResultDimension");return Sh(e,t[0])&&(u=!0,t[0]=c),Sh(e,t[1])&&(u=!0,t[1]=c),{dataDimsForPoint:t,valueStart:n,valueAxisDim:o,baseAxisDim:i,stacked:!!u,valueDim:a,baseDim:r,baseDataOffset:l,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Bh(t,e,n,i){var o=NaN,a=(t.stacked&&(o=n.get(n.getCalculationInfo("stackedOverDimension"),i)),isNaN(o)&&(o=t.valueStart),t.baseDataOffset),r=[];return r[a]=n.get(t.baseDim,i),r[1-a]=o,e.dataToPoint(r)}var Gh="undefined"!=typeof Float32Array,Zh=Gh?Float32Array:Array;function Wh(t){return(0,s.kJ)(t)?Gh?new Float32Array(t):t:new Zh(t)}var Fh=Math.min,Hh=Math.max;function Uh(t,e){return isNaN(t)||isNaN(e)}function Xh(t,e,n,i,o,a,r,s,l){for(var u,c,h,d,p=n,g=0;g<i;g++){var f=e[2*p],y=e[2*p+1];if(o<=p||p<0)break;if(Uh(f,y)){if(l){p+=a;continue}break}if(p===n)t[0<a?"moveTo":"lineTo"](f,y),h=f,d=y;else{if((k=f-u)*k+(L=y-c)*L<.5){p+=a;continue}if(0<r){for(var m=p+a,v=e[2*m],x=e[2*m+1];v===f&&x===y&&g<i;)g++,p+=a,v=e[2*(m+=a)],x=e[2*m+1],f=e[2*p],y=e[2*p+1];var _=g+1;if(l)for(;Uh(v,x)&&_<i;)_++,v=e[2*(m+=a)],x=e[2*m+1];var S,b,w,M,I,D,T,C,A,k=0,L=0,P=void 0,R=void 0;i<=_||Uh(v,x)?(T=f,C=y):(k=v-u,L=x-c,S=f-u,b=v-f,w=y-c,M=x-y,D=I=void 0,R="x"===s?(T=f-(A=0<k?1:-1)*(I=Math.abs(S))*r,C=y,P=f+A*(D=Math.abs(b))*r,y):"y"===s?(C=y-(A=0<L?1:-1)*(I=Math.abs(w))*r,P=T=f,y+A*(D=Math.abs(M))*r):(I=Math.sqrt(S*S+w*w),T=f-k*r*(1-(S=(D=Math.sqrt(b*b+M*M))/(D+I))),C=y-L*r*(1-S),R=y+L*r*S,P=Fh(P=f+k*r*S,Hh(v,f)),R=Fh(R,Hh(x,y)),P=Hh(P,Fh(v,f)),C=y-(L=(R=Hh(R,Fh(x,y)))-y)*I/D,T=Fh(T=f-(k=P-f)*I/D,Hh(u,f)),C=Fh(C,Hh(c,y)),P=f+(k=f-(T=Hh(T,Fh(u,f))))*D/I,y+(L=y-(C=Hh(C,Fh(c,y))))*D/I)),t.bezierCurveTo(h,d,T,C,f,y),h=P,d=R}else t.lineTo(f,y)}u=f,c=y,p+=a}return g}var Yh,Jh=function(){this.smooth=0,this.smoothConstraint=!0},jh=(a(Kh,Yh=vt.ZP),Kh.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Kh.prototype.getDefaultShape=function(){return new Jh},Kh.prototype.buildPath=function(t,e){var n=e.points,i=0,o=n.length/2;if(e.connectNulls){for(;0<o&&Uh(n[2*o-2],n[2*o-1]);o--);for(;i<o&&Uh(n[2*i],n[2*i+1]);i++);}for(;i<o;)i+=Xh(t,n,i,o,o,1,e.smooth,e.smoothMonotone,e.connectNulls)+1},Kh.prototype.getPointOn=function(t,e){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n,i,o=this.path.data,a=ec.Z.CMD,r="x"===e,s=[],l=0;l<o.length;){var u=void 0,c=void 0;switch(o[l++]){case a.M:n=o[l++],i=o[l++];break;case a.L:var h;if(u=o[l++],c=o[l++],(h=r?(t-n)/(u-n):(t-i)/(c-i))<=1&&0<=h)return v=r?(c-i)*h+i:(u-n)*h+n,r?[t,v]:[v,t];n=u,i=c;break;case a.C:u=o[l++],c=o[l++];var d=o[l++],p=o[l++],g=o[l++],f=o[l++],y=r?(0,ic.kD)(n,u,d,g,t,s):(0,ic.kD)(i,c,p,f,t,s);if(0<y)for(var m=0;m<y;m++){var v,x=s[m];if(x<=1&&0<=x)return v=r?(0,ic.af)(i,c,p,f,x):(0,ic.af)(n,u,d,g,x),r?[t,v]:[v,t]}n=g,i=f}}},Kh);function Kh(t){return(t=Yh.call(this,t)||this).type="ec-polyline",t}a(Qh,qh=Jh);var qh,$h=Qh;function Qh(){return null!==qh&&qh.apply(this,arguments)||this}a(id,td=vt.ZP),id.prototype.getDefaultShape=function(){return new $h},id.prototype.buildPath=function(t,e){var n=e.points,i=e.stackedOnPoints,o=0,a=n.length/2,r=e.smoothMonotone;if(e.connectNulls){for(;0<a&&Uh(n[2*a-2],n[2*a-1]);a--);for(;o<a&&Uh(n[2*o],n[2*o+1]);o++);}for(;o<a;){var s=Xh(t,n,o,a,a,1,e.smooth,r,e.connectNulls);Xh(t,i,o+s-1,s,a,-1,e.stackedOnSmooth,r,e.connectNulls),o+=s+1,t.closePath()}};var td,ed,nd=id;function id(t){return(t=td.call(this,t)||this).type="ec-polygon",t}function od(t,e,n,i,o){var a=(u=t.getArea()).x,r=u.y,l=u.width,u=u.height,c=n.get(["lineStyle","width"])||0,h=(a-=c/2,r-=c/2,l+=c,u+=c,l=Math.ceil(l),a!==Math.floor(a)&&(a=Math.floor(a),l++),new Zr.Z({shape:{x:a,y:r,width:l,height:u}}));return e&&(e=(c=t.getBaseAxis()).isHorizontal(),t=c.inverse,e?(t&&(h.shape.x+=l),h.shape.width=0):(t||(h.shape.y+=u),h.shape.height=0),c=(0,s.mf)(o)?function(t){o(t,h)}:null,be(h,{shape:{width:l,height:u,x:a,y:r}},n,null,i,c)),h}function ad(t,e,n){var i=t.getArea(),o=g(i.r0,1),a=g(i.r,1),r=new Vr.C({shape:{cx:g(t.cx,1),cy:g(t.cy,1),r0:o,r:a,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});return e&&("angle"===t.getBaseAxis().dim?r.shape.endAngle=i.startAngle:r.shape.r=o,be(r,{shape:{endAngle:i.endAngle,r:a}},n)),r}function rd(t,e,n,i,o){return t?"polar"===t.type?ad(t,e,n):"cartesian2d"===t.type?od(t,e,n,i,o):null:null}function sd(t,e){return t.type===e}function ld(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return;return 1}}function ud(t){for(var e=1/0,n=1/0,i=-1/0,o=-1/0,a=0;a<t.length;){var r=t[a++],s=t[a++];isNaN(r)||(e=Math.min(r,e),i=Math.max(r,i)),isNaN(s)||(n=Math.min(s,n),o=Math.max(s,o))}return[[e,n],[i,o]]}function cd(t,e){var n=(t=ud(t))[0],i=(t=t[1],(e=ud(e))[0]);return e=e[1],Math.max(Math.abs(n[0]-i[0]),Math.abs(n[1]-i[1]),Math.abs(t[0]-e[0]),Math.abs(t[1]-e[1]))}function hd(t){return s.hj(t)?t:t?.5:0}function dd(t,e,n,i,o){var a="x"===(n=n.getBaseAxis()).dim||"radius"===n.dim?0:1,r=[],s=0,l=[],u=[],c=[],h=[];if(o){for(s=0;s<t.length;s+=2){var d=e||t;isNaN(d[s])||isNaN(d[s+1])||h.push(t[s],t[s+1])}t=h}for(s=0;s<t.length-2;s+=2)switch(c[0]=t[s+2],c[1]=t[s+3],u[0]=t[s],u[1]=t[s+1],r.push(u[0],u[1]),i){case"end":l[a]=c[a],l[1-a]=u[1-a],r.push(l[0],l[1]);break;case"middle":var p=[];l[a]=p[a]=(u[a]+c[a])/2,l[1-a]=u[1-a],p[1-a]=c[1-a],r.push(l[0],l[1]),r.push(p[0],p[1]);break;default:l[a]=u[a],l[1-a]=c[1-a],r.push(l[0],l[1])}return r.push(t[s++],t[s++]),r}function pd(t,e){return[t[2*e],t[2*e+1]]}function gd(t){if(t.get(["endLabel","show"]))return 1;for(var e=0;e<Dt.length;e++)if(t.get([Dt[e],"endLabel","show"]))return 1}function fd(t,e,n,i){var o,a,r,s,l,u,c,h,d;return sd(e,"cartesian2d")?(o=i.getModel("endLabel"),a=o.get("valueAnimation"),r=i.getData(),s={lastFrameIndex:0},l=gd(i)?function(n,i){t._endLabelOnDuring(n,i,r,s,a,o,e)}:null,u=e.getBaseAxis().isHorizontal(),c=od(e,n,i,(function(){var e=t._endLabel;e&&n&&null!=s.originalX&&e.attr({x:s.originalX,y:s.originalY})}),l),i.get("clip",!0)||(h=c.shape,d=Math.max(h.width,h.height),u?(h.y-=d,h.height+=2*d):(h.x-=d,h.width+=2*d)),l&&l(1,c),c):ad(e,n,i)}function yd(){return null!==ed&&ed.apply(this,arguments)||this}a(yd,ed=Os),yd.prototype.init=function(){var t=new Dr.Z,e=new Vh;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t,this._changePolyState=s.ak(this._changePolyState,this)},yd.prototype.render=function(t,e,n){var i,o=t.coordinateSystem,a=this.group,r=t.getData(),l=t.getModel("lineStyle"),u=t.getModel("areaStyle"),c=r.getLayout("points")||[],h="polar"===o.type,d=this._coordSys,p=this._symbolDraw,g=this._polyline,f=this._polygon,y=this._lineGroup,m=(e=!e.ssr&&t.get("animation"),!u.isEmpty()),v=u.get("origin"),x=zh(o,r,v),_=(x=m&&function(t,e,n){if(!n.valueDim)return[];for(var i=e.count(),o=Wh(2*i),a=0;a<i;a++){var r=Bh(n,t,e,a);o[2*a]=r[0],o[2*a+1]=r[1]}return o}(o,r,x),t.get("showSymbol")),S=t.get("connectNulls"),b=_&&!h&&function(t,e,n){var i="auto"===(t=t.get("showAllSymbol"));if(!t||i){var o,a,r=n.getAxesByScale("ordinal")[0];if(r&&(!i||!function(t,e){for(var n=t.getExtent(),i=Math.abs(n[1]-n[0])/t.scale.count(),o=(isNaN(i)&&(i=0),e.count()),a=Math.max(1,Math.round(o/5)),r=0;r<o;r+=a)if(1.5*Ph.getSymbolSize(e,r)[t.isHorizontal()?1:0]>i)return;return 1}(r,e)))return o=e.mapDimension(r.dim),a={},s.S6(r.getViewLabels(),(function(t){t=r.scale.getRawOrdinalNumber(t.tickValue),a[t]=1})),function(t){return!a.hasOwnProperty(e.get(o,t))}}}(t,r,o),w=this._data,M=(w&&w.eachItemGraphicEl((function(t,e){t.__temp&&(a.remove(t),w.setItemGraphicEl(e,null))})),_||p.remove(),a.add(y),!h&&t.get("step")),I=(o&&o.getArea&&t.get("clip",!0)&&(null!=(i=o.getArea()).width?(i.x-=.1,i.y-=.1,i.width+=.2,i.height+=.2):i.r0&&(i.r0-=.5,i.r+=.5)),this._clipShapeForSymbol=i,function(t,e,n){var i=t.getVisual("visualMeta");if(i&&i.length&&t.count()&&"cartesian2d"===e.type){for(var o,a=i.length-1;0<=a;a--){var r,l=t.getDimensionInfo(i[a].dimension);if("x"===(r=l&&l.coordDim)||"y"===r){o=i[a];break}}if(o){var u=e.getAxis(r),c=(e=s.UI(o.stops,(function(t){return{coord:u.toGlobalCoord(u.dataToCoord(t.value)),color:t.color}})),e.length),h=o.outerColors.slice(),d=(c&&e[0].coord>e[c-1].coord&&(e.reverse(),h.reverse()),n=function(t,e){var n,i,o=[],a=t.length;function r(t,e,n){var i=(n-(i=t.coord))/(e.coord-i);return{coord:n,color:(0,mt.t7)(i,[t.color,e.color])}}for(var s=0;s<a;s++){var l=t[s],u=l.coord;if(u<0)n=l;else{if(e<u){i?o.push(r(i,l,e)):n&&o.push(r(n,l,0),r(n,l,e));break}n&&(o.push(r(n,l,0)),n=null),o.push(l),i=l}}return o}(e,"x"===r?n.getWidth():n.getHeight()),n.length);if(!d&&c)return e[0].coord<0?h[1]||e[c-1].color:h[0]||e[0].color;var p=n[0].coord-10,g=(c=n[d-1].coord+10)-p;return g<.001?"transparent":(s.S6(n,(function(t){t.offset=(t.coord-p)/g})),n.push({offset:d?n[d-1].offset:.5,color:h[1]||"transparent"}),n.unshift({offset:d?n[0].offset:.5,color:h[0]||"transparent"}),(e=new Xr.Z(0,0,0,0,n,!0))[r]=p,e[r+"2"]=c,e)}}}(r,o,n)||r.getVisual("style")[r.getVisual("drawType")]),D=(n=(g&&d.type===o.type&&M===this._step?(m&&!f?f=this._newPolygon(c,x):f&&!m&&(y.remove(f),f=this._polygon=null),h||this._initOrUpdateEndLabel(t,o,jn(I)),(d=y.getClipPath())?be(d,{shape:fd(this,o,!1,t).shape},t):y.setClipPath(fd(this,o,!0,t)),_&&p.updateData(r,{isIgnore:b,clipShape:i,disableAnimation:!0,getSymbolPoint:function(t){return[c[2*t],c[2*t+1]]}}),ld(this._stackedOnPoints,x)&&ld(this._points,c)||(e?this._doUpdateAnimation(r,x,o,n,M,v,S):(M&&(x=x&&dd(x,c,o,M,S),c=dd(c,null,o,M,S)),g.setShape({points:c}),f&&f.setShape({points:c,stackedOnPoints:x})))):(_&&p.updateData(r,{isIgnore:b,clipShape:i,disableAnimation:!0,getSymbolPoint:function(t){return[c[2*t],c[2*t+1]]}}),e&&this._initSymbolLabelAnimation(r,o,i),M&&(x=x&&dd(x,c,o,M,S),c=dd(c,null,o,M,S)),g=this._newPolyline(c),m?f=this._newPolygon(c,x):f&&(y.remove(f),f=this._polygon=null),h||this._initOrUpdateEndLabel(t,o,jn(I)),y.setClipPath(fd(this,o,!0,t))),d=t.getModel("emphasis")).get("focus"),_=d.get("blurScope"),p=d.get("disabled"),g.useStyle(s.ce(l.getLineStyle(),{fill:"none",stroke:I,lineJoin:"bevel"})),pe(g,t,"lineStyle"),0<g.style.lineWidth&&"bolder"===t.get(["emphasis","lineStyle","width"])&&(g.getState("emphasis").style.lineWidth=+g.style.lineWidth+1),yt(g).seriesIndex=t.seriesIndex,ue(g,n,_,p),b=hd(t.get("smooth")),e=t.get("smoothMonotone"),g.setShape({smooth:b,smoothMonotone:e,connectNulls:S}),f&&(i=r.getCalculationInfo("stackedOnSeries"),m=0,f.useStyle(s.ce(u.getAreaStyle(),{fill:I,opacity:.7,lineJoin:"bevel",decal:r.getVisual("style").decal})),i&&(m=hd(i.get("smooth"))),f.setShape({smooth:b,stackedOnSmooth:m,smoothMonotone:e,connectNulls:S}),pe(f,t,"areaStyle"),yt(f).seriesIndex=t.seriesIndex,ue(f,n,_,p)),this._changePolyState);r.eachItemGraphicEl((function(t){t&&(t.onHoverStateChange=D)})),this._polyline.onHoverStateChange=D,this._data=r,this._coordSys=o,this._stackedOnPoints=x,this._points=c,this._step=M,this._valueOrigin=v,t.get("triggerLineEvent")&&(this.packEventData(t,g),f)&&this.packEventData(t,f)},yd.prototype.packEventData=function(t,e){yt(e).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},yd.prototype.highlight=function(t,e,n,i){var o=t.getData(),a=H(o,i);if(this._changePolyState("emphasis"),!(a instanceof Array)&&null!=a&&0<=a){var r=o.getLayout("points");if(!(l=o.getItemGraphicEl(a))){var s=r[2*a];if(r=r[2*a+1],isNaN(s)||isNaN(r))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(s,r))return;var l,u=t.get("zlevel")||0,c=t.get("z")||0;(l=new Ph(o,a)).x=s,l.y=r,l.setZ(u,c),(s=l.getSymbolPath().getTextContent())&&(s.zlevel=u,s.z=c,s.z2=this._polyline.z2+1),l.__temp=!0,o.setItemGraphicEl(a,l),l.stopSymbolAnimation(!0),this.group.add(l)}l.highlight()}else Os.prototype.highlight.call(this,t,e,n,i)},yd.prototype.downplay=function(t,e,n,i){var o,a=t.getData(),r=H(a,i);this._changePolyState("normal"),null!=r&&0<=r?(o=a.getItemGraphicEl(r))&&(o.__temp?(a.setItemGraphicEl(r,null),this.group.remove(o)):o.downplay()):Os.prototype.downplay.call(this,t,e,n,i)},yd.prototype._changePolyState=function(t){var e=this._polygon;Ut(this._polyline,t),e&&Ut(e,t)},yd.prototype._newPolyline=function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new jh({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(e),this._polyline=e},yd.prototype._newPolygon=function(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new nd({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n},yd.prototype._initSymbolLabelAnimation=function(t,e,n){var i,o,a,r=(a=e.getBaseAxis()).inverse,l=("cartesian2d"===e.type?(i=a.isHorizontal(),o=!1):"polar"===e.type&&(i="angle"===a.dim,o=!0),a=t.hostModel).get("animationDuration"),u=(s.mf(l)&&(l=l(null)),a.get("animationDelay")||0),c=s.mf(u)?u(null):u;t.eachItemGraphicEl((function(t,a){var h,d,p,g,f,y=t;y&&(g=[t.x,t.y],f=d=h=void 0,n&&(f=o?(p=n,g=e.pointToCoord(g),i?(h=p.startAngle,d=p.endAngle,-g[1]/180*Math.PI):(h=p.r0,d=p.r,g[0])):i?(h=n.x,d=n.x+n.width,t.x):(h=n.y+n.height,d=n.y,t.y)),p=d===h?0:(f-h)/(d-h),r&&(p=1-p),g=s.mf(u)?u(a):l*p+c,f=(t=y.getSymbolPath()).getTextContent(),y.attr({scaleX:0,scaleY:0}),y.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:g}),f&&f.animateFrom({style:{opacity:0}},{duration:300,delay:g}),t.disableLabelAnimation=!0)}))},yd.prototype._initOrUpdateEndLabel=function(t,e,n){var i,o,a,r=t.getModel("endLabel");gd(t)?(i=t.getData(),o=this._polyline,(a=i.getLayout("points"))?(this._endLabel||((this._endLabel=new ft.ZP({z2:200})).ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0),0<=(a=function(t){for(var e,n,i=t.length/2;0<i&&(e=t[2*i-2],n=t[2*i-1],isNaN(e)||isNaN(n));i--);return i-1}(a))&&(Le(o,Pe(t,"endLabel"),{inheritColor:n,labelFetcher:t,labelDataIndex:a,defaultText:function(t,e,n){return null!=n?Ah(i,n):Ch(i,t)},enableTextSetter:!0},(n=r,a=(t=(t=e).getBaseAxis()).isHorizontal(),t=t.inverse,r=a?t?"right":"left":"center",a=a?"middle":t?"top":"bottom",{normal:{align:n.get("align")||r,verticalAlign:n.get("verticalAlign")||a}})),o.textConfig.position=null)):(o.removeTextContent(),this._endLabel=null)):this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},yd.prototype._endLabelOnDuring=function(t,e,n,i,o,a,r){var s,l,u,c,h,d,p,g,f,y,m=this._endLabel,v=this._polyline;m&&(t<1&&null==i.originalX&&(i.originalX=m.x,i.originalY=m.y),s=n.getLayout("points"),f=(l=n.hostModel).get("connectNulls"),u=a.get("precision"),a=a.get("distance")||0,h=(r=r.getBaseAxis()).isHorizontal(),r=r.inverse,e=e.shape,c=(h?a:0)*(r?-1:1),a=(h?0:-a)*(r?-1:1),p=void 0,1<=(g=(d=(h=function(t,e,n){for(var i,o,a=t.length/2,r="x"===n?0:1,s=0,l=-1,u=0;u<a;u++)if(o=t[2*u+r],!isNaN(o)&&!isNaN(t[2*u+1-r])){if(0!==u){if(i<=e&&e<=o||e<=i&&o<=e){l=u;break}s=u}i=o}return{range:[s,l],t:(e-i)/(o-i)}}(s,r=r?h?e.x:e.y+e.height:h?e.x+e.width:e.y,e=h?"x":"y")).range)[1]-d[0])?(1<g&&!f?(y=pd(s,d[0]),m.attr({x:y[0]+c,y:y[1]+a}),o&&(p=l.getRawValue(d[0]))):((y=v.getPointOn(r,e))&&m.attr({x:y[0]+c,y:y[1]+a}),g=l.getRawValue(d[0]),f=l.getRawValue(d[1]),o&&(p=tt(n,u,g,f,h.t))),i.lastFrameIndex=d[0]):(y=pd(s,v=1===t||0<i.lastFrameIndex?d[0]:0),o&&(p=l.getRawValue(v)),m.attr({x:y[0]+c,y:y[1]+a})),o)&&"function"==typeof(r=Ge(m)).setLabelText&&r.setLabelText(p)},yd.prototype._doUpdateAnimation=function(t,e,n,i,o,a,r){var s=this._polyline,l=this._polygon,u=t.hostModel,c=(e=function(t,e,n,i,o,a){r=[],e.diff(t).add((function(t){r.push({cmd:"+",idx:t})})).update((function(t,e){r.push({cmd:"=",idx:e,idx1:t})})).remove((function(t){r.push({cmd:"-",idx:t})})).execute();for(var r,s=r,l=[],u=[],c=[],h=[],d=[],p=[],g=[],f=zh(o,e,a),y=t.getLayout("points")||[],m=e.getLayout("points")||[],v=0;v<s.length;v++){var x=s[v],_=!0,S=void 0;switch(x.cmd){case"=":var b=2*x.idx,w=(S=2*x.idx1,y[b]),M=y[1+b],I=m[S],D=m[S+1];(isNaN(w)||isNaN(M))&&(w=I,M=D),l.push(w,M),u.push(I,D),c.push(n[b],n[1+b]),h.push(i[S],i[S+1]),g.push(e.getRawIndex(x.idx1));break;case"+":w=x.idx,M=f.dataDimsForPoint,I=o.dataToPoint([e.get(M[0],w),e.get(M[1],w)]),S=2*w,l.push(I[0],I[1]),u.push(m[S],m[S+1]),D=Bh(f,o,e,w),c.push(D[0],D[1]),h.push(i[S],i[S+1]),g.push(e.getRawIndex(w));break;case"-":_=!1}_&&(d.push(x),p.push(p.length))}p.sort((function(t,e){return g[t]-g[e]}));var T=Wh(a=l.length),C=Wh(a),A=Wh(a),k=Wh(a),L=[];for(v=0;v<p.length;v++){var P=p[v],R=2*v,N=2*P;T[R]=l[N],T[1+R]=l[1+N],C[R]=u[N],C[1+R]=u[1+N],A[R]=c[N],A[1+R]=c[1+N],k[R]=h[N],k[1+R]=h[1+N],L[v]=d[P]}return{current:T,next:C,stackedOnCurrent:A,stackedOnNext:k,status:L}}(this._data,t,this._stackedOnPoints,e,this._coordSys,this._valueOrigin),e.current),h=e.stackedOnCurrent,d=e.next,p=e.stackedOnNext;if(o&&(h=dd(e.stackedOnCurrent,e.current,n,o,r),c=dd(e.current,null,n,o,r),p=dd(e.stackedOnNext,e.next,n,o,r),d=dd(e.next,null,n,o,r)),3e3<cd(c,d)||l&&3e3<cd(h,p))s.stopAnimation(),s.setShape({points:d}),l&&(l.stopAnimation(),l.setShape({points:d,stackedOnPoints:p}));else{s.shape.__points=e.current,s.shape.points=c,n={shape:{points:d}};for(var g,f=(e.current!==c&&(n.shape.__points=e.next),s.stopAnimation(),Se(s,n,u),l&&(l.setShape({points:c,stackedOnPoints:h}),l.stopAnimation(),Se(l,{shape:{stackedOnPoints:p}},u),s.shape.points!==l.shape.points)&&(l.shape.points=s.shape.points),[]),y=e.status,m=0;m<y.length;m++)"="===y[m].cmd&&(g=t.getItemGraphicEl(y[m].idx1))&&f.push({el:g,ptIdx:m});s.animators&&s.animators.length&&s.animators[0].during((function(){l&&l.dirtyShape();for(var t=s.shape.__points,e=0;e<f.length;e++){var n=f[e].el,i=2*f[e].ptIdx;n.x=t[i],n.y=t[1+i],n.markRedraw()}}))}},yd.prototype.remove=function(t){var e=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl((function(t,i){t.__temp&&(e.remove(t),n.setItemGraphicEl(i,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},yd.type="line";var md=yd;function vd(t,e){return{seriesType:t,plan:Ar(),reset:function(t){var n,i,o,a,r,l=t.getData(),u=t.coordinateSystem,c=(t=t.pipelineContext,e||t.large);if(u)return t=(0,s.UI)(u.dimensions,(function(t){return l.mapDimension(t)})).slice(0,2),n=t.length,i=l.getCalculationInfo("stackResultDimension"),Sh(l,t[0])&&(t[0]=i),Sh(l,t[1])&&(t[1]=i),o=l.getStore(),a=l.getDimensionIndex(t[0]),r=l.getDimensionIndex(t[1]),n&&{progress:function(t,e){for(var i=t.end-t.start,s=c&&Wh(i*n),l=[],h=[],d=t.start,p=0;d<t.end;d++){var g,f=void 0;f=1===n?(g=o.get(a,d),u.dataToPoint(g,null,h)):(l[0]=o.get(a,d),l[1]=o.get(r,d),u.dataToPoint(l,null,h)),c?(s[p++]=f[0],s[p++]=f[1]):e.setItemLayout(d,f.slice())}c&&e.setLayout("points",s)}}}}}var xd={average:function(t){for(var e=0,n=0,i=0;i<t.length;i++)isNaN(t[i])||(e+=t[i],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},_d=function(t){return Math.round(t.length/2)};function Sd(t){return{seriesType:t,reset:function(t,e,n){var i,o=t.getData(),a=t.get("sampling"),r=t.coordinateSystem,l=o.count();10<l&&"cartesian2d"===r.type&&a&&(i=r.getBaseAxis(),r=r.getOtherAxis(i),i=i.getExtent(),n=n.getDevicePixelRatio(),i=Math.abs(i[1]-i[0])*(n||1),n=Math.round(l/i),isFinite(n))&&1<n&&("lttb"===a?t.setData(o.lttbDownSample(o.mapDimension(r.dim),1/n)):"minmax"===a&&t.setData(o.minmaxDownSample(o.mapDimension(r.dim),1/n)),(l=void 0,s.HD)(a)?l=xd[a]:(0,s.mf)(a)&&(l=a),l)&&t.setData(o.downSample(o.mapDimension(r.dim),1/n,l,_d))}}}var bd,wd,Md="__ec_stack_";function Id(t){return t.get("stack")||Md+t.seriesIndex}function Dd(t){return t.dim+t.index}function Td(t,e){var n=[];return e.eachSeriesByType(t,(function(t){Pd(t)&&n.push(t)})),n}function Cd(t){var e=function(t){var e,n={},i=((0,s.S6)(t,(function(t){var e=t.coordinateSystem.getBaseAxis();if("time"===e.type||"value"===e.type){t=t.getData();for(var i=e.dim+"_"+e.index,o=t.getDimensionIndex(t.mapDimension(e.dim)),a=t.getStore(),r=0,s=a.count();r<s;++r){var l=a.get(o,r);n[i]?n[i].push(l):n[i]=[l]}}})),{});for(e in n)if(n.hasOwnProperty(e)){var o=n[e];if(o){o.sort((function(t,e){return t-e}));for(var a=null,r=1;r<o.length;++r){var l=o[r]-o[r-1];0<l&&(a=null===a?l:Math.min(a,l))}i[e]=a}}return i}(t),n=[];return(0,s.S6)(t,(function(t){var i,o=t.coordinateSystem.getBaseAxis(),a=o.getExtent(),r=(i="category"===o.type?o.getBandWidth():"value"===o.type||"time"===o.type?(i=o.dim+"_"+o.index,i=e[i],r=Math.abs(a[1]-a[0]),s=o.scale.getExtent(),s=Math.abs(s[1]-s[0]),i?r/s*i:r):(s=t.getData(),Math.abs(a[1]-a[0])/s.count()),p(t.get("barWidth"),i)),s=(a=p(t.get("barMaxWidth"),i),p(t.get("barMinWidth")||(Rd(t)?.5:1),i)),l=t.get("barGap"),u=t.get("barCategoryGap");n.push({bandWidth:i,barWidth:r,barMaxWidth:a,barMinWidth:s,barGap:l,barCategoryGap:u,axisKey:Dd(o),stackId:Id(t)})})),Ad(n)}function Ad(t){var e={},n=((0,s.S6)(t,(function(t,n){var i,o=t.axisKey,a=t.bandWidth,r=((i=(a=e[o]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}}).stacks)[(e[o]=a,o=t.stackId)]||a.autoWidthCount++,i[o]=i[o]||{width:0,maxWidth:0},(r=t.barWidth)&&!i[o].width&&(i[o].width=r,r=Math.min(a.remainedWidth,r),a.remainedWidth-=r),(r=t.barMaxWidth)&&(i[o].maxWidth=r),t.barMinWidth);null!=(null!=(r&&(i[o].minWidth=r),i=t.barGap)&&(a.gap=i),o=t.barCategoryGap)&&(a.categoryGap=o)})),{});return(0,s.S6)(e,(function(t,e){n[e]={};var i,o=t.stacks,a=t.bandWidth,r=t.categoryGap,l=(null==r&&(l=(0,s.XP)(o).length,r=Math.max(35-4*l,15)+"%"),p(r,a)),u=p(t.gap,1),c=t.remainedWidth,h=t.autoWidthCount,d=(c-l)/(h+(h-1)*u),g=(d=Math.max(d,0),(0,s.S6)(o,(function(t){var e,n=t.maxWidth,i=t.minWidth;t.width?(e=t.width,n&&(e=Math.min(e,n)),i&&(e=Math.max(e,i)),t.width=e,c-=e+u*e,h--):(e=d,n&&n<e&&(e=Math.min(n,c)),(e=i&&e<i?i:e)!==d&&(t.width=e,c-=e+u*e,h--))})),d=(c-l)/(h+(h-1)*u),d=Math.max(d,0),0),f=((0,s.S6)(o,(function(t,e){t.width||(t.width=d),g+=(i=t).width*(1+u)})),i&&(g-=i.width*u),-g/2);(0,s.S6)(o,(function(t,i){n[e][i]=n[e][i]||{bandWidth:a,offset:f,width:t.width},f+=t.width*(1+u)}))})),n}function kd(t,e){var n=Cd(t=Td(t,e));(0,s.S6)(t,(function(t){var e=t.getData(),i=t.coordinateSystem.getBaseAxis(),o=(t=Id(t),t=(i=n[Dd(i)][t]).offset,i.width);e.setLayout({bandWidth:i.bandWidth,offset:t,size:o})}))}function Ld(t){return{seriesType:t,plan:Ar(),reset:function(t){var e,n,i,o,a,r,s,l,u,c,h,d,p,g,f,y;if(Pd(t))return e=t.getData(),s=(n=t.coordinateSystem).getBaseAxis(),i=n.getOtherAxis(s),o=e.getDimensionIndex(e.mapDimension(i.dim)),a=e.getDimensionIndex(e.mapDimension(s.dim)),r=t.get("showBackground",!0),s=e.mapDimension(i.dim),l=e.getCalculationInfo("stackResultDimension"),u=Sh(e,s)&&!!e.getCalculationInfo("stackedOnSeries"),c=i.isHorizontal(),h=function(t){var e=t.model.get("startValue");return e=e||0,t.toGlobalCoord(t.dataToCoord("log"!==t.type||0<e?e:1))}(i),d=Rd(t),p=t.get("barMinHeight")||0,g=l&&e.getDimensionIndex(l),f=e.getLayout("size"),y=e.getLayout("offset"),{progress:function(t,e){for(var i,s=t.count,l=d&&Wh(3*s),m=d&&r&&Wh(3*s),v=d&&Wh(s),x=n.master.getRect(),_=c?x.width:x.height,S=e.getStore(),b=0;null!=(i=t.next());){var w,M=S.get(u?g:o,i),I=S.get(a,i),D=h,T=void 0,C=void(u&&(T=+M-S.get(o,i))),A=void 0,k=void 0,L=void 0;c?(w=n.dataToPoint([M,I]),C=D=u?n.dataToPoint([T,I])[0]:D,A=w[1]+y,k=w[0]-D,L=f,Math.abs(k)<p&&(k=(k<0?-1:1)*p)):(w=n.dataToPoint([I,M]),u&&(D=n.dataToPoint([I,T])[1]),C=w[0]+y,A=D,k=f,L=w[1]-D,Math.abs(L)<p&&(L=(L<=0?-1:1)*p)),d?(l[b]=C,l[b+1]=A,l[b+2]=c?k:L,m&&(m[b]=c?x.x:C,m[b+1]=c?A:x.y,m[b+2]=_),v[i]=i):e.setItemLayout(i,{x:C,y:A,width:k,height:L}),b+=3}d&&e.setLayout({largePoints:l,largeDataIndices:v,largeBackgroundPoints:m,valueAxisHorizontal:c})}}}}}function Pd(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function Rd(t){return t.pipelineContext&&t.pipelineContext.large}function Nd(){var t=null!==bd&&bd.apply(this,arguments)||this;return t.type=Nd.type,t}function Od(){var t=null!==wd&&wd.apply(this,arguments)||this;return t.type=Od.type,t}a(Nd,bd=Ir),Nd.prototype.getInitialData=function(t,e){return Mh(null,this,{useEncodeDefaulter:!0})},Nd.prototype.getMarkerPosition=function(t,e,n){var i,o,a=this.coordinateSystem;return a&&a.clampData?(i=a.clampData(t),o=a.dataToPoint(i),n?(0,s.S6)(a.getAxes(),(function(t,n){if("category"===t.type&&null!=e){var a=t.getTicksCoords(),r=t.getTickModel().get("alignWithLabel"),s=i[n],l="x1"===e[n]||"y1"===e[n];if(l&&!r&&(s+=1),!(a.length<2))if(2===a.length)o[n]=t.toGlobalCoord(t.getExtent()[l?1:0]);else{for(var u=void 0,c=void 0,h=1,d=0;d<a.length;d++){var p=a[d].coord,g=d===a.length-1?a[d-1].tickValue+h:a[d].tickValue;if(g===s){c=p;break}if(g<s)u=p;else if(null!=u&&s<g){c=(p+u)/2;break}1===d&&(h=g-a[0].tickValue)}null==c&&(c=(u?a[a.length-1]:a[0]).coord),o[n]=t.toGlobalCoord(c)}}})):(n=(t=this.getData()).getLayout("offset"),t=t.getLayout("size"),a=a.getBaseAxis().isHorizontal()?0:1,o[a]+=n+t/2),o):[NaN,NaN]},Nd.type="series.__base_bar__",Nd.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},Cl=Nd,Ir.registerClass(Cl),a(Od,wd=yr=Cl),Od.prototype.getInitialData=function(){return Mh(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},Od.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},Od.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return t<e?e:t},Od.prototype.brushSelector=function(t,e,n){return n.rect(e.getItemLayout(t))},Od.type="series.bar",Od.dependencies=["grid","polar"],Od.defaultOption=rn(yr.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1});var Ed,Vd=Od,zd=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0};function Bd(t){return(t=Ed.call(this,t)||this).type="sausage",t}a(Bd,Ed=vt.ZP),Bd.prototype.getDefaultShape=function(){return new zd},Bd.prototype.buildPath=function(t,e){var n=e.cx,i=e.cy,o=Math.max(e.r0||0,0),a=Math.max(e.r,0),r=.5*(a-o),s=o+r,l=e.startAngle,u=e.endAngle,c=(e=e.clockwise,2*Math.PI),h=e?u-l<c:l-u<c,d=(h||(l=u-(e?c:-c)),c=Math.cos(l),Math.sin(l)),p=Math.cos(u),g=Math.sin(u);h?(t.moveTo(c*o+n,d*o+i),t.arc(c*s+n,d*s+i,r,-Math.PI+l,l,!e)):t.moveTo(c*a+n,d*a+i),t.arc(n,i,a,l,u,!e),t.arc(p*s+n,g*s+i,r,u-2*Math.PI,u-Math.PI,!e),0!==o&&t.arc(n,i,o,u,l,e)};var Gd=Bd;function Zd(t,e,n){return e*Math.sin(t)*(n?-1:1)}function Wd(t,e,n){return e*Math.cos(t)*(n?1:-1)}function Fd(t,e,n){if(null==(t=t.get("borderRadius")))return n?{cornerRadius:0}:null;(0,s.kJ)(t)||(t=[t,t,t,t]);var i=Math.abs(e.r||0-e.r0||0);return{cornerRadius:(0,s.UI)(t,(function(t){return(0,Dl.GM)(t,i)}))}}var Hd,Ud=Math.max,Xd=Math.min;function Yd(){var t=Hd.call(this)||this;return t.type=Yd.type,t._isFirstFrame=!0,t}a(Yd,Hd=Os),Yd.prototype.render=function(t,e,n,i){this._model=t,this._removeOnRenderedListener(n),this._updateDrawMode(t);var o=t.get("coordinateSystem");"cartesian2d"!==o&&"polar"!==o||(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,e,n):this._renderNormal(t,e,n,i))},Yd.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},Yd.prototype.incrementalRender=function(t,e){this._progressiveEls=[],this._incrementalRenderLarge(t,e)},Yd.prototype.eachRendered=function(t){Ds(this._progressiveEls||this.group,t)},Yd.prototype._updateDrawMode=function(t){t=t.pipelineContext.large,null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},Yd.prototype._renderNormal=function(t,e,n,i){var o,a,r,s=this.group,l=t.getData(),u=this._data,c=t.coordinateSystem,h=c.getBaseAxis(),d=("cartesian2d"===c.type?o=h.isHorizontal():"polar"===c.type&&(o="angle"===h.dim),t.isAnimationEnabled()?t:null),p=function(t,e){t=t.get("realtimeSort",!0);var n=e.getBaseAxis();if(t&&"category"===n.type&&"cartesian2d"===e.type)return{baseAxis:n,otherAxis:e.getOtherAxis(n)}}(t,c),g=(p&&this._enableRealtimeSort(p,l,n),t.get("clip",!0)||p),f=(n=l,r=(a=c).getArea&&a.getArea(),!sd(a,"cartesian2d")||"category"===(a=a.getBaseAxis()).type&&a.onBand||(n=n.getLayout("bandWidth"),a.isHorizontal()?(r.x-=n,r.width+=2*n):(r.y-=n,r.height+=2*n)),r),y=(s.removeClipPath(),t.get("roundCap",!0)),m=t.get("showBackground",!0),v=t.getModel("backgroundStyle"),x=v.get("borderRadius")||0,_=[],S=this._backgroundEls,b=i&&i.isInitSort,w=i&&"changeAxisOrder"===i.type;function M(t){var e=ep[c.type](l,t),n=(n=o,new("polar"===c.type?Vr.C:Zr.Z)({shape:cp(n,e,c),silent:!0,z2:0}));return n.useStyle(v.getItemStyle()),"cartesian2d"===c.type?n.setShape("r",x):n.setShape("cornerRadius",x),_[t]=n}l.diff(u).add((function(e){var n,i,a=l.getItemModel(e),r=ep[c.type](l,e,a);m&&M(e),l.hasValue(e)&&tp[c.type](r)&&(n=!1,g&&(n=Jd[c.type](f,r)),i=jd[c.type](t,l,e,r,o,d,h.model,!1,y),p&&(i.forceLabelAnimation=!0),ip(i,l,e,a,r,t,o,"polar"===c.type),b?i.attr({shape:r}):p?Kd(p,d,i,r,e,o,!1,!1):be(i,{shape:r},t,e),l.setItemGraphicEl(e,i),s.add(i),i.ignore=n)})).update((function(e,n){var i,a=l.getItemModel(e),r=ep[c.type](l,e,a),I=(m&&(I=void 0,0===S.length?I=M(n):((I=S[n]).useStyle(v.getItemStyle()),"cartesian2d"===c.type?I.setShape("r",x):I.setShape("cornerRadius",x),_[e]=I),i=ep[c.type](l,e),Se(I,{shape:cp(o,i,c)},d,e)),u.getItemGraphicEl(n));l.hasValue(e)&&tp[c.type](r)?(i=!1,g&&(i=Jd[c.type](f,r))&&s.remove(I),I?Te(I):I=jd[c.type](t,l,e,r,o,d,h.model,!!I,y),p&&(I.forceLabelAnimation=!0),w?(n=I.getTextContent())&&null!=(n=Ge(n)).prevValue&&(n.prevValue=n.value):ip(I,l,e,a,r,t,o,"polar"===c.type),b?I.attr({shape:r}):p?Kd(p,d,I,r,e,o,!0,w):Se(I,{shape:r},t,e,null),l.setItemGraphicEl(e,I),I.ignore=i,s.add(I)):s.remove(I)})).remove((function(e){var n=u.getItemGraphicEl(e);n&&De(n,t,e)})).execute();var I=this._backgroundGroup||(this._backgroundGroup=new Dr.Z);I.removeAll();for(var D=0;D<_.length;++D)I.add(_[D]);s.add(I),this._backgroundEls=_,this._data=l},Yd.prototype._renderLarge=function(t,e,n){this._clear(),lp(t,this.group),this._updateLargeClip(t)},Yd.prototype._incrementalRenderLarge=function(t,e){this._removeBackground(),lp(e,this.group,this._progressiveEls,!0)},Yd.prototype._updateLargeClip=function(t){t=t.get("clip",!0)&&rd(t.coordinateSystem,!1,t);var e=this.group;t?e.setClipPath(t):e.removeClipPath()},Yd.prototype._enableRealtimeSort=function(t,e,n){var i,o,a=this;e.count()&&(i=t.baseAxis,this._isFirstFrame?(this._dispatchInitSort(e,t,n),this._isFirstFrame=!1):(o=function(t){return(t=(t=e.getItemGraphicEl(t))&&t.shape)&&Math.abs(i.isHorizontal()?t.height:t.width)||0},this._onRendered=function(){a._updateSortWithinSameData(e,o,i,n)},n.getZr().on("rendered",this._onRendered)))},Yd.prototype._dataSort=function(t,e,n){var i=[];return t.each(t.mapDimension(e.dim),(function(t,e){var o=n(e);i.push({dataIndex:e,mappedValue:null==o?NaN:o,ordinalNumber:t})})),i.sort((function(t,e){return e.mappedValue-t.mappedValue})),{ordinalNumbers:(0,s.UI)(i,(function(t){return t.ordinalNumber}))}},Yd.prototype._isOrderChangedWithinSameData=function(t,e,n){for(var i=n.scale,o=t.mapDimension(n.dim),a=Number.MAX_VALUE,r=0,s=i.getOrdinalMeta().categories.length;r<s;++r){var l;if(a<(l=(l=t.rawIndexOf(o,i.getRawOrdinalNumber(r)))<0?Number.MIN_VALUE:e(t.indexOfRawIndex(l))))return!0;a=l}return!1},Yd.prototype._isOrderDifferentInView=function(t,e){for(var n=e.scale,i=(e=n.getExtent(),Math.max(0,e[0])),o=Math.min(e[1],n.getOrdinalMeta().categories.length-1);i<=o;++i)if(t.ordinalNumbers[i]!==n.getRawOrdinalNumber(i))return!0},Yd.prototype._updateSortWithinSameData=function(t,e,n,i){this._isOrderChangedWithinSameData(t,e,n)&&(t=this._dataSort(t,n,e),this._isOrderDifferentInView(t,n))&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:t}))},Yd.prototype._dispatchInitSort=function(t,e,n){var i=e.baseAxis,o=this._dataSort(t,i,(function(n){return t.get(t.mapDimension(e.otherAxis.dim),n)}));n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:o})},Yd.prototype.remove=function(t,e){this._clear(this._model),this._removeOnRenderedListener(e)},Yd.prototype.dispose=function(t,e){this._removeOnRenderedListener(e)},Yd.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},Yd.prototype._clear=function(t){var e=this.group,n=this._data;t&&t.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl((function(e){De(e,t,yt(e).dataIndex)}))):e.removeAll(),this._data=null,this._isFirstFrame=!0},Yd.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},Yd.type="bar",Il=Yd;var Jd={cartesian2d:function(t,e){var n=e.width<0?-1:1,i=e.height<0?-1:1,o=(n<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height),t.x+t.width),a=t.y+t.height,r=Ud(e.x,t.x),s=Xd(e.x+e.width,o),l=(t=Ud(e.y,t.y),Xd(e.y+e.height,a)),u=s<r,c=l<t;return e.x=u&&o<r?s:r,e.y=c&&a<t?l:t,e.width=u?0:s-r,e.height=c?0:l-t,n<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height),u||c},polar:function(t,e){var n,i=e.r0<=e.r?1:-1,o=(i<0&&(n=e.r,e.r=e.r0,e.r0=n),Xd(e.r,t.r));return t=Ud(e.r0,t.r0),o=(e.r=o)-(e.r0=t)<0,i<0&&(n=e.r,e.r=e.r0,e.r0=n),o}},jd={cartesian2d:function(t,e,n,i,o,a,r,l,u){return(i=new Zr.Z({shape:(0,s.l7)({},i),z2:1})).__dataIndex=n,i.name="item",a&&(i.shape[o?"height":"width"]=0),i},polar:function(t,e,n,i,o,a,r,s,l){var u,c,h=new(l=!o&&l?Gd:Vr.C)({shape:i,z2:1}),d=(h.name="item",np(o));return h.calculateTextPosition=(u=d,c=({isRoundCap:l===Gd}||{}).isRoundCap,function(t,e,n){if(!(i=e.position)||i instanceof Array)return(0,Dl.wI)(t,e,n);var i=u(i),o=null!=e.distance?e.distance:5,a=this.shape,r=a.cx,s=a.cy,l=a.r,h=a.r0,d=(l+h)/2,p=a.startAngle,g=a.endAngle,f=(p+g)/2,y=c?Math.abs(l-h)/2:0,m=Math.cos,v=Math.sin,x=r+l*m(p),_=s+l*v(p),S="left",b="top";switch(i){case"startArc":x=r+(h-o)*m(f),_=s+(h-o)*v(f),S="center",b="top";break;case"insideStartArc":x=r+(h+o)*m(f),_=s+(h+o)*v(f),S="center",b="bottom";break;case"startAngle":x=r+d*m(p)+Zd(p,o+y,!1),_=s+d*v(p)+Wd(p,o+y,!1),S="right",b="middle";break;case"insideStartAngle":x=r+d*m(p)+Zd(p,y-o,!1),_=s+d*v(p)+Wd(p,y-o,!1),S="left",b="middle";break;case"middle":x=r+d*m(f),_=s+d*v(f),S="center",b="middle";break;case"endArc":x=r+(l+o)*m(f),_=s+(l+o)*v(f),S="center",b="bottom";break;case"insideEndArc":x=r+(l-o)*m(f),_=s+(l-o)*v(f),S="center",b="top";break;case"endAngle":x=r+d*m(g)+Zd(g,o+y,!0),_=s+d*v(g)+Wd(g,o+y,!0),S="left",b="middle";break;case"insideEndAngle":x=r+d*m(g)+Zd(g,y-o,!0),_=s+d*v(g)+Wd(g,y-o,!0),S="right",b="middle";break;default:return(0,Dl.wI)(t,e,n)}return(t=t||{}).x=x,t.y=_,t.align=S,t.verticalAlign=b,t}),a&&(d={},h.shape[l=o?"r":"endAngle"]=o?i.r0:i.startAngle,d[l]=i[l],(s?Se:be)(h,{shape:d},a)),h}};function Kd(t,e,n,i,o,a,r,s){var l;a=a?(l={x:i.x,width:i.width},{y:i.y,height:i.height}):(l={y:i.y,height:i.height},{x:i.x,width:i.width}),s||(r?Se:be)(n,{shape:a},e,o,null),(r?Se:be)(n,{shape:l},e?t.baseAxis.model:null,o)}function qd(t,e){for(var n=0;n<e.length;n++)if(!isFinite(t[e[n]]))return 1}var $d=["x","y","width","height"],Qd=["cx","cy","r","startAngle","endAngle"],tp={cartesian2d:function(t){return!qd(t,$d)},polar:function(t){return!qd(t,Qd)}},ep={cartesian2d:function(t,e,n){t=t.getItemLayout(e);var i=n&&(e=t,i=n.get(["itemStyle","borderColor"]))&&"none"!==i?(i=n.get(["itemStyle","borderWidth"])||0,n=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),e=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height),Math.min(i,n,e)):0;return n=0<t.width?1:-1,e=0<t.height?1:-1,{x:t.x+n*i/2,y:t.y+e*i/2,width:t.width-n*i,height:t.height-e*i}},polar:function(t,e,n){return{cx:(t=t.getItemLayout(e)).cx,cy:t.cy,r0:t.r0,r:t.r,startAngle:t.startAngle,endAngle:t.endAngle,clockwise:t.clockwise}}};function np(t){return e=t?"Arc":"Angle",function(t){switch(t){case"start":case"insideStart":case"end":case"insideEnd":return t+e;default:return t}};var e}function ip(t,e,n,i,o,a,r,l){var u,c=e.getItemVisual(n,"style"),h=(l?a.get("roundCap")||(u=t.shape,h=Fd(i.getModel("itemStyle"),u,!0),(0,s.l7)(u,h),t.setShape(u)):(h=i.get(["itemStyle","borderRadius"])||0,t.setShape("r",h)),t.useStyle(c),(u=i.getShallow("cursor"))&&t.attr("cursor",u),l?r?o.r>=o.r0?"endArc":"startArc":o.endAngle>=o.startAngle?"endAngle":"startAngle":r?0<=o.height?"bottom":"top":0<=o.width?"right":"left");Le(t,u=Pe(i),{labelFetcher:a,labelDataIndex:n,defaultText:Ch(a.getData(),n),inheritColor:c.fill,defaultOpacity:c.opacity,defaultOutsidePosition:h}),c=t.getTextContent(),l&&c&&(l=i.get(["label","position"]),t.textConfig.inside="middle"===l||null,function(t,e,n,i){if((0,s.hj)(i))t.setTextConfig({rotation:i});else if((0,s.kJ)(e))t.setTextConfig({rotation:0});else{var o,a=(i=t.shape).clockwise?i.startAngle:i.endAngle,r=i.clockwise?i.endAngle:i.startAngle,l=(a+r)/2;switch(i=n(e)){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":o=l;break;case"startAngle":case"insideStartAngle":o=a;break;case"endAngle":case"insideEndAngle":o=r;break;default:return t.setTextConfig({rotation:0})}n=1.5*Math.PI-o,"middle"===i&&n>Math.PI/2&&n<1.5*Math.PI&&(n-=Math.PI),t.setTextConfig({rotation:n})}}(t,"outside"===l?h:l,np(r),i.get(["label","rotate"]))),Ze(c,u,a.getRawValue(n),(function(t){return Ah(e,t)})),ue(t,(h=i.getModel(["emphasis"])).get("focus"),h.get("blurScope"),h.get("disabled")),pe(t,i),null!=(l=o).startAngle&&null!=l.endAngle&&l.startAngle===l.endAngle&&(t.style.fill="none",t.style.stroke="none",(0,s.S6)(t.states,(function(t){t.style&&(t.style.fill=t.style.stroke="none")})))}var op,ap=function(){},rp=(a(sp,op=vt.ZP),sp.prototype.getDefaultShape=function(){return new ap},sp.prototype.buildPath=function(t,e){for(var n=e.points,i=this.baseDimIdx,o=1-this.baseDimIdx,a=[],r=[],s=this.barWidth,l=0;l<n.length;l+=3)r[i]=s,r[o]=n[l+2],a[i]=n[l+i],a[o]=n[l+o],t.rect(a[0],a[1],r[0],r[1])},sp);function sp(t){return(t=op.call(this,t)||this).type="largeBar",t}function lp(t,e,n,i){var o=t.getData(),a=o.getLayout("valueAxisHorizontal")?1:0,r=o.getLayout("largeDataIndices"),s=o.getLayout("size"),l=t.getModel("backgroundStyle"),u=o.getLayout("largeBackgroundPoints");(u&&((u=new rp({shape:{points:u},incremental:!!i,silent:!0,z2:0})).baseDimIdx=a,u.largeDataIndices=r,u.barWidth=s,u.useStyle(l.getItemStyle()),e.add(u),n)&&n.push(u),l=new rp({shape:{points:o.getLayout("largePoints")},incremental:!!i,ignoreCoarsePointer:!0,z2:1})).baseDimIdx=a,l.largeDataIndices=r,l.barWidth=s,e.add(l),l.useStyle(o.getVisual("style")),l.style.stroke=null,yt(l).seriesIndex=t.seriesIndex,t.get("silent")||(l.on("mousedown",up),l.on("mousemove",up)),n&&n.push(l)}var up=Bs((function(t){t=function(t,e,n){for(var i=t.baseDimIdx,o=1-i,a=t.shape.points,r=t.largeDataIndices,s=[],l=[],u=t.barWidth,c=0,h=a.length/3;c<h;c++){var d=3*c;if(l[i]=u,l[o]=a[2+d],s[i]=a[d+i],s[o]=a[d+o],l[o]<0&&(s[o]+=l[o],l[o]=-l[o]),s[0]<=e&&e<=s[0]+l[0]&&s[1]<=n&&n<=s[1]+l[1])return r[c]}return-1}(this,t.offsetX,t.offsetY),yt(this).dataIndex=0<=t?t:null}),30,!1);function cp(t,e,n){var i,o;return sd(n,"cartesian2d")?(i=e,o=n.getArea(),{x:(t?i:o).x,y:(t?o:i).y,width:(t?i:o).width,height:(t?o:i).height}):{cx:(o=n.getArea()).cx,cy:o.cy,r0:(t?o:e).r0,r:(t?o:e).r,startAngle:t?e.startAngle:0,endAngle:t?e.endAngle:2*Math.PI}}var hp=Il,dp=2*Math.PI,pp=Math.PI/180;function gp(t,e){return ni(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function fp(t,e){var n,i=gp(t,e),o=t.get("center"),a=t.get("radius"),r=(s.kJ(a)||(a=[0,a]),p(i.width,e.getWidth())),l=(e=p(i.height,e.getHeight()),Math.min(r,e)),u=p(a[0],l/2);return a=p(a[1],l/2),l=(l=t.coordinateSystem)?(n=(t=l.dataToPoint(o))[0]||0,t[1]||0):(n=p((o=s.kJ(o)?o:[o,o])[0],r)+i.x,p(o[1],e)+i.y),{cx:n,cy:l,r0:u,r:a}}function yp(t,e,n){e.eachSeriesByType(t,(function(t){var e,i=t.getData(),o=i.mapDimension("value"),a=gp(t,n),r=(h=fp(t,n)).cx,s=h.cy,l=h.r,u=h.r0,c=-t.get("startAngle")*pp,h=t.get("endAngle"),p=t.get("padAngle")*pp,g=(h="auto"===h?c-dp:-h*pp,t.get("minAngle")*pp+p),f=0,y=(i.each(o,(function(t){isNaN(t)||f++})),i.getSum(o)),m=Math.PI/(y||f)*2,v=t.get("clockwise"),x=t.get("roseType"),_=t.get("stillShowZeroSum"),S=i.getDataExtent(o),b=(S[0]=0,v?1:-1),w=[c,h],M=b*p/2,I=(((0,ec.L)(w,!v),c=w[0],h=w[1],w=mp(t)).startAngle=c,w.endAngle=h,w.clockwise=v,Math.abs(h-c)),D=I,T=0,C=c;i.setLayout({viewRect:a,r:l}),i.each(o,(function(t,e){var n,o,a,c;isNaN(t)?i.setItemLayout(e,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:v,cx:r,cy:s,r0:u,r:x?NaN:l}):((n="area"!==x?0===y&&_?m:t*m:I/f)<g?D-=n=g:T+=t,o=C+b*n,a=0,c=n<p?a=C+b*n/2:(a=C+M,o-M),i.setItemLayout(e,{angle:n,startAngle:a,endAngle:c,clockwise:v,cx:r,cy:s,r0:u,r:x?d(t,S,[u,l]):l}),C=o)})),D<dp&&f&&(D<=.001?(e=I/f,i.each(o,(function(t,n){var o,a;isNaN(t)||(t=0,a=((o=i.getItemLayout(n)).angle=e)<p?t=c+b*(n+.5)*e:(t=c+b*n*e+M,c+b*(n+1)*e-M),o.startAngle=t,o.endAngle=a)}))):(m=D/T,C=c,i.each(o,(function(t,e){var n,o;isNaN(t)||(n=0,o=(t=(e=i.getItemLayout(e)).angle===g?g:t*m)<p?n=C+b*t/2:(n=C+M,C+b*t-M),e.startAngle=n,e.endAngle=o,C+=b*t)}))))}))}var mp=U();function vp(t){return{seriesType:t,reset:function(t,e){var n,i=e.findComponents({mainType:"legend"});i&&i.length&&(n=t.getData()).filterSelf((function(t){for(var e=n.getName(t),o=0;o<i.length;o++)if(!i[o].isSelected(e))return!1;return!0}))}}}var xp=Math.PI/180;function _p(t,e,n,i,o,a,r,s,l,u){if(!(t.length<2)){for(var c,h=t.length,d=0;d<h;d++)"outer"===t[d].position&&"labelLine"===t[d].labelAlignTo&&(c=t[d].label.x-u,t[d].linePoints[1][0]+=c,t[d].label.x=u);if(Dc(t,l,l+r)){for(var p,g,f,y,m,v=t,x={list:[],maxY:0},_={list:[],maxY:0},S=0;S<v.length;S++)"none"===v[S].labelAlignTo&&(g=(p=v[S]).label.y>n?_:x,(f=Math.abs(p.label.y-n))>=g.maxY&&(m=p.label.x-e-p.len2*o,y=i+p.len,m=Math.abs(m)<y?Math.sqrt(f*f/(1-m*m/y/y)):y,g.rB=m,g.maxY=f),g.list.push(p));b(x),b(_)}}function b(t){for(var a=t.rB,r=a*a,s=0;s<t.list.length;s++){var l=t.list[s],u=Math.abs(l.label.y-n),c=i+l.len;u=Math.sqrt(Math.abs(c*c*(1-u*u/r))),u=(c=e+(u+l.len2)*o)-l.label.x,Sp(l,l.targetTextWidth-u*o,!0),l.label.x=c}}}function Sp(t,e,n){var i,o,a,r,s,l,u;void 0===n&&(n=!1),null==t.labelStyleWidth&&(s=(i=t.label).style,o=t.rect,l=s.backgroundColor,u=(u=s.padding)?u[1]+u[3]:0,s=s.overflow,e<(a=o.width+(l?0:u))||n)&&(r=o.height,s&&s.match("break")?(i.setStyle("backgroundColor",null),i.setStyle("width",e-u),s=i.getBoundingRect(),i.setStyle("width",Math.ceil(s.width)),i.setStyle("backgroundColor",l)):(s=e-u,l=e<a||n&&!(s>t.unconstrainedWidth)?s:null,i.setStyle("width",l)),u=i.getBoundingRect(),o.width=u.width,e=(i.style.margin||0)+2.1,o.height=u.height+e,o.y-=(o.height-r)/2)}function bp(t){return"center"===t.position}a(Dp,wp=Vr.C),Dp.prototype.updateData=function(t,e,n,i){var o=this,a=t.hostModel,r=t.getItemModel(e),l=r.getModel("emphasis"),u=t.getItemLayout(e),c=(0,s.l7)(Fd(r.getModel("itemStyle"),u,!0),u);isNaN(c.startAngle)?o.setShape(c):(i?(o.setShape(c),i=a.getShallow("animationType"),a.ecModel.ssr?(be(o,{scaleX:0,scaleY:0},a,{dataIndex:e,isFrom:!0}),o.originX=c.cx,o.originY=c.cy):"scale"===i?(o.shape.r=u.r0,be(o,{shape:{r:u.r}},a,e)):null!=n?(o.setShape({startAngle:n,endAngle:n}),be(o,{shape:{startAngle:u.startAngle,endAngle:u.endAngle}},a,e)):(o.shape.endAngle=u.startAngle,Se(o,{shape:{endAngle:u.endAngle}},a,e))):(Te(o),Se(o,{shape:c},a,e)),o.useStyle(t.getItemVisual(e,"style")),pe(o,r),i=(u.startAngle+u.endAngle)/2,n=a.get("selectedOffset"),c=Math.cos(i)*n,i=Math.sin(i)*n,(n=r.getShallow("cursor"))&&o.attr("cursor",n),this._updateLabel(a,t,e),o.ensureState("emphasis").shape=(0,s.l7)({r:u.r+(l.get("scale")&&l.get("scaleSize")||0)},Fd(l.getModel("itemStyle"),u)),(0,s.l7)(o.ensureState("select"),{x:c,y:i,shape:Fd(r.getModel(["select","itemStyle"]),u)}),(0,s.l7)(o.ensureState("blur"),{shape:Fd(r.getModel(["blur","itemStyle"]),u)}),n=o.getTextGuideLine(),a=o.getTextContent(),n&&(0,s.l7)(n.ensureState("select"),{x:c,y:i}),(0,s.l7)(a.ensureState("select"),{x:c,y:i}),ue(this,l.get("focus"),l.get("blurScope"),l.get("disabled")))},Dp.prototype._updateLabel=function(t,e,n){var i=e.getItemModel(n),o=i.getModel("labelLine"),a=(r=e.getItemVisual(n,"style"))&&r.fill,r=r&&r.opacity;Le(this,Pe(i),{labelFetcher:e.hostModel,labelDataIndex:n,inheritColor:a,defaultOpacity:r,defaultText:t.getFormattedLabel(n,"normal")||e.getName(n)}),e=this.getTextContent(),"outside"!==(this.setTextConfig({position:null,rotation:null}),e.attr({z2:10}),n=t.get(["label","position"]))&&"outer"!==n?this.removeTextGuideLine():(this.getTextGuideLine()||(e=new Gr.Z,this.setTextGuideLine(e)),bc(this,wc(i),{stroke:a,opacity:(0,s.R1)(o.get(["lineStyle","opacity"]),r,1)}))};var wp,Mp,Ip=Dp;function Dp(t,e,n){var i=wp.call(this)||this,o=(i.z2=2,new ft.ZP);return i.setTextContent(o),i.updateData(t,e,n,!0),i}function Tp(){var t=null!==Mp&&Mp.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}a(Tp,Mp=Os),Tp.prototype.render=function(t,e,n,i){var o,a,r=t.getData(),l=this._data,u=this.group;if(!l&&0<r.count()){for(var c=r.getItemLayout(0),h=1;isNaN(c&&c.startAngle)&&h<r.count();++h)c=r.getItemLayout(h);c&&(o=c.startAngle)}this._emptyCircleSector&&u.remove(this._emptyCircleSector),0===r.count()&&t.get("showEmptyCircle")&&(a=mp(t),(n=new Vr.C({shape:(0,s.l7)(fp(t,n),a)})).useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=n,u.add(n)),r.diff(l).add((function(t){var e=new Ip(r,t,o);r.setItemGraphicEl(t,e),u.add(e)})).update((function(t,e){(e=l.getItemGraphicEl(e)).updateData(r,t,o),e.off("click"),u.add(e),r.setItemGraphicEl(t,e)})).remove((function(e){De(l.getItemGraphicEl(e),t,e)})).execute(),function(t){var e,n,i=t.getData(),o=[],a=!1,r=(t.get("minShowLabelAngle")||0)*xp,l=i.getLayout("viewRect"),u=i.getLayout("r"),c=l.width,h=l.x,d=l.y;function g(t){t.ignore=!0}if(l=l.height,i.each((function(t){var l,d,f,y,m,v,x,_,S,b,w=i.getItemGraphicEl(t),M=w.shape,I=w.getTextContent(),D=w.getTextGuideLine(),T=(t=i.getItemModel(t)).getModel("label"),C=T.get("position")||t.get(["emphasis","label","position"]),A=T.get("distanceToLabelLine"),k=T.get("alignTo"),L=p(T.get("edgeDistance"),c),P=T.get("bleedMargin"),R=p((t=t.getModel("labelLine")).get("length"),c),N=p(t.get("length2"),c);Math.abs(M.endAngle-M.startAngle)<r?((0,s.S6)(I.states,g),I.ignore=!0,D&&((0,s.S6)(D.states,g),D.ignore=!0)):function(t){if(!t.ignore)return 1;for(var e in t.states)if(!1===t.states[e].ignore)return 1}(I)&&(b=(M.startAngle+M.endAngle)/2,l=Math.cos(b),d=Math.sin(b),e=M.cx,n=M.cy,f="inside"===C||"inner"===C,x="center"===C?(y=M.cx,m=M.cy,"center"):(y=(x=(f?(M.r+M.r0)/2*l:M.r*l)+e)+3*l,m=(_=(f?(M.r+M.r0)/2*d:M.r*d)+n)+3*d,f||(v=x+l*(R+u-M.r),M=_+d*(R+u-M.r),S=v+(l<0?-1:1)*N,y="edge"===k?l<0?h+L:h+c-L:S+(l<0?-A:A),v=[[x,_],[v,m=M],[S,M]]),f?"center":"edge"===k?0<l?"right":"left":0<l?"left":"right"),_=Math.PI,S=0,M=T.get("rotate"),(0,s.hj)(M)?S=M*(_/180):"center"===C?S=0:"radial"===M||!0===M?S=l<0?-b+_:-b:"tangential"===M&&"outside"!==C&&"outer"!==C&&((T=Math.atan2(l,d))<0&&(T=2*_+T),S=(T=0<d?_+T:T)-_),a=!!S,I.x=y,I.y=m,I.rotation=S,I.setStyle({verticalAlign:"middle"}),f?(I.setStyle({align:x}),(b=I.states.select)&&(b.x+=I.x,b.y+=I.y)):((M=I.getBoundingRect().clone()).applyTransform(I.getComputedTransform()),T=(I.style.margin||0)+2.1,M.y-=T/2,M.height+=T,o.push({label:I,labelLine:D,position:C,len:R,len2:N,minTurnAngle:t.get("minTurnAngle"),maxSurfaceAngle:t.get("maxSurfaceAngle"),surfaceNormal:new jr.Z(l,d),linePoints:v,textAlign:x,labelDistance:A,labelAlignTo:k,edgeDistance:L,bleedMargin:P,rect:M,unconstrainedWidth:M.width,labelStyleWidth:I.style.width})),w.setTextConfig({inside:f}))})),!a&&t.get("avoidLabelOverlap")){for(var f=o,y=e,m=(t=n,u),v=c,x=h,_=[],S=[],b=Number.MAX_VALUE,w=-Number.MAX_VALUE,M=0;M<f.length;M++){var I=f[M].label;bp(f[M])||(I.x<y?(b=Math.min(b,I.x),_):(w=Math.max(w,I.x),S)).push(f[M])}var D,T,C,A,k,L;for(M=0;M<f.length;M++)!bp(T=f[M])&&T.linePoints&&null==T.labelStyleWidth&&(I=T.label,C=T.linePoints,D="edge"===T.labelAlignTo?I.x<y?C[2][0]-T.labelDistance-x-T.edgeDistance:x+v-T.edgeDistance-C[2][0]-T.labelDistance:"labelLine"===T.labelAlignTo?I.x<y?b-x-T.bleedMargin:x+v-w-T.bleedMargin:I.x<y?I.x-x-T.bleedMargin:x+v-I.x-T.bleedMargin,T.targetTextWidth=D,Sp(T,D));for(_p(S,y,t,m,1,0,l,0,d,w),_p(_,y,t,m,-1,0,l,0,d,b),M=0;M<f.length;M++)!bp(T=f[M])&&T.linePoints&&(I=T.label,C=T.linePoints,A="edge"===T.labelAlignTo,k=(k=I.style.padding)?k[1]+k[3]:0,k=I.style.backgroundColor?0:k,k=T.rect.width+k,L=C[1][0]-C[2][0],A?I.x<y?C[2][0]=x+T.edgeDistance+k+T.labelDistance:C[2][0]=x+v-T.edgeDistance-k-T.labelDistance:(I.x<y?C[2][0]=I.x+T.labelDistance:C[2][0]=I.x-T.labelDistance,C[1][0]=C[2][0]+L),C[1][1]=C[2][1]=I.y)}for(var P=0;P<o.length;P++){var R,N=o[P],O=N.label,E=N.labelLine,V=isNaN(O.x)||isNaN(O.y);O&&(O.setStyle({align:N.textAlign}),V&&((0,s.S6)(O.states,g),O.ignore=!0),R=O.states.select)&&(R.x+=O.x,R.y+=O.y),E&&(R=N.linePoints,V||!R?((0,s.S6)(E.states,g),E.ignore=!0):(xc(R,N.minTurnAngle),function(t,e,n){if(n<=180&&0<n){n=n/180*Math.PI,hc.fromArray(t[0]),dc.fromArray(t[1]),pc.fromArray(t[2]),jr.Z.sub(gc,dc,hc),jr.Z.sub(fc,pc,dc);var i=gc.len(),o=fc.len();if(!(i<.001||o<.001)&&(gc.scale(1/i),fc.scale(1/o),gc.dot(e)<Math.cos(n))){if(i=sc(dc.x,dc.y,pc.x,pc.y,hc.x,hc.y,mc,!1),vc.fromArray(mc),(o=Math.PI/2)<=(e=o+Math.acos(fc.dot(e))-n))jr.Z.copy(vc,pc);else{if(vc.scaleAndAdd(fc,i/Math.tan(Math.PI/2-e)),n=pc.x!==dc.x?(vc.x-dc.x)/(pc.x-dc.x):(vc.y-dc.y)/(pc.y-dc.y),isNaN(n))return;n<0?jr.Z.copy(vc,dc):1<n&&jr.Z.copy(vc,pc)}vc.toArray(t[1])}}}(R,N.surfaceNormal,N.maxSurfaceAngle),E.setShape({points:R}),O.__hostTarget.textGuideLineConfig={anchor:new jr.Z(R[0][0],R[0][1])}))}}(t),"expansion"!==t.get("animationTypeUpdate")&&(this._data=r)},Tp.prototype.dispose=function(){},Tp.prototype.containPoint=function(t,e){var n;if(e=e.getData().getItemLayout(0))return n=t[0]-e.cx,t=t[1]-e.cy,(n=Math.sqrt(n*n+t*t))<=e.r&&n>=e.r0},Tp.type="pie";var Cp=Tp;function Ap(t,e,n){e=(0,s.kJ)(e)?{coordDimensions:e}:(0,s.l7)({encodeDefine:t.getEncode()},e);var i=t.getSource();return e=mh(i,e).dimensions,(e=new yh(e,t)).initData(i,n),e}function kp(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}kp.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},kp.prototype.containName=function(t){return 0<=this._getRawData().indexOfName(t)},kp.prototype.indexOfName=function(t){return this._getDataWithEncodedVisual().indexOfName(t)},kp.prototype.getItemVisual=function(t,e){return this._getDataWithEncodedVisual().getItemVisual(t,e)};var Lp,Pp=kp,Rp=U();function Np(){return null!==Lp&&Lp.apply(this,arguments)||this}a(Np,Lp=Ir),Np.prototype.init=function(t){Lp.prototype.init.apply(this,arguments),this.legendVisualProvider=new Pp(s.ak(this.getData,this),s.ak(this.getRawData,this)),this._defaultLabelLine(t)},Np.prototype.mergeOption=function(){Lp.prototype.mergeOption.apply(this,arguments)},Np.prototype.getInitialData=function(){return Ap(this,{coordDimensions:["value"],encodeDefaulter:s.WA(ki,this)})},Np.prototype.getDataParams=function(t){var e,n=this.getData(),i=(o=Rp(n)).seats,o=(i||(e=[],n.each(n.mapDimension("value"),(function(t){e.push(t)})),i=o.seats=function(t,e){var n=s.u4(t,(function(t,e){return t+(isNaN(e)?0:e)}),0);if(0===n)return[];for(var i=Math.pow(10,e),o=(e=s.UI(t,(function(t){return(isNaN(t)?0:t)/n*i*100})),100*i),a=s.UI(e,(function(t){return Math.floor(t)})),r=s.u4(a,(function(t,e){return t+e}),0),l=s.UI(e,(function(t,e){return t-a[e]}));r<o;){for(var u=Number.NEGATIVE_INFINITY,c=null,h=0,d=l.length;h<d;++h)l[h]>u&&(u=l[h],c=h);++a[c],l[c]=0,++r}return s.UI(a,(function(t){return t/i}))}(e,n.hostModel.get("percentPrecision"))),Lp.prototype.getDataParams.call(this,t));return o.percent=i[t]||0,o.$vars.push("percent"),o},Np.prototype._defaultLabelLine=function(t){O(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},Np.type="series.pie",Np.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"};var Op,Ep=Np;function Vp(){var t=null!==Op&&Op.apply(this,arguments)||this;return t.type=Vp.type,t.hasSymbolVisual=!0,t}a(Vp,Op=Ir),Vp.prototype.getInitialData=function(t,e){return Mh(null,this,{useEncodeDefaulter:!0})},Vp.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},Vp.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},Vp.prototype.brushSelector=function(t,e,n){return n.point(e.getItemLayout(t))},Vp.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},Vp.type="series.scatter",Vp.dependencies=["grid","polar","geo","singleAxis","calendar"],Vp.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}};var zp,Bp=Vp,Gp=function(){},Zp=(a(Wp,zp=vt.ZP),Wp.prototype.getDefaultShape=function(){return new Gp},Wp.prototype.reset=function(){this.notClear=!1,this._off=0},Wp.prototype.buildPath=function(t,e){var n,i=e.points,o=e.size,a=this.symbolProxy,r=a.shape,s=(e=t.getContext?t.getContext():t)&&o[0]<4,l=this.softClipShape;if(s)this._ctx=e;else{for(this._ctx=null,n=this._off;n<i.length;){var u=i[n++],c=i[n++];isNaN(u)||isNaN(c)||l&&!l.contain(u,c)||(r.x=u-o[0]/2,r.y=c-o[1]/2,r.width=o[0],r.height=o[1],a.buildPath(t,r,!0))}this.incremental&&(this._off=n,this.notClear=!0)}},Wp.prototype.afterBrush=function(){var t,e=this.shape,n=e.points,i=e.size,o=this._ctx,a=this.softClipShape;if(o){for(t=this._off;t<n.length;){var r=n[t++],s=n[t++];isNaN(r)||isNaN(s)||a&&!a.contain(r,s)||o.fillRect(r-i[0]/2,s-i[1]/2,i[0],i[1])}this.incremental&&(this._off=t,this.notClear=!0)}},Wp.prototype.findDataIndex=function(t,e){for(var n=(i=this.shape).points,i=i.size,o=Math.max(i[0],4),a=Math.max(i[1],4),r=n.length/2-1;0<=r;r--){var s=n[l=2*r]-o/2,l=n[1+l]-a/2;if(s<=t&&l<=e&&t<=s+o&&e<=l+a)return r}return-1},Wp.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect();return t=n[0],e=n[1],i.contain(t,e)?0<=(this.hoverDataIdx=this.findDataIndex(t,e)):!(this.hoverDataIdx=-1)},Wp.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var e=(i=this.shape).points,n=(i=i.size)[0],i=i[1],o=1/0,a=1/0,r=-1/0,s=-1/0,l=0;l<e.length;){var u=e[l++],c=e[l++];o=Math.min(u,o),r=Math.max(u,r),a=Math.min(c,a),s=Math.max(c,s)}t=this._rect=new sn.Z(o-n/2,a-i/2,r-o+n,s-a+i)}return t},Wp);function Wp(t){return(t=zp.call(this,t)||this)._off=0,t.hoverDataIdx=-1,t}function Fp(){this.group=new Dr.Z}Fp.prototype.updateData=function(t,e){this._clear();var n=this._create();n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,e)},Fp.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild((function(t){var n,i;null!=t.startIndex&&(n=2*(t.endIndex-t.startIndex),i=4*t.startIndex*2,e=new Float32Array(e.buffer,i,n)),t.setShape("points",e),t.reset()}))},Fp.prototype.incrementalPrepareUpdate=function(t){this._clear()},Fp.prototype.incrementalUpdate=function(t,e,n){var i,o,a=this._newAdded[0],r=e.getLayout("points"),s=a&&a.shape.points;s&&s.length<2e4?(i=s.length,(o=new Float32Array(i+r.length)).set(s),o.set(r,i),a.endIndex=t.end,a.setShape({points:o})):(this._newAdded=[],(s=this._create()).startIndex=t.start,s.endIndex=t.end,s.incremental=!0,s.setShape({points:r}),this._setCommon(s,e,n))},Fp.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},Fp.prototype._create=function(){var t=new Zp({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},Fp.prototype._setCommon=function(t,e,n){var i=e.hostModel,o=(n=n||{},e.getVisual("symbolSize")),a=(t.setShape("size",o instanceof Array?o:[o,o]),t.softClipShape=n.clipShape||null,t.symbolProxy=Ol(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor,o=t.shape.size[0]<4,t.useStyle(i.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"])),(o=(n=e.getVisual("style"))&&n.fill)&&t.setColor(o),yt(t));a.seriesIndex=i.seriesIndex,t.on("mousemove",(function(e){a.dataIndex=null;var n=t.hoverDataIdx;0<=n&&(a.dataIndex=n+(t.startIndex||0))}))},Fp.prototype.remove=function(){this._clear()},Fp.prototype._clear=function(){this._newAdded=[],this.group.removeAll()};var Hp,Up=Fp;function Xp(){var t=null!==Hp&&Hp.apply(this,arguments)||this;return t.type=Xp.type,t}a(Xp,Hp=Os),Xp.prototype.render=function(t,e,n){var i=t.getData();this._updateSymbolDraw(i,t).updateData(i,{clipShape:this._getClipShape(t)}),this._finished=!0},Xp.prototype.incrementalPrepareRender=function(t,e,n){var i=t.getData();this._updateSymbolDraw(i,t).incrementalPrepareUpdate(i),this._finished=!1},Xp.prototype.incrementalRender=function(t,e,n){this._symbolDraw.incrementalUpdate(t,e.getData(),{clipShape:this._getClipShape(e)}),this._finished=t.end===e.getData().count()},Xp.prototype.updateTransform=function(t,e,n){var i=t.getData();if(this.group.dirty(),!this._finished||1e4<i.count())return{update:!0};(t=vd("").reset(t,e,n)).progress&&t.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout(i)},Xp.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},Xp.prototype._getClipShape=function(t){if(t.get("clip",!0))return(t=t.coordinateSystem)&&t.getArea&&t.getArea(.1)},Xp.prototype._updateSymbolDraw=function(t,e){var n=this._symbolDraw;return e=e.pipelineContext.large,n&&e===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=new(e?Up:Vh),this._isLargeDraw=e,this.group.removeAll()),this.group.add(n.group),n},Xp.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},Xp.prototype.dispose=function(){},Xp.type="scatter";var Yp,Jp=Xp;function jp(){return null!==Yp&&Yp.apply(this,arguments)||this}a(jp,Yp=yi),jp.type="grid",jp.dependencies=["xAxis","yAxis"],jp.layoutMode="box",jp.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"};var Kp=jp,qp=($p.prototype.getNeedCrossZero=function(){return!this.option.scale},$p.prototype.getCoordSysModel=function(){},$p);function $p(){}a(eg,Qp=yi),eg.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",j).models[0]},eg.type="cartesian2dAxis";var Qp,tg=eg;function eg(){return null!==Qp&&Qp.apply(this,arguments)||this}s.jB(tg,qp),kl={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}};var ng={category:Tl=s.TS({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},kl),value:Qe=s.TS({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},kl),time:s.TS({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Qe),log:s.ce({logBase:10},Qe)},ig=0;function og(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++ig}function ag(t){return(0,s.Kn)(t)&&null!=t.value?t.value:t+""}og.createByAxisModel=function(t){var e;return new og({categories:e=(e=(t=t.option).data)&&(0,s.UI)(e,ag),needCollect:!e,deduplication:!1!==t.dedplication})},og.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},og.prototype.parseAndCollect=function(t){var e,n,i=this._needCollect;return(0,s.HD)(t)||i?(i&&!this._deduplication?(n=this.categories.length,this.categories[n]=t):null==(n=(e=this._getOrCreateMap()).get(t))&&(i?(n=this.categories.length,this.categories[n]=t,e.set(t,n)):n=NaN),n):t},og.prototype._getOrCreateMap=function(){return this._map||(this._map=(0,s.kW)(this.categories))};var rg=og,sg={value:1,category:1,time:1,log:1};function lg(t,e,n,i){(0,s.S6)(sg,(function(o,r){var l,u=(0,s.TS)((0,s.TS)({},ng[r],!0),i,!0);function c(){var t=null!==l&&l.apply(this,arguments)||this;return t.type=e+"Axis."+r,t}a(c,l=n),c.prototype.mergeDefaultAndTheme=function(t,e){var n=oi(this),i=n?ri(t):{};e=e.getTheme(),(0,s.TS)(t,e.get(r+"Axis")),(0,s.TS)(t,this.getDefaultOption()),t.type=ug(t),n&&ai(t,i,n)},c.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=rg.createByAxisModel(this))},c.prototype.getCategories=function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},c.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},c.type=e+"Axis."+r,c.defaultOption=u,u=c,t.registerComponentModel(u)})),t.registerSubTypeDefaulter(e+"Axis",ug)}function ug(t){return t.type||(t.data?"category":"value")}function cg(t){this._setting=t||{},this._extent=[1/0,-1/0]}cg.prototype.getSetting=function(t){return this._setting[t]},cg.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},cg.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},cg.prototype.getExtent=function(){return this._extent.slice()},cg.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},cg.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},cg.prototype.isBlank=function(){return this._isBlank},cg.prototype.setBlank=function(t){this._isBlank=t},ut(Ye=cg);var hg,dg=Ye;function pg(t){return"interval"===t.type||"log"===t.type}function gg(t){var e=Math.pow(10,w(t));return(t/=e)?2===t?t=3:3===t?t=5:t*=2:t=1,g(t*e)}function fg(t){return y(t)+2}function yg(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function mg(t,e){return t>=e[0]&&t<=e[1]}function vg(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function xg(t,e){return t*(e[1]-e[0])+e[0]}function _g(t){(t=hg.call(this,t)||this).type="ordinal";var e=(e=t.getSetting("ordinalMeta"))||new rg({});return(0,s.kJ)(e)&&(e=new rg({categories:(0,s.UI)(e,(function(t){return(0,s.Kn)(t)?t.value:t}))})),t._ordinalMeta=e,t._extent=t.getSetting("extent")||[0,e.categories.length-1],t}a(_g,hg=dg),_g.prototype.parse=function(t){return null==t?NaN:(0,s.HD)(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},_g.prototype.contain=function(t){return mg(t=this.parse(t),this._extent)&&null!=this._ordinalMeta.categories[t]},_g.prototype.normalize=function(t){return vg(t=this._getTickNumber(this.parse(t)),this._extent)},_g.prototype.scale=function(t){return t=Math.round(xg(t,this._extent)),this.getRawOrdinalNumber(t)},_g.prototype.getTicks=function(){for(var t=[],e=this._extent,n=e[0];n<=e[1];)t.push({value:n}),n++;return t},_g.prototype.getMinorTicks=function(t){},_g.prototype.setSortInfo=function(t){if(null==t)this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;else{for(var e=t.ordinalNumbers,n=this._ordinalNumbersByTick=[],i=this._ticksByOrdinalNumber=[],o=0,a=this._ordinalMeta.categories.length,r=Math.min(a,e.length);o<r;++o){var s=e[o];i[n[o]=s]=o}for(var l=0;o<a;++o){for(;null!=i[l];)l++;n.push(l),i[l]=o}}},_g.prototype._getTickNumber=function(t){var e=this._ticksByOrdinalNumber;return e&&0<=t&&t<e.length?e[t]:t},_g.prototype.getRawOrdinalNumber=function(t){var e=this._ordinalNumbersByTick;return e&&0<=t&&t<e.length?e[t]:t},_g.prototype.getLabel=function(t){if(!this.isBlank())return t=this.getRawOrdinalNumber(t.value),null==(t=this._ordinalMeta.categories[t])?"":t+""},_g.prototype.count=function(){return this._extent[1]-this._extent[0]+1},_g.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},_g.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},_g.prototype.getOrdinalMeta=function(){return this._ordinalMeta},_g.prototype.calcNiceTicks=function(){},_g.prototype.calcNiceExtent=function(){},_g.type="ordinal",Js=_g,dg.registerClass(Js);var Sg,bg=Js,wg=g;function Mg(){var t=null!==Sg&&Sg.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}a(Mg,Sg=dg),Mg.prototype.parse=function(t){return t},Mg.prototype.contain=function(t){return mg(t,this._extent)},Mg.prototype.normalize=function(t){return vg(t,this._extent)},Mg.prototype.scale=function(t){return xg(t,this._extent)},Mg.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},Mg.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),this.setExtent(e[0],e[1])},Mg.prototype.getInterval=function(){return this._interval},Mg.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=fg(t)},Mg.prototype.getTicks=function(t){var e=this._interval,n=this._extent,i=this._niceExtent,o=this._intervalPrecision,a=[];if(e){n[0]<i[0]&&a.push(t?{value:wg(i[0]-e,o)}:{value:n[0]});for(var r=i[0];r<=i[1]&&(a.push({value:r}),(r=wg(r+e,o))!==a[a.length-1].value);)if(1e4<a.length)return[];var s=a.length?a[a.length-1].value:i[1];n[1]>s&&a.push(t?{value:wg(s+e,o)}:{value:n[1]})}return a},Mg.prototype.getMinorTicks=function(t){for(var e=this.getTicks(!0),n=[],i=this.getExtent(),o=1;o<e.length;o++){for(var a=e[o],r=e[o-1],s=0,l=[],u=(a.value-r.value)/t;s<t-1;){var c=wg(r.value+(s+1)*u);c>i[0]&&c<i[1]&&l.push(c),s++}n.push(l)}return n},Mg.prototype.getLabel=function(t,e){return null==t?"":(null==(e=e&&e.precision)?e=y(t.value)||0:"auto"===e&&(e=this._intervalPrecision),Wn(wg(t.value,e,!0)))},Mg.prototype.calcNiceTicks=function(t,e,n){t=t||5;var i=this._extent,o=i[1]-i[0];isFinite(o)&&(o<0&&i.reverse(),o=function(t,e,n,i){var o={},a=t[1]-t[0];return a=o.interval=M(a/e,!0),null!=n&&a<n&&(a=o.interval=n),null!=i&&i<a&&(a=o.interval=i),e=o.intervalPrecision=fg(a),i=n=o.niceTickExtent=[g(Math.ceil(t[0]/a)*a,e),g(Math.floor(t[1]/a)*a,e)],a=t,isFinite(i[0])||(i[0]=a[0]),isFinite(i[1])||(i[1]=a[1]),yg(i,0,a),yg(i,1,a),i[0]>i[1]&&(i[0]=i[1]),o}(i,t,e,n),this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent)},Mg.prototype.calcNiceExtent=function(t){var e=this._extent,n=(e[0]===e[1]&&(0!==e[0]?(n=Math.abs(e[0]),t.fixMax||(e[1]+=n/2),e[0]-=n/2):e[1]=1),e[1]-e[0]);isFinite(n)||(e[0]=0,e[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval),n=this._interval,t.fixMin||(e[0]=wg(Math.floor(e[0]/n)*n)),t.fixMax||(e[1]=wg(Math.ceil(e[1]/n)*n))},Mg.prototype.setNiceExtent=function(t,e){this._niceExtent=[t,e]},Mg.type="interval",ml=Mg,dg.registerClass(ml);var Ig,Dg=ml;function Tg(t){return(t=Ig.call(this,t)||this).type="time",t}a(Tg,Ig=Dg),Tg.prototype.getLabel=function(t){var e=this.getSetting("useUTC");return Dn(t.value,Sn[function(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(In(this._minLevelUnit))]||Sn.second,e,this.getSetting("locale"))},Tg.prototype.getFormattedLabel=function(t,e,n){var i=this.getSetting("useUTC"),o=this.getSetting("locale"),a=null;if(s.HD(n))a=n;else if(s.mf(n))a=n(t.value,e,{level:t.level});else{var r=s.l7({},_n);if(0<t.level)for(var l=0;l<bn.length;++l)r[bn[l]]="{primary|"+r[bn[l]]+"}";var u=n?!1===n.inherit?n:s.ce(n,r):r,c=Tn(t.value,i);if(u[c])a=u[c];else if(u.inherit){for(l=wn.indexOf(c)-1;0<=l;--l)if(u[c]){a=u[c];break}a=a||r.none}s.kJ(a)&&(e=null==t.level?0:0<=t.level?t.level:a.length+t.level,a=a[e=Math.min(e,a.length-1)])}return Dn(new Date(t.value),a,i,o)},Tg.prototype.getTicks=function(){var t=this._interval,e=this._extent,n=[];return t&&(n.push({value:e[0],level:0}),t=this.getSetting("useUTC"),t=function(t,e,n,i){var o=wn,a=0;function r(t,o,a){var r=[],s=!o.length;if(!function(t,e,n,i){function o(t){return Cn(h,t,i)===Cn(d,t,i)}function a(){return o("year")}function r(){return a()&&o("month")}function s(){return r()&&o("day")}function l(){return s()&&o("hour")}function u(){return l()&&o("minute")}function c(){return u()&&o("second")}var h=b(e),d=b(n);switch(t){case"year":return a();case"month":return r();case"day":return s();case"hour":return l();case"minute":return u();case"second":return c();case"millisecond":return c()&&o("millisecond")}}(In(t),i[0],i[1],n)){s&&(o=[{value:function(t,e,n){var i=new Date(t);switch(In(e)){case"year":case"month":i[En(n)](0);case"day":i[Vn(n)](1);case"hour":i[zn(n)](0);case"minute":i[Bn(n)](0);case"second":i[Gn(n)](0),i[Zn(n)](0)}return i.getTime()}(new Date(i[0]),t,n)},{value:i[1]}]);for(var l,u,c=0;c<o.length-1;c++){var h=o[c].value,d=o[c+1].value;if(h!==d){var p=void 0,g=void 0,f=void 0;switch(t){case"year":p=Math.max(1,Math.round(e/xn/365)),g=An(n),f=n?"setUTCFullYear":"setFullYear";break;case"half-year":case"quarter":case"month":u=e,p=6<(u/=30*xn)?6:3<u?3:2<u?2:1,g=kn(n),f=En(n);break;case"week":case"half-week":case"day":u=e,p=16<(u/=xn)?16:7.5<u?7:3.5<u?4:1.5<u?2:1,g=Ln(n),f=Vn(n);break;case"half-day":case"quarter-day":case"hour":l=e,p=12<(l/=vn)?12:6<l?6:3.5<l?4:2<l?2:1,g=Pn(n),f=zn(n);break;case"minute":p=Ag(e,!0),g=Rn(n),f=Bn(n);break;case"second":p=Ag(e,!1),g=Nn(n),f=Gn(n);break;case"millisecond":p=M(e,!0),g=On(n),f=Zn(n)}D=I=w=S=void 0;for(var y=p,m=h,v=d,x=g,_=f,S=r,w=new Date(m),I=m,D=w[x]();I<v&&I<=i[1];)S.push({value:I}),w[_](D+=y),I=w.getTime();S.push({value:I,notAdd:!0}),"year"===t&&1<a.length&&0===c&&a.unshift({value:a[0].value-p})}}for(c=0;c<r.length;c++)a.push(r[c])}}for(var l=[],u=[],c=0,h=0,d=0;d<o.length&&a++<1e4;++d){var p=In(o[d]);if(function(t){return t===In(t)}(o[d])&&(r(o[d],l[l.length-1]||[],u),p!==(o[d+1]?In(o[d+1]):null))){if(u.length){h=c,u.sort((function(t,e){return t.value-e.value}));for(var g=[],f=0;f<u.length;++f){var y=u[f].value;0!==f&&u[f-1].value===y||(g.push(u[f]),y>=i[0]&&y<=i[1]&&c++)}if(1.5*(p=(i[1]-i[0])/e)<c&&p/1.5<h)break;if(l.push(g),p<c||t===o[d])break}u=[]}}var m=(0,s.hX)((0,s.UI)(l,(function(t){return(0,s.hX)(t,(function(t){return t.value>=i[0]&&t.value<=i[1]&&!t.notAdd}))})),(function(t){return 0<t.length})),v=[],x=m.length-1;for(d=0;d<m.length;++d)for(var _=m[d],S=0;S<_.length;++S)v.push({value:_[S].value,level:x-d});v.sort((function(t,e){return t.value-e.value}));var w=[];for(d=0;d<v.length;++d)0!==d&&v[d].value===v[d-1].value||w.push(v[d]);return w}(this._minLevelUnit,this._approxInterval,t,e),(n=n.concat(t)).push({value:e[1],level:0})),n},Tg.prototype.calcNiceExtent=function(t){var e,n=this._extent;n[0]===n[1]&&(n[0]-=xn,n[1]+=xn),n[1]===-1/0&&n[0]===1/0&&(e=new Date,n[1]=+new Date(e.getFullYear(),e.getMonth(),e.getDate()),n[0]=n[1]-xn),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},Tg.prototype.calcNiceTicks=function(t,e,n){var i=(i=this._extent)[1]-i[0];this._approxInterval=i/(t=t||10),null!=e&&this._approxInterval<e&&(this._approxInterval=e),null!=n&&this._approxInterval>n&&(this._approxInterval=n),i=Cg.length,t=Math.min(function(t,e,n,i){for(;n<i;){var o=n+i>>>1;t[o][1]<e?n=1+o:i=o}return n}(Cg,this._approxInterval,0,i),i-1),this._interval=Cg[t][1],this._minLevelUnit=Cg[Math.max(t-1,0)][0]},Tg.prototype.parse=function(t){return(0,s.hj)(t)?t:+b(t)},Tg.prototype.contain=function(t){return mg(this.parse(t),this._extent)},Tg.prototype.normalize=function(t){return vg(this.parse(t),this._extent)},Tg.prototype.scale=function(t){return xg(t,this._extent)},Tg.type="time",vl=Tg;var Cg=[["second",1e3],["minute",mn],["hour",vn],["quarter-day",6*vn],["half-day",12*vn],["day",1.2*xn],["half-week",3.5*xn],["week",7*xn],["month",31*xn],["quarter",95*xn],["half-year",e/2],["year",e]];function Ag(t,e){return 30<(t/=e?mn:1e3)?30:20<t?20:15<t?15:10<t?10:5<t?5:2<t?2:1}dg.registerClass(vl);var kg,Lg=vl,Pg=dg.prototype,Rg=Dg.prototype,Ng=g,Og=Math.floor,Eg=Math.ceil,Vg=Math.pow,zg=Math.log;function Bg(){var t=null!==kg&&kg.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new Dg,t._interval=0,t}function Gg(t,e){return Ng(t,y(e))}a(Bg,kg=dg),Bg.prototype.getTicks=function(t){var e=this._originalScale,n=this._extent,i=e.getExtent();return e=Rg.getTicks.call(this,t),s.UI(e,(function(t){t=t.value;var e=g(Vg(this.base,t));return e=t===n[0]&&this._fixMin?Gg(e,i[0]):e,{value:t===n[1]&&this._fixMax?Gg(e,i[1]):e}}),this)},Bg.prototype.setExtent=function(t,e){var n=zg(this.base);t=zg(Math.max(0,t))/n,e=zg(Math.max(0,e))/n,Rg.setExtent.call(this,t,e)},Bg.prototype.getExtent=function(){var t=this.base,e=Pg.getExtent.call(this);return e[0]=Vg(t,e[0]),e[1]=Vg(t,e[1]),t=this._originalScale.getExtent(),this._fixMin&&(e[0]=Gg(e[0],t[0])),this._fixMax&&(e[1]=Gg(e[1],t[1])),e},Bg.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=zg(t[0])/zg(e),t[1]=zg(t[1])/zg(e),Pg.unionExtent.call(this,t)},Bg.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},Bg.prototype.calcNiceTicks=function(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(n==1/0||n<=0)){var i=Math.pow(10,w(n));for(t/n*i<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&0<Math.abs(i);)i*=10;t=[g(Eg(e[0]/i)*i),g(Og(e[1]/i)*i)],this._interval=i,this._niceExtent=t}},Bg.prototype.calcNiceExtent=function(t){Rg.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},Bg.prototype.parse=function(t){return t},Bg.prototype.contain=function(t){return mg(t=zg(t)/zg(this.base),this._extent)},Bg.prototype.normalize=function(t){return vg(t=zg(t)/zg(this.base),this._extent)},Bg.prototype.scale=function(t){return t=xg(t,this._extent),Vg(this.base,t)},Bg.type="log",(je=(dt=Bg).prototype).getMinorTicks=Rg.getMinorTicks,je.getLabel=Rg.getLabel,dg.registerClass(dt);var Zg=dt,Wg=(Fg.prototype._prepareParams=function(t,e,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal="ordinal"===t.type,o=(null==(this._needCrossZero="interval"===t.type&&e.getNeedCrossZero&&e.getNeedCrossZero(),o=e.get("min",!0))&&(o=e.get("startValue",!0)),this._modelMinRaw=o);(0,s.mf)(o)?this._modelMinNum=Yg(t,o({min:n[0],max:n[1]})):"dataMin"!==o&&(this._modelMinNum=Yg(t,o)),o=this._modelMaxRaw=e.get("max",!0),(0,s.mf)(o)?this._modelMaxNum=Yg(t,o({min:n[0],max:n[1]})):"dataMax"!==o&&(this._modelMaxNum=Yg(t,o)),i?this._axisDataLen=e.getCategories().length:(n=e.get("boundaryGap"),"boolean"==typeof(t=(0,s.kJ)(n)?n:[n||0,n||0])[0]||"boolean"==typeof t[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[(0,Dl.GM)(t[0],1),(0,Dl.GM)(t[1],1)])},Fg.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,n=this._dataMax,i=this._axisDataLen,o=this._boundaryGapInner,a=t?null:n-e||Math.abs(e),r="dataMin"===this._modelMinRaw?e:this._modelMinNum,l="dataMax"===this._modelMaxRaw?n:this._modelMaxNum,u=null!=r,c=null!=l;return null==r&&(r=t?i?0:NaN:e-o[0]*a),null==l&&(l=t?i?i-1:NaN:n+o[1]*a),null!=r&&isFinite(r)||(r=NaN),null!=l&&isFinite(l)||(l=NaN),e=(0,s.Bu)(r)||(0,s.Bu)(l)||t&&!i,null!=(this._needCrossZero&&(r=0<r&&0<l&&!u?0:r)<0&&l<0&&!c&&(l=0),n=this._determinedMin)&&(r=n,u=!0),null!=(o=this._determinedMax)&&(l=o,c=!0),{min:r,max:l,minFixed:u,maxFixed:c,isBlank:e}},Fg.prototype.modifyDataMinMax=function(t,e){this[Ug[t]]=e},Fg.prototype.setDeterminedMinMax=function(t,e){this[Hg[t]]=e},Fg.prototype.freeze=function(){this.frozen=!0},Fg);function Fg(t,e,n){this._prepareParams(t,e,n)}var Hg={min:"_determinedMin",max:"_determinedMax"},Ug={min:"_dataMin",max:"_dataMax"};function Xg(t,e,n){var i=t.rawExtentInfo;return i||(i=new Wg(t,e,n),t.rawExtentInfo=i),i}function Yg(t,e){return null==e?null:(0,s.Bu)(e)?NaN:t.parse(e)}function Jg(t,e){var n,i,o,a,r,l,u=t.type,c=Xg(t,e,t.getExtent()).calculate(),h=(t.setBlank(c.isBlank),t=c.min,c.max),d=e.ecModel;return d&&"time"===u&&(u=Td("bar",d),n=!1,s.S6(u,(function(t){n=n||t.getBaseAxis()===e.axis})),n)&&(d=Cd(u),u=t,i=h,l=(o=e).axis.getExtent(),l=Math.abs(l[1]-l[0]),void 0!==(d=function(t,e,n){if(t&&e)return t[Dd(e)]}(d,o.axis))&&(a=1/0,s.S6(d,(function(t){a=Math.min(t.offset,a)})),r=-1/0,s.S6(d,(function(t){r=Math.max(t.offset+t.width,r)})),a=Math.abs(a),i+=(r=Math.abs(r))/(o=a+r)*(l=(d=i-u)/(1-(a+r)/l)-d),u-=a/o*l),t=(d={min:u,max:i}).min,h=d.max),{extent:[t,h],fixMin:c.minFixed,fixMax:c.maxFixed}}function jg(t,e){var n=Jg(t,e),i=n.extent,o=e.get("splitNumber"),a=(t instanceof Zg&&(t.base=e.get("logBase")),t.type),r=e.get("interval");a="interval"===a||"time"===a,t.setExtent(i[0],i[1]),t.calcNiceExtent({splitNumber:o,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:a?e.get("minInterval"):null,maxInterval:a?e.get("maxInterval"):null}),null!=r&&t.setInterval&&t.setInterval(r)}function Kg(t,e){if(e=e||t.get("type"))switch(e){case"category":return new bg({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new Lg({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(dg.getClass(e)||Dg)}}function qg(t){var e,n,i,o=t.getLabelModel().get("formatter"),a="category"===t.type?t.scale.getExtent()[0]:null;return"time"===t.scale.type?(i=o,function(e,n){return t.scale.getFormattedLabel(e,n,i)}):s.HD(o)?(n=o,function(e){return e=t.scale.getLabel(e),n.replace("{value}",null!=e?e:"")}):s.mf(o)?(e=o,function(n,i){return null!=a&&(i=n.value-a),e($g(t,n),i,null!=n.level?{level:n.level}:null)}):function(e){return t.scale.getLabel(e)}}function $g(t,e){return"category"===t.type?t.scale.getLabel(e):e.value}function Qg(t){return null==(t=t.get("interval"))?"auto":t}function tf(t){return"category"===t.type&&0===Qg(t.getLabelModel())}function ef(t,e){var n={};return s.S6(t.mapDimensionsAll(e),(function(e){n[bh(t,e)]=!0})),s.XP(n)}function nf(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}nf.prototype.getAxis=function(t){return this._axes[t]},nf.prototype.getAxes=function(){return s.UI(this._dimList,(function(t){return this._axes[t]}),this)},nf.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),s.hX(this.getAxes(),(function(e){return e.scale.type===t}))},nf.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)};var of,af=["x","y"];function rf(t){return"interval"===t.type||"time"===t.type}function sf(){var t=null!==of&&of.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=af,t}a(sf,of=nf),sf.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t,e,n,i,o=this.getAxis("x").scale,a=this.getAxis("y").scale;rf(o)&&rf(a)&&(o=o.getExtent(),a=a.getExtent(),i=this.dataToPoint([o[0],a[0]]),e=this.dataToPoint([o[1],a[1]]),t=o[1]-o[0],n=a[1]-a[0],t)&&n&&(t=(e[0]-i[0])/t,e=(e[1]-i[1])/n,n=i[0]-o[0]*t,o=i[1]-a[0]*e,i=this._transform=[t,0,0,e,n,o],this._invTransform=(0,Lr.U_)([],i))},sf.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},sf.prototype.containPoint=function(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},sf.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},sf.prototype.containZone=function(t,e){t=this.dataToPoint(t),e=this.dataToPoint(e);var n=this.getArea();return e=new sn.Z(t[0],t[1],e[0]-t[0],e[1]-t[1]),n.intersect(e)},sf.prototype.dataToPoint=function(t,e,n){n=n||[];var i,o=t[0],a=t[1];return this._transform&&null!=o&&isFinite(o)&&null!=a&&isFinite(a)?(0,Pr.Ne)(n,t,this._transform):(t=this.getAxis("x"),i=this.getAxis("y"),n[0]=t.toGlobalCoord(t.dataToCoord(o,e)),n[1]=i.toGlobalCoord(i.dataToCoord(a,e)),n)},sf.prototype.clampData=function(t,e){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,o=n.getExtent(),a=i.getExtent();return n=n.parse(t[0]),i=i.parse(t[1]),(e=e||[])[0]=Math.min(Math.max(Math.min(o[0],o[1]),n),Math.max(o[0],o[1])),e[1]=Math.min(Math.max(Math.min(a[0],a[1]),i),Math.max(a[0],a[1])),e},sf.prototype.pointToData=function(t,e){var n,i,o=[];return this._invTransform?(0,Pr.Ne)(o,t,this._invTransform):(n=this.getAxis("x"),i=this.getAxis("y"),o[0]=n.coordToData(n.toLocalCoord(t[0]),e),o[1]=i.coordToData(i.toLocalCoord(t[1]),e),o)},sf.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},sf.prototype.getArea=function(t){t=t||0;var e=this.getAxis("x").getGlobalExtent(),n=this.getAxis("y").getGlobalExtent(),i=Math.min(e[0],e[1])-t,o=Math.min(n[0],n[1])-t;return e=Math.max(e[0],e[1])-i+t,n=Math.max(n[0],n[1])-o+t,new sn.Z(i,o,e,n)};var lf=sf,uf=U();function cf(t,e){return e=s.UI(e,(function(e){return t.scale.parse(e)})),"time"===t.type&&0<e.length&&(e.sort(),e.unshift(e[0]),e.push(e[e.length-1])),e}function hf(t,e){var n,i=df(t,"labels"),o=pf(i,e=Qg(e));return o||gf(i,e,{labels:s.mf(e)?yf(t,e):ff(t,n="auto"===e?null!=(i=uf(o=t).autoInterval)?i:uf(o).autoInterval=o.calculateCategoryInterval():e),labelCategoryInterval:n})}function df(t,e){return uf(t)[e]||(uf(t)[e]=[])}function pf(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function gf(t,e,n){return t.push({key:e,value:n}),n}function ff(t,e,n){for(var i=qg(t),o=t.scale,a=o.getExtent(),r=t.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=(e=a[0],o.count()),c=(0!==e&&1<l&&2<u/l&&(e=Math.round(Math.ceil(e/l)*l)),u=tf(t),t=r.get("showMinLabel")||u,r=r.get("showMaxLabel")||u,t&&e!==a[0]&&h(a[0]),e);c<=a[1];c+=l)h(c);function h(t){var e={value:t};s.push(n?t:{formattedLabel:i(e),rawLabel:o.getLabel(e),tickValue:t})}return r&&c-l!==a[1]&&h(a[1]),s}function yf(t,e,n){var i=t.scale,o=qg(t),a=[];return s.S6(i.getTicks(),(function(t){var r=i.getLabel(t),s=t.value;e(t.value,r)&&a.push(n?s:{formattedLabel:o(t),rawLabel:r,tickValue:s})})),a}var mf,vf=[0,1];function xf(t,e,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=n||[0,0]}function _f(t,e){e=(t[1]-t[0])/e/2,t[0]+=e,t[1]-=e}function Sf(t,e,n,i,o){return(t=mf.call(this,t,e,n)||this).index=0,t.type=i||"value",t.position=o||"bottom",t}xf.prototype.contain=function(t){var e=this._extent,n=Math.min(e[0],e[1]);return e=Math.max(e[0],e[1]),n<=t&&t<=e},xf.prototype.containData=function(t){return this.scale.contain(t)},xf.prototype.getExtent=function(){return this._extent.slice()},xf.prototype.getPixelPrecision=function(t){return m(t||this.scale.getExtent(),this._extent)},xf.prototype.setExtent=function(t,e){var n=this._extent;n[0]=t,n[1]=e},xf.prototype.dataToCoord=function(t,e){var n=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&"ordinal"===i.type&&_f(n=n.slice(),i.count()),d(t,vf,n,e)},xf.prototype.coordToData=function(t,e){var n=this._extent,i=this.scale;return this.onBand&&"ordinal"===i.type&&_f(n=n.slice(),i.count()),i=d(t,n,vf,e),this.scale.scale(i)},xf.prototype.pointToData=function(t,e){},xf.prototype.getTicksCoords=function(t){var e,n,i,o,a,r,l,u=function(t,e){var n,i,o,a,r,l,u=t.getTickModel().get("customValues");return u?(n=t.scale.getExtent(),u=cf(t,u),{ticks:s.hX(u,(function(t){return t>=n[0]&&t<=n[1]}))}):"category"===t.type?(u=e,(l=pf(a=df(e=t,"ticks"),r=Qg(u)))||(u.get("show")&&!e.scale.isBlank()||(i=[]),i=s.mf(r)?yf(e,r,!0):"auto"===r?(o=(l=hf(e,e.getLabelModel())).labelCategoryInterval,s.UI(l.labels,(function(t){return t.tickValue}))):ff(e,o=r,!0),gf(a,r,{ticks:i,tickCategoryInterval:o}))):{ticks:s.UI(t.scale.getTicks(),(function(t){return t.value}))}}(this,c=(t=t||{}).tickModel||this.getTickModel()).ticks,c=(u=(0,s.UI)(u,(function(t){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(t):t),tickValue:t}}),this),c.get("alignWithLabel"));function h(t,e){return t=g(t),e=g(e),r?e<t:t<e}return e=this,n=u,t=t.clamp,l=n.length,e.onBand&&!c&&l&&(c=e.getExtent(),1===l?(n[0].coord=c[0],i=n[1]={coord:c[1],tickValue:n[0].tickValue}):(a=n[l-1].tickValue-n[0].tickValue,o=(n[l-1].coord-n[0].coord)/a,(0,s.S6)(n,(function(t){t.coord-=o/2})),e=1+(a=e.scale.getExtent())[1]-n[l-1].tickValue,i={coord:n[l-1].coord+o*e,tickValue:a[1]+1},n.push(i)),r=c[0]>c[1],h(n[0].coord,c[0])&&(t?n[0].coord=c[0]:n.shift()),t&&h(c[0],n[0].coord)&&n.unshift({coord:c[0]}),h(c[1],i.coord)&&(t?i.coord=c[1]:n.pop()),t)&&h(i.coord,c[1])&&n.push({coord:c[1]}),u},xf.prototype.getMinorTicksCoords=function(){var t;return"ordinal"===this.scale.type?[]:(t=this.model.getModel("minorTick").get("splitNumber"),t=this.scale.getMinorTicks(t=0<t&&t<100?t:5),(0,s.UI)(t,(function(t){return(0,s.UI)(t,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this)}),this))},xf.prototype.getViewLabels=function(){return function(t){var e,n,i,o,a,r,l=t.getLabelModel().get("customValues");return l?(e=qg(t),n=t.scale.getExtent(),l=cf(t,l),l=s.hX(l,(function(t){return t>=n[0]&&t<=n[1]})),{labels:s.UI(l,(function(n){var i={value:n};return{formattedLabel:e(i),rawLabel:t.scale.getLabel(i),tickValue:n}}))}):"category"===t.type?(a=(l=t).getLabelModel(),r=hf(l,a),!a.get("show")||l.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r):(a=(i=t).scale.getTicks(),o=qg(i),{labels:s.UI(a,(function(t,e){return{level:t.level,formattedLabel:o(t,e),rawLabel:i.scale.getLabel(t),tickValue:t.value}}))})}(this).labels},xf.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},xf.prototype.getTickModel=function(){return this.model.getModel("axisTick")},xf.prototype.getBandWidth=function(){var t,e=this._extent;return 0==(t=(t=this.scale.getExtent())[1]-t[0]+(this.onBand?1:0))&&(t=1),e=Math.abs(e[1]-e[0]),Math.abs(e)/t},xf.prototype.calculateCategoryInterval=function(){o=(n=p=this).getLabelModel();var t={axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:o.get("rotate")||0,font:o.getFont()},e=qg(p),n=(t.axisRotate-t.labelRotate)/180*Math.PI,i=(o=p.scale).getExtent(),o=o.count();if(i[1]-i[0]<1)return 0;for(var a=1,r=(40<o&&(a=Math.max(1,Math.floor(o/40))),i[0]),s=p.dataToCoord(r+1)-p.dataToCoord(r),l=Math.abs(s*Math.cos(n)),u=(s=Math.abs(s*Math.sin(n)),0),c=0;r<=i[1];r+=a){var h=1.3*(d=Dl.lP(e({value:r}),t.font,"center","top")).width,d=1.3*d.height;u=Math.max(u,h,7),c=Math.max(c,d,7)}n=u/l,l=c/s,isNaN(n)&&(n=1/0),isNaN(l)&&(l=1/0),s=Math.max(0,Math.floor(Math.min(n,l))),n=uf(p.model),l=p.getExtent();var p=n.lastAutoInterval,g=n.lastTickCount;return null!=p&&null!=g&&Math.abs(p-s)<=1&&Math.abs(g-o)<=1&&s<p&&n.axisExtent0===l[0]&&n.axisExtent1===l[1]?s=p:(n.lastTickCount=o,n.lastAutoInterval=s,n.axisExtent0=l[0],n.axisExtent1=l[1]),s},a(Sf,mf=Al=xf),Sf.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},Sf.prototype.getGlobalExtent=function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},Sf.prototype.pointToData=function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},Sf.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)};var bf=Sf;function wf(t,e,n){n=n||{},t=t.coordinateSystem;var i={},o=(l=e.axis).getAxesOnZeroOf()[0],a=l.position,r=o?"onZero":a,l=l.dim,u=(t=[(t=t.getRect()).x,t.x+t.width,t.y,t.y+t.height],{left:0,right:1,top:0,bottom:1,onZero:2}),c=e.get("offset")||0,h=(c="x"===l?[t[2]-c,t[3]+c]:[t[0]-c,t[1]+c],o&&(h=o.toGlobalCoord(o.dataToCoord(0)),c[u.onZero]=Math.max(Math.min(h,c[1]),c[0])),i.position=["y"===l?c[u[r]]:t[0],"x"===l?c[u[r]]:t[3]],i.rotation=Math.PI/2*("x"===l?0:1),i.labelDirection=i.tickDirection=i.nameDirection={top:-1,bottom:1,left:-1,right:1}[a],i.labelOffset=o?c[u[a]]-c[u.onZero]:0,e.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),s.Jv(n.labelInside,e.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection),e.get(["axisLabel","rotate"]));return i.labelRotate="top"===r?-h:h,i.z2=1,i}function Mf(t){return"cartesian2d"===t.get("coordinateSystem")}function If(t){var e={xAxisModel:null,yAxisModel:null};return s.S6(e,(function(n,i){var o=i.replace(/Model$/,"");o=t.getReferringComponents(o,j).models[0],e[i]=o})),e}var Df=Math.log;function Tf(t,e,n){var i=Dg.prototype,o=i.getTicks.call(n),a=i.getTicks.call(n,!0),r=o.length-1,s=(n=i.getInterval.call(n),(e=Jg(t,e)).extent),l=e.fixMin,u=(e=e.fixMax,"log"===t.type&&(u=Df(t.base),s=[Df(s[0])/u,Df(s[1])/u]),t.setExtent(s[0],s[1]),t.calcNiceExtent({splitNumber:r,fixMin:l,fixMax:e}),i.getExtent.call(t)),c=(l&&(s[0]=u[0]),e&&(s[1]=u[1]),i.getInterval.call(t)),h=s[0],d=s[1];if(l&&e)c=(d-h)/r;else if(l)for(d=s[0]+c*r;d<s[1]&&isFinite(d)&&isFinite(s[1]);)c=gg(c),d=s[0]+c*r;else if(e)for(h=s[1]-c*r;h>s[0]&&isFinite(h)&&isFinite(s[0]);)c=gg(c),h=s[1]-c*r;else u=(c=r<t.getTicks().length-1?gg(c):c)*r,(h=g((d=Math.ceil(s[1]/c)*c)-u))<0&&0<=s[0]?(h=0,d=g(u)):0<d&&s[1]<=0&&(d=0,h=-g(u));l=(o[0].value-a[0].value)/n,e=(o[r].value-a[r].value)/n,i.setExtent.call(t,h+c*l,d+c*e),i.setInterval.call(t,c),(l||e)&&i.setNiceExtent.call(t,h+c,d-c)}function Cf(t,e,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=af,this._initCartesian(t,e,n),this.model=t}function Af(t,e){return t.getCoordSysModel()===e}function kf(t,e,n,i){n.getAxesOnZeroOf=function(){return o?[o]:[]};var o,a=t[e];if(e=(t=n.model).get(["axisLine","onZero"]),n=t.get(["axisLine","onZeroAxisIndex"]),e){if(null!=n)Lf(a[n])&&(o=a[n]);else for(var r in a)if(a.hasOwnProperty(r)&&Lf(a[r])&&!i[s(a[r])]){o=a[r];break}o&&(i[s(o)]=!0)}function s(t){return t.dim+"_"+t.index}}function Lf(t){return t&&"category"!==t.type&&"time"!==t.type&&(e=(t=t.scale.getExtent())[0],t=t[1],!(0<e&&0<t||e<0&&t<0));var e}Cf.prototype.getRect=function(){return this._rect},Cf.prototype.update=function(t,e){var n=this._axesMap;function i(t){var e,n=(0,s.XP)(t),i=n.length;if(i){for(var o=[],a=i-1;0<=a;a--){var r=t[+n[a]],l=r.model,u=r.scale;pg(u)&&l.get("alignTicks")&&null==l.get("interval")?o.push(r):(jg(u,l),pg(u)&&(e=r))}o.length&&(e||jg((e=o.pop()).scale,e.model),(0,s.S6)(o,(function(t){Tf(t.scale,t.model,e.scale)})))}}this._updateScale(t,this.model),i(n.x),i(n.y);var o={};(0,s.S6)(n.x,(function(t){kf(n,"y",t,o)})),(0,s.S6)(n.y,(function(t){kf(n,"x",t,o)})),this.resize(this.model,e)},Cf.prototype.resize=function(t,e,n){var i=t.getBoxLayoutParams(),o=(n=!n&&t.get("containLabel"),ni(i,{width:e.getWidth(),height:e.getHeight()})),a=(this._rect=o,this._axesList);function r(){(0,s.S6)(a,(function(t){var e,n,i=t.isHorizontal(),a=i?[0,o.width]:[0,o.height],r=t.inverse?1:0;t.setExtent(a[r],a[1-r]),a=t,e=i?o.x:o.y,r=a.getExtent(),n=r[0]+r[1],a.toGlobalCoord="x"===a.dim?function(t){return t+e}:function(t){return n-t+e},a.toLocalCoord="x"===a.dim?function(t){return t-e}:function(t){return n-t+e}}))}r(),n&&((0,s.S6)(a,(function(t){var e,n,i;t.model.get(["axisLabel","inside"])||(e=function(t){var e=t.model,n=t.scale;if(e.get(["axisLabel","show"])&&!n.isBlank()){var i,o,a=n.getExtent(),r=n instanceof bg?n.count():(i=n.getTicks()).length,s=t.getLabelModel(),l=qg(t),u=1;40<r&&(u=Math.ceil(r/40));for(var c,h,d,p=0;p<r;p+=u){var g=l(i?i[p]:{value:a[0]+p},p),f=(g=s.getTextRect(g),h=f=h=void 0,c=(c=s.get("rotate")||0)*Math.PI/180,h=g.width,f=g.height,d=h*Math.abs(Math.cos(c))+Math.abs(f*Math.sin(c)),h=h*Math.abs(Math.sin(c))+Math.abs(f*Math.cos(c)),new sn.Z(g.x,g.y,d,h));o?o.union(f):o=f}return o}}(t))&&(n=t.isHorizontal()?"height":"width",i=t.model.get(["axisLabel","margin"]),o[n]-=e[n]+i,"top"===t.position?o.y+=e.height+i:"left"===t.position&&(o.x+=e.width+i))})),r()),(0,s.S6)(this._coordsList,(function(t){t.calcAffineTransform()}))},Cf.prototype.getAxis=function(t,e){if(null!=(t=this._axesMap[t]))return t[e||0]},Cf.prototype.getAxes=function(){return this._axesList.slice()},Cf.prototype.getCartesian=function(t,e){if(null!=t&&null!=e)return this._coordsMap["x"+t+"y"+e];(0,s.Kn)(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var n=0,i=this._coordsList;n<i.length;n++)if(i[n].getAxis("x").index===t||i[n].getAxis("y").index===e)return i[n]},Cf.prototype.getCartesians=function(){return this._coordsList.slice()},Cf.prototype.convertToPixel=function(t,e,n){return(e=this._findConvertTarget(e)).cartesian?e.cartesian.dataToPoint(n):e.axis?e.axis.toGlobalCoord(e.axis.dataToCoord(n)):null},Cf.prototype.convertFromPixel=function(t,e,n){return(e=this._findConvertTarget(e)).cartesian?e.cartesian.pointToData(n):e.axis?e.axis.coordToData(e.axis.toLocalCoord(n)):null},Cf.prototype._findConvertTarget=function(t){var e,n,i=t.seriesModel,o=t.xAxisModel||i&&i.getReferringComponents("xAxis",j).models[0],a=t.yAxisModel||i&&i.getReferringComponents("yAxis",j).models[0],r=(t=t.gridModel,this._coordsList);return i?(e=i.coordinateSystem,(0,s.cq)(r,e)<0&&(e=null)):o&&a?e=this.getCartesian(o.componentIndex,a.componentIndex):o?n=this.getAxis("x",o.componentIndex):a?n=this.getAxis("y",a.componentIndex):t&&t.coordinateSystem===this&&(e=this._coordsList[0]),{cartesian:e,axis:n}},Cf.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},Cf.prototype._initCartesian=function(t,e,n){var i=this,o=this,a={left:!1,right:!1,top:!1,bottom:!1},r={x:{},y:{}},l={x:0,y:0};function u(e){return function(n,i){var s,u;Af(n,t)&&(s=n.get("position"),"x"===e?"top"!==s&&"bottom"!==s&&(s=a.bottom?"top":"bottom"):"left"!==s&&"right"!==s&&(s=a.left?"right":"left"),a[s]=!0,u="category"===(s=new bf(e,Kg(n),[0,0],n.get("type"),s)).type,s.onBand=u&&n.get("boundaryGap"),s.inverse=n.get("inverse"),(n.axis=s).model=n,s.grid=o,s.index=i,o._axesList.push(s),r[e][i]=s,l[e]++)}}e.eachComponent("xAxis",u("x"),this),e.eachComponent("yAxis",u("y"),this),l.x&&l.y?(this._axesMap=r,(0,s.S6)(r.x,(function(e,n){(0,s.S6)(r.y,(function(o,a){var r=new lf(a="x"+n+"y"+a);r.master=i,r.model=t,i._coordsMap[a]=r,i._coordsList.push(r),r.addAxis(e),r.addAxis(o)}))}))):(this._axesMap={},this._axesList=[])},Cf.prototype._updateScale=function(t,e){function n(t,e){(0,s.S6)(ef(t,e.dim),(function(n){e.scale.unionExtentFromData(t,n)}))}(0,s.S6)(this._axesList,(function(t){var e;t.scale.setExtent(1/0,-1/0),"category"===t.type&&(e=t.model.get("categorySortInfo"),t.scale.setSortInfo(e))})),t.eachSeries((function(t){var i,o;Mf(t)&&(o=(i=If(t)).xAxisModel,i=i.yAxisModel,Af(o,e))&&Af(i,e)&&(o=this.getCartesian(o.componentIndex,i.componentIndex),i=t.getData(),t=o.getAxis("x"),o=o.getAxis("y"),n(i,t),n(i,o))}),this)},Cf.prototype.getTooltipAxes=function(t){var e=[],n=[];return(0,s.S6)(this.getCartesians(),(function(i){var o=null!=t&&"auto"!==t?i.getAxis(t):i.getBaseAxis();i=i.getOtherAxis(o),(0,s.cq)(e,o)<0&&e.push(o),(0,s.cq)(n,i)<0&&n.push(i)})),{baseAxes:e,otherAxes:n}},Cf.create=function(t,e){var n=[];return t.eachComponent("grid",(function(i,o){var a=new Cf(i,t,e);a.name="grid_"+o,a.resize(i,e,!0),i.coordinateSystem=a,n.push(a)})),t.eachSeries((function(t){var e,n,i;Mf(t)&&(e=(n=If(t)).xAxisModel,n=n.yAxisModel,i=e.getCoordSysModel().coordinateSystem,t.coordinateSystem=i.getCartesian(e.componentIndex,n.componentIndex))})),n},Cf.dimensions=af;var Pf=Cf,Rf=Math.PI,Nf=(Of.prototype.hasBuilder=function(t){return!!Ef[t]},Of.prototype.add=function(t){Ef[t](this.opt,this.axisModel,this.group,this._transformGroup)},Of.prototype.getGroup=function(){return this.group},Of.innerTextLayout=function(t,e,n){var i;return{rotation:e=x(e-t),textAlign:t=_(e)?(i=0<n?"top":"bottom","center"):_(e-Rf)?(i=0<n?"bottom":"top","center"):(i="middle",0<e&&e<Rf?0<n?"right":"left":0<n?"left":"right"),textVerticalAlign:i}},Of.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},Of.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},Of);function Of(t,e){this.group=new Dr.Z,this.opt=e,this.axisModel=t,(0,s.ce)(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}}),(t=new Dr.Z({x:e.position[0],y:e.position[1],rotation:e.rotation})).updateTransform(),this._transformGroup=t}var Ef={axisLine:function(t,e,n,i){var o,a,r,l,u,c,h,d=e.get(["axisLine","show"]);(d="auto"===d&&t.handleAutoShown?t.handleAutoShown("axisLine"):d)&&(d=e.axis.getExtent(),i=i.transform,o=[d[0],0],a=[d[1],0],r=a[0]<o[0],i&&((0,Pr.Ne)(o,o,i),(0,Pr.Ne)(a,a,i)),l=(0,s.l7)({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),hs((d=new Wr.Z({shape:{x1:o[0],y1:o[1],x2:a[0],y2:a[1]},style:l,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1})).shape,d.style.lineWidth),d.anid="line",n.add(d),null!=(u=e.get(["axisLine","symbol"])))&&(i=e.get(["axisLine","symbolSize"]),(0,s.HD)(u)&&(u=[u,u]),((0,s.HD)(i)||(0,s.hj)(i))&&(i=[i,i]),d=Vl(e.get(["axisLine","symbolOffset"])||0,i),c=i[0],h=i[1],(0,s.S6)([{rotate:t.rotation+Math.PI/2,offset:d[0],r:0},{rotate:t.rotation-Math.PI/2,offset:d[1],r:Math.sqrt((o[0]-a[0])*(o[0]-a[0])+(o[1]-a[1])*(o[1]-a[1]))}],(function(e,i){var s;"none"!==u[i]&&null!=u[i]&&(i=Ol(u[i],-c/2,-h/2,c,h,l.stroke,!0),s=e.r+e.offset,i.attr({rotation:e.rotate,x:(e=r?a:o)[0]+s*Math.cos(t.rotation),y:e[1]-s*Math.sin(t.rotation),silent:!0,z2:11}),n.add(i))})))},axisTickLabel:function(t,e,n,i){var o,a,r,l,u,c=function(t,e,n,i){var o=n.axis,a=n.getModel("axisTick");if("auto"===(r=a.get("show"))&&i.handleAutoShown&&(r=i.handleAutoShown("axisTick")),r&&!o.scale.isBlank()){for(var r=a.getModel("lineStyle"),l=(i=i.tickDirection*a.get("length"),Gf(o.getTicksCoords(),e.transform,i,(0,s.ce)(r.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks")),u=0;u<l.length;u++)t.add(l[u]);return l}}(n,i,e,t),h=function(t,e,n,i){var o,a,r,l,u,c,h,d,p=n.axis,g=(0,s.Jv)(i.axisLabelShow,n.get(["axisLabel","show"]));if(g&&!p.scale.isBlank())return o=n.getModel("axisLabel"),a=o.get("margin"),r=p.getViewLabels(),g=((0,s.Jv)(i.labelRotate,o.get("rotate"))||0)*Rf/180,l=Nf.innerTextLayout(i.rotation,g,i.labelDirection),u=n.getCategories&&n.getCategories(!0),c=[],h=Nf.isLabelSilent(n),d=n.get("triggerEvent"),(0,s.S6)(r,(function(g,f){var y="ordinal"===p.scale.type?p.scale.getRawOrdinalNumber(g.tickValue):g.tickValue,m=g.formattedLabel,v=g.rawLabel,x=o,_=(x=u&&u[y]&&(_=u[y],(0,s.Kn)(_))&&_.textStyle?new nn(_.textStyle,o,n.ecModel):x).getTextColor()||n.get(["axisLine","lineStyle","color"]),S=p.dataToCoord(y),b=x.getShallow("align",!0)||l.textAlign,w=(0,s.pD)(x.getShallow("alignMinLabel",!0),b),M=(0,s.pD)(x.getShallow("alignMaxLabel",!0),b),I=x.getShallow("verticalAlign",!0)||x.getShallow("baseline",!0)||l.textVerticalAlign,D=(0,s.pD)(x.getShallow("verticalAlignMinLabel",!0),I),T=(0,s.pD)(x.getShallow("verticalAlignMaxLabel",!0),I),C=new ft.ZP({x:S,y:i.labelOffset+i.labelDirection*a,rotation:l.rotation,silent:h,z2:10+(g.level||0),style:Re(x,{text:m,align:0===f?w:f===r.length-1?M:b,verticalAlign:0===f?D:f===r.length-1?T:I,fill:(0,s.mf)(_)?_("category"===p.type?v:"value"===p.type?y+"":y,f):_})});C.anid="label_"+y,Ms({el:C,componentModel:n,itemName:m,formatterParamsExtra:{isTruncated:function(){return C.isTruncated},value:v,tickIndex:f}}),d&&((S=Nf.makeAxisEventDataBase(n)).targetType="axisLabel",S.value=v,S.tickIndex=f,"category"===p.type&&(S.dataIndex=y),yt(C).eventData=S),e.add(C),C.updateTransform(),c.push(C),t.add(C),C.decomposeTransform()})),c}(n,i,e,t),d=(a=h,tf((o=e).axis)||(g=o.get(["axisLabel","showMinLabel"]),o=o.get(["axisLabel","showMaxLabel"]),c=c||[],m=(a=a||[])[0],f=a[1],r=a[a.length-1],a=a[a.length-2],l=c[0],y=c[1],u=c[c.length-1],c=c[c.length-2],!1===g?(Vf(m),Vf(l)):zf(m,f)&&(g?(Vf(f),Vf(y)):(Vf(m),Vf(l))),!1===o?(Vf(r),Vf(u)):zf(a,r)&&(o?(Vf(a),Vf(c)):(Vf(r),Vf(u)))),n),p=i,g=e,f=t.tickDirection,y=g.axis,m=g.getModel("minorTick");if(m.get("show")&&!y.scale.isBlank()){var v=y.getMinorTicksCoords();if(v.length){y=m.getModel("lineStyle");for(var x=f*m.get("length"),_=(0,s.ce)(y.getLineStyle(),(0,s.ce)(g.getModel("axisTick").getLineStyle(),{stroke:g.get(["axisLine","lineStyle","color"])})),S=0;S<v.length;S++)for(var b=Gf(v[S],p.transform,x,_,"minorticks_"+S),w=0;w<b.length;w++)d.add(b[w])}}e.get(["axisLabel","hideOverlap"])&&Tc(Mc((0,s.UI)(h,(function(t){return{label:t,priority:t.z2,defaultAttr:{ignore:t.ignore}}}))))},axisName:function(t,e,n,i){var o,a,r,l,u,c,h,d,p=(0,s.Jv)(t.axisName,e.get("name"));p&&(d=e.get("nameLocation"),u=t.nameDirection,o=e.getModel("nameTextStyle"),c=e.get("nameGap")||0,a=(h=e.axis.getExtent())[0]>h[1]?-1:1,a=["start"===d?h[0]-a*c:"end"===d?h[1]+a*c:(h[0]+h[1])/2,Bf(d)?t.labelOffset+u*c:0],null!=(c=e.get("nameRotate"))&&(c=c*Rf/180),Bf(d)?r=Nf.innerTextLayout(t.rotation,null!=c?c:t.rotation,u):(r=function(t,e,n,i){var o;return n=x(n-t),t=i[0]>i[1],i="start"===e&&!t||"start"!==e&&t,{rotation:n,textAlign:e=_(n-Rf/2)?(o=i?"bottom":"top","center"):_(n-1.5*Rf)?(o=i?"top":"bottom","center"):(o="middle",n<1.5*Rf&&Rf/2<n?i?"left":"right":i?"right":"left"),textVerticalAlign:o}}(t.rotation,d,c||0,h),null!=(l=t.axisNameAvailableWidth)&&(l=Math.abs(l/Math.sin(r.rotation)),isFinite(l)||(l=null))),u=o.getFont(),c=(d=e.get("nameTruncate",!0)||{}).ellipsis,h=(0,s.Jv)(t.nameTruncateMaxWidth,d.maxWidth,l),Ms({el:t=new ft.ZP({x:a[0],y:a[1],rotation:r.rotation,silent:Nf.isLabelSilent(e),style:Re(o,{text:p,font:u,overflow:"truncate",width:h,ellipsis:c,fill:o.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:o.get("align")||r.textAlign,verticalAlign:o.get("verticalAlign")||r.textVerticalAlign}),z2:1}),componentModel:e,itemName:p}),t.__fullText=p,t.anid="name",e.get("triggerEvent")&&((d=Nf.makeAxisEventDataBase(e)).targetType="axisName",d.name=p,yt(t).eventData=d),i.add(t),t.updateTransform(),n.add(t),t.decomposeTransform())}};function Vf(t){t&&(t.ignore=!0)}function zf(t,e){var n,i=t&&t.getBoundingRect().clone(),o=e&&e.getBoundingRect().clone();if(i&&o)return n=Lr.yR([]),Lr.U1(n,n,-t.rotation),i.applyTransform(Lr.dC([],n,t.getLocalTransform())),o.applyTransform(Lr.dC([],n,e.getLocalTransform())),i.intersect(o)}function Bf(t){return"middle"===t||"center"===t}function Gf(t,e,n,i,o){for(var a=[],r=[],s=[],l=0;l<t.length;l++){var u=t[l].coord;hs((r[0]=u,s[r[1]=0]=u,s[1]=n,e&&((0,Pr.Ne)(r,r,e),(0,Pr.Ne)(s,s,e)),u=new Wr.Z({shape:{x1:r[0],y1:r[1],x2:s[0],y2:s[1]},style:i,z2:2,autoBatch:!0,silent:!0})).shape,u.style.lineWidth),u.anid=o+"_"+t[l].tickValue,a.push(u)}return a}var Zf=Nf;function Wf(t,e){return"all"===t||(0,s.kJ)(t)&&0<=(0,s.cq)(t,e)||t===e}function Ff(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Uf(t)]}function Hf(t){return!!t.get(["handle","show"])}function Uf(t){return t.type+"||"+t.id}var Xf,Yf={};function Jf(){var t=null!==Xf&&Xf.apply(this,arguments)||this;return t.type=Jf.type,t}a(Jf,Xf=Cr),Jf.prototype.render=function(t,e,n,i){var o,a,r,s,l,u;this.axisPointerClass&&(o=Ff(o=t))&&(l=o.axisPointerModel,a=o.axis.scale,r=l.option,u=l.get("status"),null!=(s=l.get("value"))&&(s=a.parse(s)),l=Hf(l),null==u&&(r.status=l?"show":"hide"),(u=a.getExtent().slice())[0]>u[1]&&u.reverse(),(s=null==s||s>u[1]?u[1]:s)<u[0]&&(s=u[0]),r.value=s,l)&&(r.status=o.axis.scale.isBlank()?"hide":"show"),Xf.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,n,!0)},Jf.prototype.updateAxisPointer=function(t,e,n,i){this._doUpdateAxisPointerClass(t,n,!1)},Jf.prototype.remove=function(t,e){var n=this._axisPointer;n&&n.remove(e)},Jf.prototype.dispose=function(t,e){this._disposeAxisPointer(e),Xf.prototype.dispose.apply(this,arguments)},Jf.prototype._doUpdateAxisPointerClass=function(t,e,n){var i,o=Jf.getAxisPointerClass(this.axisPointerClass);o&&((i=(i=Ff(i=t))&&i.axisPointerModel)?(this._axisPointer||(this._axisPointer=new o)).render(t,i,e,n):this._disposeAxisPointer(e))},Jf.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},Jf.registerAxisPointerClass=function(t,e){Yf[t]=e},Jf.getAxisPointerClass=function(t){return t&&Yf[t]},Jf.type="axis";var jf=Jf,Kf=U();function qf(t,e,n,i){var o=n.axis;if(!o.scale.isBlank()){var a=(n=n.getModel("splitArea")).getModel("areaStyle"),r=a.get("color"),l=i.coordinateSystem.getRect(),u=o.getTicksCoords({tickModel:n,clamp:!0});if(u.length){var c=r.length,h=Kf(t).splitAreaColors,d=s.kW(),p=0;if(h)for(var g=0;g<u.length;g++){var f=h.get(u[g].tickValue);if(null!=f){p=(f+(c-1)*g)%c;break}}var y=o.toGlobalCoord(u[0].coord),m=a.getAreaStyle();for(r=s.kJ(r)?r:[r],g=1;g<u.length;g++){var v=o.toGlobalCoord(u[g].coord),x=void 0,_=void 0,S=void 0,b=void 0;y=o.isHorizontal()?(x=y,_=l.y,b=l.height,x+(S=v-x)):(x=l.x,_=y,S=l.width,_+(b=v-_)),null!=(v=u[g-1].tickValue)&&d.set(v,p),e.add(new Zr.Z({anid:null!=v?"area_"+v:null,shape:{x:x,y:_,width:S,height:b},style:s.ce({fill:r[p]},m),autoBatch:!0,silent:!0})),p=(p+1)%c}Kf(t).splitAreaColors=d}}}function $f(t){Kf(t).splitAreaColors=null}var Qf,ty=["axisLine","axisTickLabel","axisName"],ey=["splitArea","splitLine","minorSplitLine"];function ny(){var t=null!==Qf&&Qf.apply(this,arguments)||this;return t.type=ny.type,t.axisPointerClass="CartesianAxisPointer",t}a(ny,Qf=jf),ny.prototype.render=function(t,e,n,i){this.group.removeAll();var o,a,r=this._axisGroup;this._axisGroup=new Dr.Z,this.group.add(this._axisGroup),t.get("show")&&(a=wf(o=t.getCoordSysModel(),t),a=new Zf(t,s.l7({handleAutoShown:function(e){for(var n=o.coordinateSystem.getCartesians(),i=0;i<n.length;i++)if(pg(n[i].getOtherAxis(t.axis).scale))return!0;return!1}},a)),s.S6(ty,a.add,a),this._axisGroup.add(a.getGroup()),s.S6(ey,(function(e){t.get([e,"show"])&&oy[e](this,this._axisGroup,t,o)}),this),i&&"changeAxisOrder"===i.type&&i.isInitSort||vs(r,this._axisGroup,t),Qf.prototype.render.call(this,t,e,n,i))},ny.prototype.remove=function(){$f(this)},ny.type="cartesianAxis";var iy,oy={splitLine:function(t,e,n,i){var o=n.axis;if(!o.scale.isBlank())for(var a=(n=n.getModel("splitLine")).getModel("lineStyle"),r=a.get("color"),l=!1!==n.get("showMinLine"),u=!1!==n.get("showMaxLine"),c=(r=s.kJ(r)?r:[r],i.coordinateSystem.getRect()),h=o.isHorizontal(),d=0,p=o.getTicksCoords({tickModel:n}),g=[],f=[],y=a.getLineStyle(),m=0;m<p.length;m++){var v,x=o.toGlobalCoord(p[m].coord);0===m&&!l||m===p.length-1&&!u||(v=p[m].tickValue,h?(g[0]=x,g[1]=c.y,f[0]=x,f[1]=c.y+c.height):(g[0]=c.x,g[1]=x,f[0]=c.x+c.width,f[1]=x),x=d++%r.length,hs((v=new Wr.Z({anid:null!=v?"line_"+v:null,autoBatch:!0,shape:{x1:g[0],y1:g[1],x2:f[0],y2:f[1]},style:s.ce({stroke:r[x]},y),silent:!0})).shape,y.lineWidth),e.add(v))}},minorSplitLine:function(t,e,n,i){var o=n.axis,a=(n=n.getModel("minorSplitLine").getModel("lineStyle"),i.coordinateSystem.getRect()),r=o.isHorizontal(),s=o.getMinorTicksCoords();if(s.length)for(var l=[],u=[],c=n.getLineStyle(),h=0;h<s.length;h++)for(var d=0;d<s[h].length;d++){var p=o.toGlobalCoord(s[h][d].coord);hs((r?(l[0]=p,l[1]=a.y,u[0]=p,u[1]=a.y+a.height):(l[0]=a.x,l[1]=p,u[0]=a.x+a.width,u[1]=p),p=new Wr.Z({anid:"minor_line_"+s[h][d].tickValue,autoBatch:!0,shape:{x1:l[0],y1:l[1],x2:u[0],y2:u[1]},style:c,silent:!0})).shape,c.lineWidth),e.add(p)}},splitArea:function(t,e,n,i){qf(t,e,n,i)}},ay=(a(ry,iy=Cl=ny),ry.type="xAxis",ry);function ry(){var t=null!==iy&&iy.apply(this,arguments)||this;return t.type=ry.type,t}a(uy,sy=Cl),uy.type="yAxis";var sy,ly=uy;function uy(){var t=null!==sy&&sy.apply(this,arguments)||this;return t.type=ay.type,t}a(dy,cy=Cr),dy.prototype.render=function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new Zr.Z({shape:t.coordinateSystem.getRect(),style:(0,s.ce)({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},dy.type="grid";var cy,hy=dy;function dy(){var t=null!==cy&&cy.apply(this,arguments)||this;return t.type="grid",t}var py,gy={offset:0};function fy(t){t.registerComponentView(hy),t.registerComponentModel(Kp),t.registerCoordinateSystem("cartesian2d",Pf),lg(t,"x",tg,gy),lg(t,"y",tg,gy),t.registerComponentView(ay),t.registerComponentView(ly),t.registerPreprocessor((function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}))}function yy(t){t.eachSeriesByType("radar",(function(t){var e,n=t.getData(),i=[],o=t.coordinateSystem;o&&(e=o.getIndicatorAxes(),s.S6(e,(function(t,a){n.each(n.mapDimension(e[a].dim),(function(t,e){i[e]=i[e]||[],t=o.dataToPoint(t,a),i[e][a]=my(t)?t:vy(o)}))})),n.each((function(t){var e=s.sE(i[t],my)||vy(o);i[t].push(e.slice()),n.setItemLayout(t,i[t])})))}))}function my(t){return!isNaN(t[0])&&!isNaN(t[1])}function vy(t){return[t.cx,t.cy]}function xy(t){var e,n=t.polar;n&&(s.kJ(n)||(n=[n]),e=[],s.S6(n,(function(n,i){(n.indicator?(n.type&&!n.shape&&(n.shape=n.type),t.radar=t.radar||[],s.kJ(t.radar)||(t.radar=[t.radar]),t.radar):e).push(n)})),t.polar=e),s.S6(t.series,(function(t){t&&"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)}))}function _y(){var t=null!==py&&py.apply(this,arguments)||this;return t.type=_y.type,t}a(_y,py=Os),_y.prototype.render=function(t,e,n){var o=t.coordinateSystem,a=this.group,r=t.getData(),l=this._data;function u(e,n,o,a,r,s){o.removeAll();for(var l=0;l<n.length-1;l++){var u=function(t,e){var n,i=t.getItemVisual(e,"symbol")||"circle";if("none"!==i)return n=El(t.getItemVisual(e,"symbolSize")),i=Ol(i,-1,-1,2,2),t=t.getItemVisual(e,"symbolRotate")||0,i.attr({style:{strokeNoScale:!0},z2:100,scaleX:n[0]/2,scaleY:n[1]/2,rotation:t*Math.PI/180||0}),i}(a,r);u&&(e[u.__dimIdx=l]?(u.setPosition(e[l]),i[s?"initProps":"updateProps"](u,{x:n[l][0],y:n[l][1]},t,r)):u.setPosition(n[l]),o.add(u))}}function c(t){return s.UI(t,(function(t){return[o.cx,o.cy]}))}r.diff(l).add((function(e){var n,i,o,a,s=r.getItemLayout(e);s&&(n=new Br.Z,i=new Gr.Z,o={shape:{points:s}},n.shape.points=c(s),i.shape.points=c(s),be(n,o,t,e),be(i,o,t,e),o=new Dr.Z,a=new Dr.Z,o.add(i),o.add(n),o.add(a),u(i.shape.points,s,a,r,e,!0),r.setItemGraphicEl(e,o))})).update((function(e,n){var i=(n=l.getItemGraphicEl(n)).childAt(0),o=n.childAt(1),a=n.childAt(2),s={shape:{points:r.getItemLayout(e)}};s.shape.points&&(u(i.shape.points,s.shape.points,a,r,e,!1),Te(o),Te(i),Se(i,s,t),Se(o,s,t),r.setItemGraphicEl(e,n))})).remove((function(t){a.remove(l.getItemGraphicEl(t))})).execute(),r.eachItemGraphicEl((function(t,e){var n=r.getItemModel(e),i=t.childAt(0),o=t.childAt(1),l=t.childAt(2),u=r.getItemVisual(e,"style"),c=u.fill,h=(a.add(t),i.useStyle(s.ce(n.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:c})),pe(i,n,"lineStyle"),pe(o,n,"areaStyle"),i=n.getModel("areaStyle")).isEmpty()&&i.parentModel.isEmpty(),d=(o.ignore=h,s.S6(["emphasis","select","blur"],(function(t){var e=(e=n.getModel([t,"areaStyle"])).isEmpty()&&e.parentModel.isEmpty();o.ensureState(t).ignore=e&&h})),o.useStyle(s.ce(i.getAreaStyle(),{fill:c,opacity:.7,decal:u.decal})),(i=n.getModel("emphasis")).getModel("itemStyle").getItemStyle());l.eachChild((function(t){t instanceof Nr.ZP?(i=t.style,t.useStyle(s.l7({image:i.image,x:i.x,y:i.y,width:i.width,height:i.height},u))):(t.useStyle(u),t.setColor(c),t.style.strokeNoScale=!0),t.ensureState("emphasis").style=s.d9(d);var i=r.getStore().get(r.getDimensionIndex(t.__dimIdx),e);null!=i&&!isNaN(i)||(i=""),Le(t,Pe(n),{labelFetcher:r.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:i,inheritColor:c,defaultOpacity:u.opacity})})),ue(t,i.get("focus"),i.get("blurScope"),i.get("disabled"))})),this._data=r},_y.prototype.remove=function(){this.group.removeAll(),this._data=null},_y.type="radar";var Sy,by=_y;function wy(){var t=null!==Sy&&Sy.apply(this,arguments)||this;return t.type=wy.type,t.hasSymbolVisual=!0,t}a(wy,Sy=Ir),wy.prototype.init=function(t){Sy.prototype.init.apply(this,arguments),this.legendVisualProvider=new Pp(s.ak(this.getData,this),s.ak(this.getRawData,this))},wy.prototype.getInitialData=function(t,e){return Ap(this,{generateCoord:"indicator_",generateCoordCount:1/0})},wy.prototype.formatTooltip=function(t,e,n){var i=this.getData(),o=this.coordinateSystem.getIndicatorAxes(),a=""===(a=this.getData().getName(t))?this.name:a,r=sr(this,t);return Qa("section",{header:a,sortBlocks:!0,blocks:s.UI(o,(function(e){var n=i.get(i.mapDimension(e.dim),t);return Qa("nameValue",{markerType:"subItem",markerColor:r,name:e.name,value:n,sortParam:n})}))})},wy.prototype.getTooltipPosition=function(t){if(null!=t)for(var e,n=this.getData(),i=this.coordinateSystem,o=n.getValues(s.UI(i.dimensions,(function(t){return n.mapDimension(t)})),t),a=0,r=o.length;a<r;a++)if(!isNaN(o[a]))return e=i.getIndicatorAxes(),i.coordToPoint(e[a].dataToCoord(o[a]),a)},wy.type="series.radar",wy.dependencies=["radar"],wy.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8};var My,Iy=wy;function Dy(t,e){return s.ce({show:e},t)}function Ty(){var t=null!==My&&My.apply(this,arguments)||this;return t.type=Ty.type,t}Il=ng.value,a(Ty,My=yi),Ty.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),n=this.get("scale"),i=this.get("axisLine"),o=this.get("axisTick"),a=this.get("axisLabel"),r=this.get("axisName"),l=this.get(["axisName","show"]),u=this.get(["axisName","formatter"]),c=this.get("axisNameGap"),h=this.get("triggerEvent"),d=s.UI(this.get("indicator")||[],(function(d){null!=d.max&&0<d.max&&!d.min?d.min=0:null!=d.min&&d.min<0&&!d.max&&(d.max=0);var p=r;return null!=d.color&&(p=s.ce({color:d.color},r)),d=s.TS(s.d9(d),{boundaryGap:t,splitNumber:e,scale:n,axisLine:i,axisTick:o,axisLabel:a,name:d.text,showName:l,nameLocation:"end",nameGap:c,nameTextStyle:p,triggerEvent:h},!1),s.HD(u)?(p=d.name,d.name=u.replace("{value}",null!=p?p:"")):s.mf(u)&&(d.name=u(d.name,d)),p=new nn(d,null,this.ecModel),s.jB(p,qp.prototype),p.mainType="radar",p.componentIndex=this.componentIndex,p}),this);this._indicatorModels=d},Ty.prototype.getIndicatorModels=function(){return this._indicatorModels},Ty.type="radar",Ty.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:s.TS({lineStyle:{color:"#bbb"}},Il.axisLine),axisLabel:Dy(Il.axisLabel,!1),axisTick:Dy(Il.axisTick,!1),splitLine:Dy(Il.splitLine,!0),splitArea:Dy(Il.splitArea,!0),indicator:[]};var Cy,Ay=Ty,ky=["axisLine","axisTickLabel","axisName"];function Ly(){var t=null!==Cy&&Cy.apply(this,arguments)||this;return t.type=Ly.type,t}a(Ly,Cy=Cr),Ly.prototype.render=function(t,e,n){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},Ly.prototype._buildAxes=function(t){var e=t.coordinateSystem;t=e.getIndicatorAxes(),t=s.UI(t,(function(t){var n=t.model.get("showName")?t.name:"";return new Zf(t.model,{axisName:n,position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})})),s.S6(t,(function(t){s.S6(ky,t.add,t),this.group.add(t.getGroup())}),this)},Ly.prototype._buildSplitLineAndArea=function(t){var e=t.coordinateSystem,n=e.getIndicatorAxes();if(n.length){var i=t.get("shape"),o=t.getModel("splitLine"),a=(t=t.getModel("splitArea"),o.getModel("lineStyle")),r=t.getModel("areaStyle"),l=o.get("show"),u=t.get("show"),c=(o=a.get("color"),t=r.get("color"),s.kJ(o)?o:[o]),h=s.kJ(t)?t:[t],d=[],p=[];if("circle"===i)for(var g=n[0].getTicksCoords(),f=e.cx,y=e.cy,m=0;m<g.length;m++)l&&d[I(d,c,m)].push(new Or.Z({shape:{cx:f,cy:y,r:g[m].coord}})),u&&m<g.length-1&&p[I(p,h,m)].push(new zr.Z({shape:{cx:f,cy:y,r0:g[m].coord,r:g[m+1].coord}}));else{var v,x=s.UI(n,(function(t,n){return t=t.getTicksCoords(),v=null==v?t.length-1:Math.min(t.length-1,v),s.UI(t,(function(t){return e.coordToPoint(t.coord,n)}))})),_=[];for(m=0;m<=v;m++){for(var S=[],b=0;b<n.length;b++)S.push(x[b][m]);S[0]&&S.push(S[0].slice()),l&&d[I(d,c,m)].push(new Gr.Z({shape:{points:S}})),u&&_&&p[I(p,h,m-1)].push(new Br.Z({shape:{points:S.concat(_)}})),_=S.slice().reverse()}}var w=a.getLineStyle(),M=r.getAreaStyle();s.S6(p,(function(t,e){this.group.add(us(t,{style:s.ce({stroke:"none",fill:h[e%h.length]},M),silent:!0}))}),this),s.S6(d,(function(t,e){this.group.add(us(t,{style:s.ce({fill:"none",stroke:c[e%c.length]},w),silent:!0}))}),this)}function I(t,e,n){return t[n%=e.length]=t[n]||[],n}},Ly.type="radar";var Py,Ry=Ly;function Ny(t,e,n){return(t=Py.call(this,t,e,n)||this).type="value",t.angle=0,t.name="",t}a(Ny,Py=Al);var Oy=Ny;function Ey(t,e,n){this.dimensions=[],this._model=t,this._indicatorAxes=(0,s.UI)(t.getIndicatorModels(),(function(t,e){var n=new Oy(e="indicator_"+e,new Dg);return n.name=t.get("name"),(n.model=t).axis=n,this.dimensions.push(e),n}),this),this.resize(t,n)}Ey.prototype.getIndicatorAxes=function(){return this._indicatorAxes},Ey.prototype.dataToPoint=function(t,e){var n=this._indicatorAxes[e];return this.coordToPoint(n.dataToCoord(t),e)},Ey.prototype.coordToPoint=function(t,e){return e=this._indicatorAxes[e].angle,[this.cx+t*Math.cos(e),this.cy-t*Math.sin(e)]},Ey.prototype.pointToData=function(t){for(var e,n=t[0]-this.cx,i=(t=t[1]-this.cy,Math.sqrt(n*n+t*t)),o=(n/=i,t/=i,Math.atan2(-t,n)),a=1/0,r=-1,s=0;s<this._indicatorAxes.length;s++){var l=this._indicatorAxes[s],u=Math.abs(o-l.angle);u<a&&(e=l,r=s,a=u)}return[r,+(e&&e.coordToData(i))]},Ey.prototype.resize=function(t,e){var n=t.get("center"),i=e.getWidth(),o=(e=e.getHeight(),Math.min(i,e)/2);this.cx=p(n[0],i),this.cy=p(n[1],e),this.startAngle=t.get("startAngle")*Math.PI/180,i=t.get("radius"),((0,s.HD)(i)||(0,s.hj)(i))&&(i=[0,i]),this.r0=p(i[0],o),this.r=p(i[1],o),(0,s.S6)(this._indicatorAxes,(function(t,e){t.setExtent(this.r0,this.r),e=this.startAngle+e*Math.PI*2/this._indicatorAxes.length,e=Math.atan2(Math.sin(e),Math.cos(e)),t.angle=e}),this)},Ey.prototype.update=function(t,e){var n=this._indicatorAxes,i=this._model,o=((0,s.S6)(n,(function(t){t.scale.setExtent(1/0,-1/0)})),t.eachSeriesByType("radar",(function(e,o){var a;"radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===i&&(a=e.getData(),(0,s.S6)(n,(function(t){t.scale.unionExtentFromData(a,a.mapDimension(t.dim))})))}),this),i.get("splitNumber")),a=new Dg;a.setExtent(0,o),a.setInterval(1),(0,s.S6)(n,(function(t,e){Tf(t.scale,t.model,a)}))},Ey.prototype.convertToPixel=function(t,e,n){return console.warn("Not implemented."),null},Ey.prototype.convertFromPixel=function(t,e,n){return console.warn("Not implemented."),null},Ey.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},Ey.create=function(t,e){var n=[];return t.eachComponent("radar",(function(t){var i=new Ey(t,0,e);n.push(i),t.coordinateSystem=i})),t.eachSeriesByType("radar",(function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=n[t.get("radarIndex")||0])})),n},Ey.dimensions=[];var Vy=Ey;function zy(t){t.registerCoordinateSystem("radar",Vy),t.registerComponentModel(Ay),t.registerComponentView(Ry),t.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each((function(t){e.setItemVisual(t,"legendIcon","roundRect")})),e.setVisual("legendIcon","roundRect")}})}var By,Gy=n(7617),Zy="\0_ec_interaction_mutex";function Wy(t,e){return Fy(t)[e]}function Fy(t){return t[Zy]||(t[Zy]={})}function Hy(t){var e=By.call(this)||this,n=(e._zr=t,(0,s.ak)(e._mousedownHandler,e)),i=(0,s.ak)(e._mousemoveHandler,e),o=(0,s.ak)(e._mouseupHandler,e),a=(0,s.ak)(e._mousewheelHandler,e),r=(0,s.ak)(e._pinchHandler,e);return e.enable=function(e,l){this.disable(),this._opt=(0,s.ce)((0,s.d9)(l)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),!0!==(e=null==e||e)&&"move"!==e&&"pan"!==e||(t.on("mousedown",n),t.on("mousemove",i),t.on("mouseup",o)),!0!==e&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",a),t.on("pinch",r))},e.disable=function(){t.off("mousedown",n),t.off("mousemove",i),t.off("mouseup",o),t.off("mousewheel",a),t.off("pinch",r)},e}function Uy(t,e,n,i,o){t.pointerChecker&&t.pointerChecker(i,o.originX,o.originY)&&(Gy.sT(i.event),Xy(t,e,n,i,o))}function Xy(t,e,n,i,o){o.isAvailableBehavior=(0,s.ak)(Yy,null,n,i),t.trigger(e,o)}function Yy(t,e,n){return n=n[t],!t||n&&(!(0,s.HD)(n)||e.event[n+"Key"])}Yu({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},s.ZT),a(Hy,By=c.Z),Hy.prototype.isDragging=function(){return this._dragging},Hy.prototype.isPinching=function(){return this._pinching},Hy.prototype.setPointerChecker=function(t){this.pointerChecker=t},Hy.prototype.dispose=function(){this.disable()},Hy.prototype._mousedownHandler=function(t){if(!Gy.x1(t)){for(var e=t.target;e;){if(e.draggable)return;e=e.__hostTarget||e.parent}var n=t.offsetX,i=t.offsetY;this.pointerChecker&&this.pointerChecker(t,n,i)&&(this._x=n,this._y=i,this._dragging=!0)}},Hy.prototype._mousemoveHandler=function(t){var e,n,i,o,a,r;this._dragging&&Yy("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!Wy(this._zr,"globalPan")&&(e=t.offsetX,n=t.offsetY,a=e-(i=this._x),r=n-(o=this._y),this._x=e,this._y=n,this._opt.preventDefaultMouseMove&&Gy.sT(t.event),Xy(this,"pan","moveOnMouseMove",t,{dx:a,dy:r,oldX:i,oldY:o,newX:e,newY:n,isAvailableBehavior:null}))},Hy.prototype._mouseupHandler=function(t){Gy.x1(t)||(this._dragging=!1)},Hy.prototype._mousewheelHandler=function(t){var e=Yy("zoomOnMouseWheel",t,this._opt),n=Yy("moveOnMouseWheel",t,this._opt),i=t.wheelDelta,o=Math.abs(i),a=t.offsetX,r=t.offsetY;0!==i&&(e||n)&&(e&&(e=3<o?1.4:1<o?1.2:1.1,Uy(this,"zoom","zoomOnMouseWheel",t,{scale:0<i?e:1/e,originX:a,originY:r,isAvailableBehavior:null})),n)&&Uy(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(0<i?1:-1)*(3<(o=Math.abs(i))?.4:1<o?.15:.05),originX:a,originY:r,isAvailableBehavior:null})},Hy.prototype._pinchHandler=function(t){Wy(this._zr,"globalPan")||Uy(this,"zoom",null,t,{scale:1<t.pinchScale?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})};var Jy=Hy;function jy(t,e,n){(t=t.target).x+=e,t.y+=n,t.dirty()}function Ky(t,e,n,i){var o=t.target,a=t.zoomLimit,r=t.zoom=t.zoom||1;r*=e,a&&(e=a.min||0,a=a.max||1/0,r=Math.max(Math.min(a,r),e)),a=r/t.zoom,t.zoom=r,o.x-=(n-o.x)*(a-1),o.y-=(i-o.y)*(a-1),o.scaleX*=a,o.scaleY*=a,o.dirty()}var qy={axisPointer:1,tooltip:1,brush:1};function $y(t,e,n){return t=(e=e.getComponentByElement(t.topTarget))&&e.coordinateSystem,e&&e!==n&&!qy.hasOwnProperty(e.mainType)&&t&&t.model!==n}var Qy=n(7931),tm=n(5091),em=n(7337),nm=[];function im(t,e){for(var n=0;n<t.length;n++)Pr.Ne(t[n],t[n],e)}function om(t,e,n,i){for(var o=0;o<t.length;o++){var a=t[o];(a=i?i.project(a):a)&&isFinite(a[0])&&isFinite(a[1])&&(Pr.VV(e,e,a),Pr.Fp(n,n,a))}}function am(t){this.name=t}am.prototype.setCenter=function(t){this._center=t},am.prototype.getCenter=function(){return this._center||(this._center=this.calcCenter())};var rm,sm=function(t,e){this.type="polygon",this.exterior=t,this.interiors=e},lm=function(t){this.type="linestring",this.points=t},um=(a(cm,rm=kl=am),cm.prototype.calcCenter=function(){for(var t,e=this.geometries,n=0,i=0;i<e.length;i++){var o,a=e[i];n<(o=(o=a.exterior)&&o.length)&&(t=a,n=o)}if(t){for(var r=t.exterior,s=0,l=0,u=0,c=r.length,h=r[c-1][0],d=r[c-1][1],p=0;p<c;p++){var g=r[p][0],f=r[p][1],y=h*f-g*d;s+=y,l+=(h+g)*y,u+=(d+f)*y,h=g,d=f}return s?[l/s/3,u/s/3,s]:[r[0][0]||0,r[0][1]||0]}var m=this.getBoundingRect();return[m.x+m.width/2,m.y+m.height/2]},cm.prototype.getBoundingRect=function(t){var e,n,i,o=this._rect;return o&&!t||(e=[1/0,1/0],n=[-1/0,-1/0],i=this.geometries,(0,s.S6)(i,(function(i){"polygon"===i.type?om(i.exterior,e,n,t):(0,s.S6)(i.points,(function(i){om(i,e,n,t)}))})),isFinite(e[0])&&isFinite(e[1])&&isFinite(n[0])&&isFinite(n[1])||(e[0]=e[1]=n[0]=n[1]=0),o=new sn.Z(e[0],e[1],n[0]-e[0],n[1]-e[1]),t)||(this._rect=o),o},cm.prototype.contain=function(t){var e=this.getBoundingRect(),n=this.geometries;if(e.contain(t[0],t[1]))t:for(var i=0,o=n.length;i<o;i++){var a=n[i];if("polygon"===a.type){var r=a.exterior,s=a.interiors;if(em.X(r,t[0],t[1])){for(var l=0;l<(s?s.length:0);l++)if(em.X(s[l],t[0],t[1]))continue t;return!0}}}return!1},cm.prototype.transformTo=function(t,e,n,i){for(var o=this.getBoundingRect(),a=o.width/o.height,r=(n?i=i||n/a:n=a*i,a=new sn.Z(t,e,n,i),o.calculateTransform(a)),l=this.geometries,u=0;u<l.length;u++){var c=l[u];"polygon"===c.type?(im(c.exterior,r),(0,s.S6)(c.interiors,(function(t){im(t,r)}))):(0,s.S6)(c.points,(function(t){im(t,r)}))}(o=this._rect).copy(a),this._center=[o.x+o.width/2,o.y+o.height/2]},cm.prototype.cloneShallow=function(t){return(t=new cm(t=null==t?this.name:t,this.geometries,this._center))._rect=this._rect,t.transformTo=null,t},cm);function cm(t,e,n){return(t=rm.call(this,t)||this).type="geoJSON",t.geometries=e,t._center=n&&[n[0],n[1]],t}a(pm,hm=kl),pm.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,e=[(e=t.getBoundingRect()).x+e.width/2,e.y+e.height/2],n=Lr.yR(nm),i=t;i&&!i.isGeoSVGGraphicRoot;)Lr.dC(n,i.getLocalTransform(),n),i=i.parent;return Lr.U_(n,n),Pr.Ne(e,e,n),e};var hm,dm=pm;function pm(t,e){return(t=hm.call(this,t)||this).type="geoSVG",t._elOnlyForCalculate=e,t}var gm=(0,s.kW)(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),fm=(ym.prototype.load=function(){var t,e,n,i;return this._firstGraphic||(e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone(),e=e.named,n=[],i=(0,s.kW)(),(0,s.S6)(e,(function(t){var e;null==t.namedFrom&&(e=new dm(t.name,t.el),n.push(e),i.set(t.name,e))})),t=(e={regions:n,regionsMap:i}).regionsMap,this._regions=e.regions,this._regionsMap=t),{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},ym.prototype._buildGraphic=function(t){var e,n;try{n=(e=t&&(0,Qy.hS)(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{}).root,(0,s.hu)(null!=n)}catch(t){throw new Error("Invalid svg format\n"+t.message)}var i,o,a,r,l=((t=new Dr.Z).add(n),t.isGeoSVGGraphicRoot=!0,e.width),u=e.height,c=e.viewBoxRect,h=this._boundingRect,d=(h||(r=a=o=i=void 0,null!=l?(i=0,a=l):c&&(i=c.x,a=c.width),null!=u?(o=0,r=u):c&&(o=c.y,r=c.height),null!=i&&null!=o||(l=n.getBoundingRect(),null==i&&(i=l.x,a=l.width),null==o&&(o=l.y,r=l.height)),h=this._boundingRect=new sn.Z(i,o,a,r)),c&&(u=(0,Qy.sd)(c,h),n.scaleX=n.scaleY=u.scale,n.x=u.x,n.y=u.y),t.setClipPath(new Zr.Z({shape:h.plain()})),[]);return(0,s.S6)(e.named,(function(t){null!=gm.get(t.svgNodeTagLower)&&(d.push(t),(t=t.el).silent=!1,t.isGroup)&&t.traverse((function(t){t.silent=!1}))})),{root:t,boundingRect:h,named:d}},ym.prototype.useGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,n)),n},ym.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);n&&(e.removeKey(t),this._freedGraphics.push(n))},ym);function ym(t,e){this.type="geoSVG",this._usedGraphicMap=(0,s.kW)(),this._freedGraphics=[],this._mapName=t,this._parsedXML=(0,tm.s)(e)}function mm(t,e,n){for(var i=0;i<t.length;i++)t[i]=vm(t[i],e[i],n)}function vm(t,e,n){for(var i=[],o=e[0],a=e[1],r=0;r<t.length;r+=2){var s=(s=t.charCodeAt(r)-64)>>1^-(1&s),l=(l=t.charCodeAt(r+1)-64)>>1^-(1&l);i.push([(o=s+=o)/n,(a=l+=a)/n])}return i}for(var xm=[126,25],_m=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],Sm=0;Sm<_m.length;Sm++)for(var bm=0;bm<_m[Sm].length;bm++)_m[Sm][bm][0]/=10.5,_m[Sm][bm][1]/=-14,_m[Sm][bm][0]+=xm[0],_m[Sm][bm][1]+=xm[1];var wm={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]},Mm=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];Dm.prototype.load=function(t,e){var n,i=this._parsedMap.get(e=e||"name"),o=(i||(n=this._parseToRegions(e),i=this._parsedMap.set(e,{regions:n,boundingRect:function(t){for(var e,n=0;n<t.length;n++){var i=t[n].getBoundingRect();(e=e||i.clone()).union(i)}return e}(n)})),(0,s.kW)()),a=[];return(0,s.S6)(i.regions,(function(e){var n=e.name;t&&(0,s.RI)(t,n)&&(e=e.cloneShallow(n=t[n])),a.push(e),o.set(n,e)})),{regions:a,boundingRect:i.boundingRect||new sn.Z(0,0,0,0),regionsMap:o}},Dm.prototype._parseToRegions=function(t){var e,n=this._mapName,i=this._geoJSON;try{e=i?function(t,e){var n,i,o,a;return t=(n=t).UTF8Encoding?(null==(o=(i=n).UTF8Scale)&&(o=1024),a=i.features,s.S6(a,(function(t){var e=t.geometry,n=e.encodeOffsets,i=e.coordinates;if(n)switch(e.type){case"LineString":e.coordinates=vm(i,n,o);break;case"Polygon":case"MultiLineString":mm(i,n,o);break;case"MultiPolygon":s.S6(i,(function(t,e){return mm(t,n[e],o)}))}})),i.UTF8Encoding=!1,i):n,s.UI(s.hX(t.features,(function(t){return t.geometry&&t.properties&&0<t.geometry.coordinates.length})),(function(t){var n=t.properties,i=t.geometry,o=[];switch(i.type){case"Polygon":var a=i.coordinates;o.push(new sm(a[0],a.slice(1)));break;case"MultiPolygon":s.S6(i.coordinates,(function(t){t[0]&&o.push(new sm(t[0],t.slice(1)))}));break;case"LineString":o.push(new lm([i.coordinates]));break;case"MultiLineString":o.push(new lm(i.coordinates))}return(t=new um(n[e||"name"],o,n.cp)).properties=n,t}))}(i,t):[]}catch(t){throw new Error("Invalid geoJson format\n"+t.message)}return function(t,e){if("china"===t){for(var n=0;n<e.length;n++)if("南海诸岛"===e[n].name)return;e.push(new um("南海诸岛",s.UI(_m,(function(t){return{type:"polygon",exterior:t}})),xm))}}(n,e),(0,s.S6)(e,(function(t){var e,i,o=t.name,a=(a=t,"china"===(i=n)&&(i=wm[a.name])&&((e=a.getCenter())[0]+=i[0]/10.5,e[1]+=-i[1]/14,a.setCenter(e)),i=t,"china"===n&&"台湾"===i.name&&i.geometries.push({type:"polygon",exterior:Mm[0]}),this._specialAreas&&this._specialAreas[o]);a&&t.transformTo(a.left,a.top,a.width,a.height)}),this),e},Dm.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}};var Im=Dm;function Dm(t,e,n){this.type="geoJSON",this._parsedMap=(0,s.kW)(),this._mapName=t,this._specialAreas=n,this._geoJSON=(t=e,(0,s.HD)(t)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t)}var Tm=(0,s.kW)(),Cm={registerMap:function(t,e,n){var i;e=e.svg?new fm(t,e.svg):((i=e.geoJson||e.geoJSON)&&!e.features?n=e.specialAreas:i=e,new Im(t,i,n)),Tm.set(t,e)},getGeoResource:function(t){return Tm.get(t)},getMapForUser:function(t){return(t=Tm.get(t))&&"geoJSON"===t.type&&t.getMapForUser()},load:function(t,e,n){if(t=Tm.get(t))return t.load(e,n)}},Am=n(154),km=(Tl=["rect","circle","line","ellipse","polygon","polyline","path"],s.kW(Tl)),Lm=s.kW(Tl.concat(["g"])),Pm=s.kW(Tl.concat(["g"])),Rm=U();function Nm(t){var e=t.getItemStyle();return null!=(t=t.get("areaColor"))&&(e.fill=t),e}function Om(t){(t=t.style)&&(t.stroke=t.stroke||t.fill,t.fill=null)}function Em(t){var e=new Dr.Z;this.uid=an("ec_map_draw"),this._controller=new Jy(t.getZr()),this._controllerHost={target:e},(this.group=e).add(this._regionsGroup=new Dr.Z),e.add(this._svgGroup=new Dr.Z)}function Vm(t,e,n,i){var o,a=i.getModel("itemStyle"),r=i.getModel(["emphasis","itemStyle"]),s=i.getModel(["blur","itemStyle"]),l=(i=i.getModel(["select","itemStyle"]),a=Nm(a),r=Nm(r),i=Nm(i),s=Nm(s),t.data);l&&(o=l.getItemVisual(n,"style"),l=l.getItemVisual(n,"decal"),t.isVisualEncodedByVisualMap&&o.fill&&(a.fill=o.fill),l)&&(a.decal=Fl(l,t.api)),e.setStyle(a),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=r,e.ensureState("select").style=i,e.ensureState("blur").style=s,Yt(e)}function zm(t,e,n,i,o,a,r){var s=t.data,l=(t=t.isGeo,s&&isNaN(s.get(s.mapDimension("value"),a))),u=s&&s.getItemLayout(a);t||l||u&&u.showLabel?(l=t?n:a,u=!s||0<=a?o:void 0,t=r?{normal:{align:"center",verticalAlign:"middle"}}:null,Le(e,Pe(i),{labelFetcher:u,labelDataIndex:l,defaultText:n},t),(s=e.getTextContent())&&(Rm(s).ignore=s.ignore,e.textConfig)&&r&&(a=e.getBoundingRect().clone(),e.textConfig.layoutRect=a,e.textConfig.position=[(r[0]-a.x)/a.width*100+"%",(r[1]-a.y)/a.height*100+"%"]),e.disableLabelAnimation=!0):(e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null)}function Bm(t,e,n,i,o,a){t.data?t.data.setItemGraphicEl(a,e):yt(e).eventData={componentType:"geo",componentIndex:o.componentIndex,geoIndex:o.componentIndex,name:n,region:i&&i.option||{}}}function Gm(t,e,n,i,o){t.data||Ms({el:e,componentModel:o,itemName:n,itemTooltipOption:i.get("tooltip")})}function Zm(t,e,n,i,o){e.highDownSilentOnTouch=!!o.get("selectedMode");var a=(i=i.getModel("emphasis")).get("focus");return ue(e,a,i.get("blurScope"),i.get("disabled")),t.isGeo&&(i=o,t=n,(o=yt(o=e)).componentMainType=i.mainType,o.componentIndex=i.componentIndex,o.componentHighDownName=t),a}function Wm(t,e,n){var i,o=[];function a(){i=[]}function r(){i.length&&(o.push(i),i=[])}var l=e({polygonStart:a,polygonEnd:r,lineStart:a,lineEnd:r,point:function(t,e){isFinite(t)&&isFinite(e)&&i.push([t,e])},sphere:function(){}});return n||l.polygonStart(),s.S6(t,(function(t){l.lineStart();for(var e=0;e<t.length;e++)l.point(t[e][0],t[e][1]);l.lineEnd()})),n||l.polygonEnd(),o}Em.prototype.draw=function(t,e,n,i,o){var a="geo"===t.mainType,r=t.getData&&t.getData(),s=(a&&e.eachComponent({mainType:"series",subType:"map"},(function(e){r||e.getHostGeoModel()!==t||(r=e.getData())})),t.coordinateSystem),l=this._regionsGroup,u=this.group,c=(h=s.getTransformInfo()).raw,h=h.roam;!l.childAt(0)||o?(u.x=h.x,u.y=h.y,u.scaleX=h.scaleX,u.scaleY=h.scaleY,u.dirty()):Se(u,h,t),o=r&&r.getVisual("visualMeta")&&0<r.getVisual("visualMeta").length,u={api:n,geo:s,mapOrGeoModel:t,data:r,isVisualEncodedByVisualMap:o,isGeo:a,transformInfoRaw:c},"geoJSON"===s.resourceType?this._buildGeoJSON(u):"geoSVG"===s.resourceType&&this._buildSVG(u),this._updateController(t,e,n),this._updateMapSelectHandler(t,l,n,i)},Em.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=s.kW(),n=s.kW(),i=this._regionsGroup,o=t.transformInfoRaw,a=t.mapOrGeoModel,r=t.data,l=t.geo.projection,u=l&&l.stream;function c(t,e){return(t=e?e(t):t)&&[t[0]*o.scaleX+o.x,t[1]*o.scaleY+o.y]}function h(t){return{shape:{points:function(t){for(var e=[],n=!u&&l&&l.project,i=0;i<t.length;++i){var o=c(t[i],n);o&&e.push(o)}return e}(t)}}}i.removeAll(),s.S6(t.geo.regions,(function(o){var d=o.name,p=e.get(d),g=n.get(d)||{},f=g.dataIdx,y=g.regionModel,m=(p||(p=e.set(d,new Dr.Z),i.add(p),f=r?r.indexOfName(d):null,null!=(g=(y=t.isGeo?a.getRegionModel(d):r?r.getItemModel(f):null).get("silent",!0))&&(p.silent=g),n.set(d,{dataIdx:f,regionModel:y})),[]),v=[],x=(s.S6(o.geometries,(function(t){var e;"polygon"===t.type?(e=[t.exterior].concat(t.interiors||[]),u&&(e=Wm(e,u)),s.S6(e,(function(t){m.push(new Br.Z(h(t)))}))):(e=t.points,u&&(e=Wm(e,u,!0)),s.S6(e,(function(t){v.push(new Gr.Z(h(t)))})))})),c(o.getCenter(),l&&l.project));function _(e,n){e.length&&(e=new Ur.Z({culling:!0,segmentIgnoreThreshold:1,shape:{paths:e}}),p.add(e),Vm(t,e,f,y),zm(t,e,d,y,a,f,x),n)&&(Om(e),s.S6(e.states,Om))}_(m),_(v,!0)})),e.each((function(e,i){var o=(r=n.get(i)).dataIdx,r=r.regionModel;Bm(t,e,i,r,a,o),Gm(t,e,i,r,a),Zm(t,e,i,r,a)}),this)},Em.prototype._buildSVG=function(t){var e=t.geo.map,n=t.transformInfoRaw,i=(this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e)),this._svgDispatcherMap=s.kW()),o=!1;s.S6(this._svgGraphicRecord.named,(function(e){var n=e.name,a=t.mapOrGeoModel,r=t.data,s=e.svgNodeTagLower,l=e.el,u=(r=r?r.indexOfName(n):null,a.getRegionModel(n)),c=(null!=km.get(s)&&l instanceof Am.ZP&&Vm(t,l,r,u),l instanceof Am.ZP&&(l.culling=!0),u.get("silent",!0));null!=c&&(l.silent=c),l.z2EmphasisLift=0,e.namedFrom||(null!=Pm.get(s)&&zm(t,l,n,u,a,r,null),Bm(t,l,n,u,a,r),Gm(t,l,n,u,a),null!=Lm.get(s)&&("self"===Zm(t,l,n,u,a)&&(o=!0),(i.get(n)||i.set(n,[])).push(l)))}),this),this._enableBlurEntireSVG(o,t)},Em.prototype._enableBlurEntireSVG=function(t,e){var n;t&&e.isGeo&&(n=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity,this._svgGraphicRecord.root.traverse((function(t){var e;t.isGroup||(Yt(t),null==(e=t.ensureState("blur").style||{}).opacity&&null!=n&&(e.opacity=n),t.ensureState("emphasis"))})))},Em.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},Em.prototype.findHighDownDispatchers=function(t,e){if(null==t)return[];if("geoJSON"===(e=e.coordinateSystem).resourceType){var n=this._regionsGroupByName;if(n)return(n=n.get(t))?[n]:[]}else if("geoSVG"===e.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},Em.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},Em.prototype._useSVG=function(t){var e=Cm.getGeoResource(t);e&&"geoSVG"===e.type&&(e=e.useGraphic(this.uid),this._svgGroup.add(e.root),this._svgGraphicRecord=e,this._svgMapName=t)},Em.prototype._freeSVG=function(){var t=this._svgMapName;null!=t&&((t=Cm.getGeoResource(t))&&"geoSVG"===t.type&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null)},Em.prototype._updateController=function(t,e,n){var i=t.coordinateSystem,o=this._controller,a=this._controllerHost,r=(a.zoomLimit=t.get("scaleLimit"),a.zoom=i.getZoom(),o.enable(t.get("roam")||!1),t.mainType);function l(){var e={type:"geoRoam",componentType:r};return e[r+"Id"]=t.id,e}o.off("pan").on("pan",(function(t){this._mouseDownFlag=!1,jy(a,t.dx,t.dy),n.dispatchAction(s.l7(l(),{dx:t.dx,dy:t.dy,animation:{duration:0}}))}),this),o.off("zoom").on("zoom",(function(t){this._mouseDownFlag=!1,Ky(a,t.scale,t.originX,t.originY),n.dispatchAction(s.l7(l(),{totalZoom:a.zoom,zoom:t.scale,originX:t.originX,originY:t.originY,animation:{duration:0}}))}),this),o.setPointerChecker((function(e,o,a){return i.containPoint([o,a])&&!$y(e,n,t)}))},Em.prototype.resetForLabelLayout=function(){this.group.traverse((function(t){(t=t.getTextContent())&&(t.ignore=Rm(t).ignore)}))},Em.prototype._updateMapSelectHandler=function(t,e,n,i){var o=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",(function(){o._mouseDownFlag=!0})),e.on("click",(function(t){o._mouseDownFlag&&(o._mouseDownFlag=!1)})))};var Fm,Hm=Em;function Um(){var t=null!==Fm&&Fm.apply(this,arguments)||this;return t.type=Um.type,t}a(Um,Fm=Os),Um.prototype.render=function(t,e,n,i){var o,a;i&&"mapToggleSelect"===i.type&&i.from===this.uid||((o=this.group).removeAll(),t.getHostGeoModel())||(this._mapDraw&&i&&"geoRoam"===i.type&&this._mapDraw.resetForLabelLayout(),i&&"geoRoam"===i.type&&"series"===i.componentType&&i.seriesId===t.id?(a=this._mapDraw)&&o.add(a.group):t.needsDrawMap?(a=this._mapDraw||new Hm(n),o.add(a.group),a.draw(t,e,n,this,i),this._mapDraw=a):(this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null),t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,n))},Um.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},Um.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},Um.prototype._renderSymbols=function(t,e,n){var i=t.originalData,o=this.group;i.each(i.mapDimension("value"),(function(e,n){var a,r,s,l;isNaN(e)||(e=i.getItemLayout(n))&&e.point&&(l=e.point,e=e.offset,a=new Or.Z({style:{fill:t.getData().getVisual("style").fill},shape:{cx:l[0]+9*e,cy:l[1],r:3},silent:!0,z2:8+(e?0:Ct+1)}),e||(l=t.mainSeries.getData(),e=i.getName(n),r=l.indexOfName(e),s=(n=i.getItemModel(n)).getModel("label"),l=l.getItemGraphicEl(r),Le(a,Pe(n),{labelFetcher:{getFormattedLabel:function(e,n){return t.getFormattedLabel(r,n)}},defaultText:e}),a.disableLabelAnimation=!0,s.get("position")||a.setTextConfig({position:"bottom"}),l.onHoverStateChange=function(t){Ut(a,t)}),o.add(a))}))},Um.type="map";var Xm,Ym=Um;function Jm(){var t=null!==Xm&&Xm.apply(this,arguments)||this;return t.type=Jm.type,t.needsDrawMap=!1,t.seriesGroup=[],t.getTooltipPosition=function(t){var e;if(null!=t)return t=this.getData().getName(t),(t=(e=this.coordinateSystem).getRegion(t))&&e.dataToPoint(t.getCenter())},t}a(Jm,Xm=Ir),Jm.prototype.getInitialData=function(t){for(var e=Ap(this,{coordDimensions:["value"],encodeDefaulter:s.WA(ki,this)}),n=s.kW(),i=[],o=0,a=e.count();o<a;o++){var r=e.getName(o);n.set(r,o)}var l=Cm.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return s.S6(l.regions,(function(t){var o,a=t.name,r=n.get(a);t=t.properties&&t.properties.echartsStyle,null==r?i.push(o={name:a}):o=e.getRawDataItem(r),t&&s.TS(o,t)})),e.appendData(i),e},Jm.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return null!=t?this.ecModel.getComponent("geo",t):null},Jm.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},Jm.prototype.getRawValue=function(t){var e=this.getData();return e.get(e.mapDimension("value"),t)},Jm.prototype.getRegionModel=function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},Jm.prototype.formatTooltip=function(t,e,n){for(var i=this.getData(),o=this.getRawValue(t),a=i.getName(t),r=this.seriesGroup,s=[],l=0;l<r.length;l++){var u=r[l].originalData.indexOfName(a),c=i.mapDimension("value");isNaN(r[l].originalData.get(c,u))||s.push(r[l].name)}return Qa("section",{header:s.join(", "),noHeader:!s.length,blocks:[Qa("nameValue",{name:a,value:o})]})},Jm.prototype.setZoom=function(t){this.option.zoom=t},Jm.prototype.setCenter=function(t){this.option.center=t},Jm.prototype.getLegendIcon=function(t){var e=t.icon||"roundRect",n=Ol(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return n.setStyle(t.itemStyle),n.style.stroke="none",-1<e.indexOf("empty")&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n},Jm.type="series.map",Jm.dependencies=["geo"],Jm.layoutMode="box",Jm.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"};var jm=Jm;function Km(t){var e={};t.eachSeriesByType("map",(function(t){var n=(n=t.getHostGeoModel())?"o"+n.id:"i"+t.getMapType();(e[n]=e[n]||[]).push(t)})),s.S6(e,(function(t,e){n=s.UI(t,(function(t){return t.getData()})),i=t[0].get("mapValueCalculation"),o={},s.S6(n,(function(t){t.each(t.mapDimension("value"),(function(e,n){n="ec-"+t.getName(n),o[n]=o[n]||[],isNaN(e)||o[n].push(e)}))}));for(var n,i,o,a=n[0].map(n[0].mapDimension("value"),(function(t,e){for(var a="ec-"+n[0].getName(e),r=0,s=1/0,l=-1/0,u=o[a].length,c=0;c<u;c++)s=Math.min(s,o[a][c]),l=Math.max(l,o[a][c]),r+=o[a][c];return e="min"===i?s:"max"===i?l:"average"===i?r/u:r,0===u?NaN:e})),r=0;r<t.length;r++)t[r].originalData=t[r].getData();for(r=0;r<t.length;r++)(t[r].seriesGroup=t)[r].needsDrawMap=0===r&&!t[r].getHostGeoModel(),t[r].setData(a.cloneShallow()),t[r].mainSeries=t[0]}))}function qm(t){var e={};t.eachSeriesByType("map",(function(n){var i,o,a=n.getMapType();n.getHostGeoModel()||e[a]||(i={},s.S6(n.seriesGroup,(function(e){var n=e.coordinateSystem,o=e.originalData;e.get("showLegendSymbol")&&t.getComponent("legend")&&o.each(o.mapDimension("value"),(function(t,e){var a=o.getName(e),r=n.getRegion(a);r&&!isNaN(t)&&(t=i[a]||0,r=n.dataToPoint(r.getCenter()),i[a]=t+1,o.setItemLayout(e,{point:r,offset:t}))}))})),(o=n.getData()).each((function(t){var e=o.getName(t),n=o.getItemLayout(t)||{};n.showLabel=!i[e],o.setItemLayout(t,n)})),e[a]=!0)}))}var $m,Qm=Pr.Ne;function tv(t){var e=$m.call(this)||this;return e.type="view",e.dimensions=["x","y"],e._roamTransformable=new Rr.ZP,e._rawTransformable=new Rr.ZP,e.name=t,e}function ev(t){return(t=t.seriesModel)?t.coordinateSystem:null}a(tv,$m=Rr.ZP),tv.prototype.setBoundingRect=function(t,e,n,i){return this._rect=new sn.Z(t,e,n,i),this._rect},tv.prototype.getBoundingRect=function(){return this._rect},tv.prototype.setViewRect=function(t,e,n,i){this._transformTo(t,e,n,i),this._viewRect=new sn.Z(t,e,n,i)},tv.prototype._transformTo=function(t,e,n,i){var o=this.getBoundingRect(),a=this._rawTransformable;a.transform=o.calculateTransform(new sn.Z(t,e,n,i)),o=a.parent,a.parent=null,a.decomposeTransform(),a.parent=o,this._updateTransform()},tv.prototype.setCenter=function(t,e){t&&(this._center=[p(t[0],e.getWidth()),p(t[1],e.getHeight())],this._updateCenterAndZoom())},tv.prototype.setZoom=function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min)&&(t=Math.max(e.min,t)),this._zoom=t,this._updateCenterAndZoom()},tv.prototype.getDefaultCenter=function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},tv.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},tv.prototype.getZoom=function(){return this._zoom||1},tv.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},tv.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,n=this.getDefaultCenter(),i=this.getCenter(),o=this.getZoom();i=Pr.Ne([],i,t),n=Pr.Ne([],n,t),e.originX=i[0],e.originY=i[1],e.x=n[0]-i[0],e.y=n[1]-i[1],e.scaleX=e.scaleY=o,this._updateTransform()},tv.prototype._updateTransform=function(){var t=this._roamTransformable,e=this._rawTransformable;(e.parent=t).updateTransform(),e.updateTransform(),Lr.JG(this.transform||(this.transform=[]),e.transform||Lr.Ue()),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],Lr.U_(this.invTransform,this.transform),this.decomposeTransform()},tv.prototype.getTransformInfo=function(){var t=this._rawTransformable,e=this._roamTransformable,n=new Rr.ZP;return n.transform=e.transform,n.decomposeTransform(),{roam:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},tv.prototype.getViewRect=function(){return this._viewRect},tv.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},tv.prototype.dataToPoint=function(t,e,n){return n=n||[],(e=e?this._rawTransform:this.transform)?Qm(n,t,e):Pr.JG(n,t)},tv.prototype.pointToData=function(t){var e=this.invTransform;return e?Qm([],t,e):[t[0],t[1]]},tv.prototype.convertToPixel=function(t,e,n){return(e=ev(e))===this?e.dataToPoint(n):null},tv.prototype.convertFromPixel=function(t,e,n){return(e=ev(e))===this?e.pointToData(n):null},tv.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},tv.dimensions=["x","y"];var nv,iv=tv,ov={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},av=["lng","lat"];function rv(t,e,n){var i=((t=nv.call(this,t)||this).dimensions=av,t.type="geo",t._nameCoordMap=s.kW(),t.map=e,n.projection),o=Cm.load(e,n.nameMap,n.nameProperty),a=(e=Cm.getGeoResource(e),t.resourceType=e?e.type:null,t.regions=o.regions);if(e=ov[e.type],t._regionsMap=o.regionsMap,t.regions=o.regions,t.projection=i)for(var r=0;r<a.length;r++){var l,u=a[r].getBoundingRect(i);(l=l||u.clone()).union(u)}else l=o.boundingRect;return t.setBoundingRect(l.x,l.y,l.width,l.height),t.aspectScale=i?1:s.pD(n.aspectScale,e.aspectScale),t._invertLongitute=!i&&e.invertLongitute,t}function sv(t){var e=t.geoModel;return t=t.seriesModel,e?e.coordinateSystem:t?t.coordinateSystem||(t.getReferringComponents("geo",j).models[0]||{}).coordinateSystem:null}a(rv,nv=iv),rv.prototype._transformTo=function(t,e,n,i){var o=this.getBoundingRect(),a=this._invertLongitute,r=(o=o.clone(),a&&(o.y=-o.y-o.height),this._rawTransformable);r.transform=o.calculateTransform(new sn.Z(t,e,n,i)),o=r.parent,r.parent=null,r.decomposeTransform(),r.parent=o,a&&(r.scaleY=-r.scaleY),this._updateTransform()},rv.prototype.getRegion=function(t){return this._regionsMap.get(t)},rv.prototype.getRegionByCoord=function(t){for(var e=this.regions,n=0;n<e.length;n++){var i=e[n];if("geoJSON"===i.type&&i.contain(t))return e[n]}},rv.prototype.addGeoCoord=function(t,e){this._nameCoordMap.set(t,e)},rv.prototype.getGeoCoord=function(t){var e=this._regionsMap.get(t);return this._nameCoordMap.get(t)||e&&e.getCenter()},rv.prototype.dataToPoint=function(t,e,n){var i;if(t=s.HD(t)?this.getGeoCoord(t):t)return(t=(i=this.projection)?i.project(t):t)&&this.projectedToPoint(t,e,n)},rv.prototype.pointToData=function(t){var e=this.projection;return(t=e?e.unproject(t):t)&&this.pointToProjected(t)},rv.prototype.pointToProjected=function(t){return nv.prototype.pointToData.call(this,t)},rv.prototype.projectedToPoint=function(t,e,n){return nv.prototype.dataToPoint.call(this,t,e,n)},rv.prototype.convertToPixel=function(t,e,n){return(e=sv(e))===this?e.dataToPoint(n):null},rv.prototype.convertFromPixel=function(t,e,n){return(e=sv(e))===this?e.pointToData(n):null},Qe=rv,s.jB(Qe,iv);var lv=Qe;function uv(t,e){var n,i,o,a,r,s,l=(null!=(u=t.get("boundingCoords"))&&(i=u[0],o=u[1],isFinite(i[0]))&&isFinite(i[1])&&isFinite(o[0])&&isFinite(o[1])&&((n=this.projection)&&(u=i[0],d=i[1],h=o[0],c=o[1],i=[1/0,1/0],o=[-1/0,-1/0],(l=function(t,e,a,r){for(var s=a-t,l=r-e,u=0;u<=100;u++){var c=u/100;c=n.project([t+s*c,e+l*c]),Pr.VV(i,i,c),Pr.Fp(o,o,c)}})(u,d,h,d),l(h,d,h,c),l(h,c,u,c),l(u,c,h,d)),this.setBoundingRect(i[0],i[1],o[0]-i[0],o[1]-i[1])),this.getBoundingRect()),u=t.get("layoutCenter"),c=t.get("layoutSize"),h=e.getWidth(),d=e.getHeight(),g=(l=l.width/l.height*this.aspectScale,!1);u&&c&&(a=[p(u[0],h),p(u[1],d)],r=p(c,Math.min(h,d)),isNaN(a[0])||isNaN(a[1])||isNaN(r)||(g=!0)),g?(s={},1<l?(s.width=r,s.height=r/l):(s.height=r,s.width=r*l),s.y=a[1]-s.height/2,s.x=a[0]-s.width/2):((u=t.getBoxLayoutParams()).aspect=l,s=ni(u,{width:h,height:d})),this.setViewRect(s.x,s.y,s.width,s.height),this.setCenter(t.get("center"),e),this.setZoom(t.get("zoom"))}function cv(){this.dimensions=av}cv.prototype.create=function(t,e){var n=[];function i(t){return{nameProperty:t.get("nameProperty"),aspectScale:t.get("aspectScale"),projection:t.get("projection")}}t.eachComponent("geo",(function(t,o){var a=t.get("map");(o=new lv(a+o,a,s.l7({nameMap:t.get("nameMap")},i(t)))).zoomLimit=t.get("scaleLimit"),n.push(o),(t.coordinateSystem=o).model=t,o.resize=uv,o.resize(t,e)})),t.eachSeries((function(t){var e;"geo"===t.get("coordinateSystem")&&(e=t.get("geoIndex")||0,t.coordinateSystem=n[e])}));var o={};return t.eachSeriesByType("map",(function(t){var e;t.getHostGeoModel()||(e=t.getMapType(),o[e]=o[e]||[],o[e].push(t))})),s.S6(o,(function(t,o){var a=s.UI(t,(function(t){return t.get("nameMap")})),r=new lv(o,o,s.l7({nameMap:s.Jn(a)},i(t[0])));r.zoomLimit=s.Jv.apply(null,s.UI(t,(function(t){return t.get("scaleLimit")}))),n.push(r),r.resize=uv,r.resize(t[0],e),s.S6(t,(function(t){var e;t.coordinateSystem=r,e=r,s.S6(t.get("geoCoord"),(function(t,n){e.addGeoCoord(n,t)}))}))})),n},cv.prototype.getFilledRegions=function(t,e,n,i){for(var o=(t||[]).slice(),a=s.kW(),r=0;r<o.length;r++)a.set(o[r].name,o[r]);return t=Cm.load(e,n,i),s.S6(t.regions,(function(t){var e=t.name,n=a.get(e);t=t.properties&&t.properties.echartsStyle,n||o.push(n={name:e}),t&&s.TS(n,t)})),o};var hv,dv=new cv;function pv(){var t=null!==hv&&hv.apply(this,arguments)||this;return t.type=pv.type,t}a(pv,hv=yi),pv.prototype.init=function(t,e,n){var i=Cm.getGeoResource(t.map);!i||"geoJSON"!==i.type||"color"in(i=t.itemStyle=t.itemStyle||{})||(i.color="#eee"),this.mergeDefaultAndTheme(t,n),O(t,"label",["show"])},pv.prototype.optionUpdated=function(){var t=this,e=this.option,n=(e.regions=dv.getFilledRegions(e.regions,e.map,e.nameMap,e.nameProperty),{});this._optionModelMap=s.u4(e.regions||[],(function(e,i){var o=i.name;return o&&(e.set(o,new nn(i,t,t.ecModel)),i.selected)&&(n[o]=!0),e}),s.kW()),e.selectedMap||(e.selectedMap=n)},pv.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new nn(null,this,this.ecModel)},pv.prototype.getFormattedLabel=function(t,e){var n=this.getRegionModel(t),i=(n="normal"===e?n.get(["label","formatter"]):n.get(["emphasis","label","formatter"]),{name:t});return s.mf(n)?(i.status=e,n(i)):s.HD(n)?n.replace("{a}",null!=t?t:""):void 0},pv.prototype.setZoom=function(t){this.option.zoom=t},pv.prototype.setCenter=function(t){this.option.center=t},pv.prototype.select=function(t){var e=this.option,n=e.selectedMode;n&&("multiple"!==n&&(e.selectedMap=null),(e.selectedMap||(e.selectedMap={}))[t]=!0)},pv.prototype.unSelect=function(t){var e=this.option.selectedMap;e&&(e[t]=!1)},pv.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},pv.prototype.isSelected=function(t){var e=this.option.selectedMap;return!(!e||!e[t])},pv.type="geo",pv.layoutMode="box",pv.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]};var gv,fv=pv;function yv(t,e){return t.pointToProjected?t.pointToProjected(e):t.pointToData(e)}function mv(t,e,n,i){var o,a=t.getZoom(),r=t.getCenter(),s=e.zoom;return r=t.projectedToPoint?t.projectedToPoint(r):t.dataToPoint(r),null!=e.dx&&null!=e.dy&&(r[0]-=e.dx,r[1]-=e.dy,t.setCenter(yv(t,r),i)),null!=s&&(n&&(o=n.min||0,n=n.max||1/0,s=Math.max(Math.min(a*s,n),o)/a),t.scaleX*=s,t.scaleY*=s,n=(e.originX-t.x)*(s-1),o=(e.originY-t.y)*(s-1),t.x-=n,t.y-=o,t.updateTransform(),t.setCenter(yv(t,r),i),t.setZoom(s*a)),{center:t.getCenter(),zoom:t.getZoom()}}function vv(){var t=null!==gv&&gv.apply(this,arguments)||this;return t.type=vv.type,t.focusBlurEnabled=!0,t}a(vv,gv=Cr),vv.prototype.init=function(t,e){this._api=e},vv.prototype.render=function(t,e,n,i){var o;(this._model=t).get("show")?(this._mapDraw||(this._mapDraw=new Hm(n)),(o=this._mapDraw).draw(t,e,n,this,i),o.group.on("click",this._handleRegionClick,this),o.group.silent=t.get("silent"),this.group.add(o.group),this.updateSelectStatus(t,e,n)):(this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null)},vv.prototype._handleRegionClick=function(t){var e;Ml(t.target,(function(t){return null!=(e=yt(t).eventData)}),!0),e&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:e.name})},vv.prototype.updateSelectStatus=function(t,e,n){var i=this;this._mapDraw.group.traverse((function(t){var e=yt(t).eventData;if(e)return i._model.isSelected(e.name)?n.enterSelect(t):n.leaveSelect(t),!0}))},vv.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},vv.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},vv.type="geo";var xv=vv;function _v(t,e,n){Cm.registerMap(t,e,n)}function Sv(t){function e(e,n){n.update="geo:updateSelectStatus",t.registerAction(n,(function(t,n){var i={},o=[];return n.eachComponent({mainType:"geo",query:t},(function(n){n[e](t.name);var a=n.coordinateSystem,r=((0,s.S6)(a.regions,(function(t){i[t.name]=n.isSelected(t.name)||!1})),[]);(0,s.S6)(i,(function(t,e){i[e]&&r.push(e)})),o.push({geoIndex:n.componentIndex,name:r})})),{selected:i,allSelected:o,name:t.name}}))}t.registerCoordinateSystem("geo",dv),t.registerComponentModel(fv),t.registerComponentView(xv),t.registerImpl("registerMap",_v),t.registerImpl("getMap",(function(t){return Cm.getMapForUser(t)})),e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),t.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(t,e,n){var i=t.componentType||"series";e.eachComponent({mainType:i,query:t},(function(e){var o,a=e.coordinateSystem;"geo"===a.type&&(o=mv(a,t,e.get("scaleLimit"),n),e.setCenter&&e.setCenter(o.center),e.setZoom&&e.setZoom(o.zoom),"series"===i)&&(0,s.S6)(e.seriesGroup,(function(t){t.setCenter(o.center),t.setZoom(o.zoom)}))}))}))}function bv(t,e){var n=t.isExpand?t.children:[],i=t.parentNode.children,o=t.hierNode.i?i[t.hierNode.i-1]:null;if(n.length){for(var a=t.children,r=a.length,s=0,l=0;0<=--r;){var u=a[r];u.hierNode.prelim+=s,u.hierNode.modifier+=s,l+=u.hierNode.change,s+=u.hierNode.shift+l}n=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2,o?(t.hierNode.prelim=o.hierNode.prelim+e(t,o),t.hierNode.modifier=t.hierNode.prelim-n):t.hierNode.prelim=n}else o&&(t.hierNode.prelim=o.hierNode.prelim+e(t,o));t.parentNode.hierNode.defaultAncestor=function(t,e,n,i){if(e){for(var o=t,a=t,r=a.parentNode.children[0],s=e,l=o.hierNode.modifier,u=a.hierNode.modifier,c=r.hierNode.modifier,h=s.hierNode.modifier;s=Dv(s),a=Tv(a),s&&a;){o=Dv(o),r=Tv(r),o.hierNode.ancestor=t;var d=s.hierNode.prelim+h-a.hierNode.prelim-u+i(s,a);0<d&&(function(t,e,n){var i=n/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=i,e.hierNode.shift+=n,e.hierNode.modifier+=n,e.hierNode.prelim+=n,t.hierNode.change+=i}(function(t,e,n){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:n}(s,t,n),t,d),u+=d,l+=d),h+=s.hierNode.modifier,u+=a.hierNode.modifier,l+=o.hierNode.modifier,c+=r.hierNode.modifier}s&&!Dv(o)&&(o.hierNode.thread=s,o.hierNode.modifier+=h-l),a&&!Tv(r)&&(r.hierNode.thread=a,r.hierNode.modifier+=u-c,n=t)}return n}(t,o,t.parentNode.hierNode.defaultAncestor||i[0],e)}function wv(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function Mv(t){return arguments.length?t:Cv}function Iv(t,e){return t-=Math.PI/2,{x:e*Math.cos(t),y:e*Math.sin(t)}}function Dv(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function Tv(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function Cv(t,e){return t.parentNode===e.parentNode?1:2}var Av,kv,Lv=n(5349),Pv=function(){this.parentPoint=[],this.childPoints=[]},Rv=(a(Nv,Av=vt.ZP),Nv.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Nv.prototype.getDefaultShape=function(){return new Pv},Nv.prototype.buildPath=function(t,e){var n=e.childPoints,i=n.length,o=e.parentPoint,a=n[0],r=n[i-1];if(1===i)t.moveTo(o[0],o[1]),t.lineTo(a[0],a[1]);else{var s="TB"===(l=e.orient)||"BT"===l?0:1,l=1-s,u=(e=p(e.forkPosition,1),[]);u[s]=o[s],u[l]=o[l]+(r[l]-o[l])*e,t.moveTo(o[0],o[1]),t.lineTo(u[0],u[1]),t.moveTo(a[0],a[1]),u[s]=a[s],t.lineTo(u[0],u[1]),u[s]=r[s],t.lineTo(u[0],u[1]),t.lineTo(r[0],r[1]);for(var c=1;c<i-1;c++){var h=n[c];t.moveTo(h[0],h[1]),u[s]=h[s],t.lineTo(u[0],u[1])}}},Nv);function Nv(t){return Av.call(this,t)||this}function Ov(){var t=null!==kv&&kv.apply(this,arguments)||this;return t.type=Ov.type,t._mainGroup=new Dr.Z,t}function Ev(t,e){return(t=t.getItemLayout(e))&&!isNaN(t.x)&&!isNaN(t.y)}function Vv(t,e,n,i,o){var a=!n,r=t.tree.getNodeByDataIndex(e),l=r.getModel(),u=r.getVisual("style").fill,c=(u=!1===r.isExpand&&0!==r.children.length?u:"#fff",t.tree.root),h=r.parentNode!==c&&r.parentNode||r,d=t.getItemGraphicEl(h.dataIndex),p=(h=h.getLayout(),d=d?{x:d.__oldX,y:d.__oldY,rawX:d.__radialOldRawX,rawY:d.__radialOldRawY}:h,r.getLayout()),g=(a?((n=new Ph(t,e,null,{symbolInnerColor:u,useNameLabel:!0})).x=d.x,n.y=d.y):n.updateData(t,e,null,{symbolInnerColor:u,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=p.rawX,n.__radialRawY=p.rawY,i.add(n),t.setItemGraphicEl(e,n),n.__oldX=n.x,n.__oldY=n.y,Se(n,{x:p.x,y:p.y},o),a=n.getSymbolPath(),"radial"===o.get("layout")&&(e=(u=c.children[0]).getLayout(),g=u.children.length,m=y=void 0,p.x===e.x&&!0===r.isExpand&&u.children.length?(f=(u.children[0].getLayout().x+u.children[g-1].getLayout().x)/2,u=(u.children[0].getLayout().y+u.children[g-1].getLayout().y)/2,(y=Math.atan2(u-e.y,f-e.x))<0&&(y=2*Math.PI+y),(m=f<e.x)&&(y-=Math.PI)):((y=Math.atan2(p.y-e.y,p.x-e.x))<0&&(y=2*Math.PI+y),0===r.children.length||0!==r.children.length&&!1===r.isExpand?(m=p.x<e.x)&&(y-=Math.PI):(m=p.x>e.x)||(y-=Math.PI)),g=m?"left":"right",e=(f=(u=l.getModel("label")).get("rotate"))*(Math.PI/180),m=a.getTextContent())&&(a.setTextConfig({position:u.get("position")||g,rotation:null==f?-y:e,origin:"center"}),m.setStyle("verticalAlign","middle")),(u="relative"===(a=l.get(["emphasis","focus"]))?s.WW(r.getAncestorsIndices(),r.getDescendantIndices()):"ancestor"===a?r.getAncestorsIndices():"descendant"===a?r.getDescendantIndices():null)&&(yt(n).focus=u),o),f=r,y=c,m=(e=n,d),v=(l=h,a=p,u=i,o=f.getModel(),c=g.get("edgeShape"),d=g.get("layout"),h=g.getOrient(),p=g.get(["lineStyle","curveness"]),i=g.get("edgeForkPosition"),o.getModel("lineStyle").getLineStyle()),x=e.__edge;if("curve"===c)f.parentNode&&f.parentNode!==y&&Se(x=x||(e.__edge=new Fr.Z({shape:Zv(d,h,p,m,m)})),{shape:Zv(d,h,p,l,a)},g);else if("polyline"===c&&"orthogonal"===d&&f!==y&&f.children&&0!==f.children.length&&!0===f.isExpand){for(var _=f.children,S=[],b=0;b<_.length;b++){var w=_[b].getLayout();S.push([w.x,w.y])}Se(x=x||(e.__edge=new Rv({shape:{parentPoint:[a.x,a.y],childPoints:[[a.x,a.y]],orient:h,forkPosition:i}})),{shape:{parentPoint:[a.x,a.y],childPoints:S}},g)}x&&("polyline"!==c||f.isExpand)&&(x.useStyle(s.ce({strokeNoScale:!0,fill:null},v)),pe(x,o,"lineStyle"),Yt(x),u.add(x)),n.__edge&&(n.onHoverStateChange=function(e){var i;"blur"===e||(i=r.parentNode&&t.getItemGraphicEl(r.parentNode.dataIndex))&&i.hoverState===Mt||Ut(n.__edge,e)})}function zv(t,e,n,i,o){var a,r,s=(l=Bv(e.tree.root,t)).source,l=l.sourceLayout;(t=e.getItemGraphicEl(t.dataIndex))&&(e=e.getItemGraphicEl(s.dataIndex).__edge,a=t.__edge||(!1===s.isExpand||1===s.children.length?e:void 0),t=i.get("edgeShape"),s=i.get("layout"),e=i.get("orient"),r=i.get(["lineStyle","curveness"]),a)&&("curve"===t?Me(a,{shape:Zv(s,e,r,l,l),style:{opacity:0}},i,{cb:function(){n.remove(a)},removeOpt:o}):"polyline"===t&&"orthogonal"===i.get("layout")&&Me(a,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},i,{cb:function(){n.remove(a)},removeOpt:o}))}function Bv(t,e){for(var n,i=e.parentNode!==t&&e.parentNode||e;null==(n=i.getLayout());)i=i.parentNode!==t&&i.parentNode||i;return{source:i,sourceLayout:n}}function Gv(t,e,n,i,o){var a=t.tree.getNodeByDataIndex(e),r=Bv(t.tree.root,a).sourceLayout,s={duration:o.get("animationDurationUpdate"),easing:o.get("animationEasingUpdate")};Me(n,{x:r.x+1,y:r.y+1},o,{cb:function(){i.remove(n),t.setItemGraphicEl(e,null)},removeOpt:s}),n.fadeOut(null,t.hostModel,{fadeLabel:!0,animation:s}),a.children.forEach((function(e){zv(e,t,i,o,s)})),zv(a,t,i,o,s)}function Zv(t,e,n,i,o){var a,r,s,l,u,c,h,d,p,g,f;return"radial"===t?(u=i.rawX,c=i.rawY,h=o.rawX,d=o.rawY,t=Iv(u,c),p=Iv(u,c+(d-c)*n),g=Iv(h,d+(c-d)*n),f=Iv(h,d),{x1:t.x||0,y1:t.y||0,x2:f.x||0,y2:f.y||0,cpx1:p.x||0,cpy1:p.y||0,cpx2:g.x||0,cpy2:g.y||0}):(u=i.x,c=i.y,h=o.x,d=o.y,"LR"!==e&&"RL"!==e||(a=u+(h-u)*n,r=c,s=h+(u-h)*n,l=d),"TB"!==e&&"BT"!==e||(a=u,r=c+(d-c)*n,s=h,l=d+(c-d)*n),{x1:u,y1:c,x2:h,y2:d,cpx1:a,cpy1:r,cpx2:s,cpy2:l})}a(Ov,kv=Os),Ov.prototype.init=function(t,e){this._controller=new Jy(e.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},Ov.prototype.render=function(t,e,n){var i=t.getData(),o=t.layoutInfo,a=this._mainGroup,r=("radial"===t.get("layout")?(a.x=o.x+o.width/2,a.y=o.y+o.height/2):(a.x=o.x,a.y=o.y),this._updateViewCoordSys(t,n),this._updateController(t,e,n),this._data);i.diff(r).add((function(e){Ev(i,e)&&Vv(i,e,null,a,t)})).update((function(e,n){var o=r.getItemGraphicEl(n);Ev(i,e)?Vv(i,e,o,a,t):o&&Gv(r,n,o,a,t)})).remove((function(e){var n=r.getItemGraphicEl(e);n&&Gv(r,e,n,a,t)})).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),!0===t.get("expandAndCollapse")&&i.eachItemGraphicEl((function(e,i){e.off("click").on("click",(function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:i})}))})),this._data=i},Ov.prototype._updateViewCoordSys=function(t,e){var n=t.getData(),i=[],o=(n.each((function(t){!(t=n.getItemLayout(t))||isNaN(t.x)||isNaN(t.y)||i.push([+t.x,+t.y])})),[]),a=[],r=(Lv.zk(i,o,a),this._min),s=this._max;(a[0]-o[0]==0&&(o[0]=r?r[0]:o[0]-1,a[0]=s?s[0]:a[0]+1),a[1]-o[1]==0&&(o[1]=r?r[1]:o[1]-1,a[1]=s?s[1]:a[1]+1),r=t.coordinateSystem=new iv).zoomLimit=t.get("scaleLimit"),r.setBoundingRect(o[0],o[1],a[0]-o[0],a[1]-o[1]),r.setCenter(t.get("center"),e),r.setZoom(t.get("zoom")),this.group.attr({x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY}),this._min=o,this._max=a},Ov.prototype._updateController=function(t,e,n){var i=this,o=this._controller,a=this._controllerHost,r=this.group;o.setPointerChecker((function(e,i,o){var a=r.getBoundingRect();return a.applyTransform(r.transform),a.contain(i,o)&&!$y(e,n,t)})),o.enable(t.get("roam")),a.zoomLimit=t.get("scaleLimit"),a.zoom=t.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",(function(e){jy(a,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:"treeRoam",dx:e.dx,dy:e.dy})})).on("zoom",(function(e){Ky(a,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),i._updateNodeAndLinkScale(t),n.updateLabelLayout()}))},Ov.prototype._updateNodeAndLinkScale=function(t){var e=t.getData(),n=this._getNodeGlobalScale(t);e.eachItemGraphicEl((function(t,e){t.setSymbolScale(n)}))},Ov.prototype._getNodeGlobalScale=function(t){var e,n;return"view"!==(t=t.coordinateSystem).type?1:(e=this._nodeScaleRatio,n=t.scaleX||1,((t.getZoom()-1)*e+1)/n)},Ov.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},Ov.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},Ov.type="tree";var Wv=Ov,Fv=U();function Hv(t,e){var n;return Fv(n=this).mainData===n?jv((n=(0,s.l7)({},Fv(this).datas))[this.dataType]=e,n,t):Kv(e,this.dataType,Fv(this).mainData,t),e}function Uv(t,e){return t.struct&&t.struct.update(),e}function Xv(t,e){return(0,s.S6)(Fv(e).datas,(function(n,i){n!==e&&Kv(n.cloneShallow(),i,e,t)})),e}function Yv(t){var e=Fv(this).mainData;return null==t||null==e?e:Fv(e).datas[t]}function Jv(){var t=Fv(this).mainData;return null==t?[{data:t}]:(0,s.UI)((0,s.XP)(Fv(t).datas),(function(e){return{type:e,data:Fv(t).datas[e]}}))}function jv(t,e,n){Fv(t).datas={},(0,s.S6)(e,(function(e,i){Kv(e,i,t,n)}))}function Kv(t,e,n,i){Fv(n).datas[e]=t,Fv(t).mainData=n,t.dataType=e,i.struct&&(t[i.structAttr]=i.struct,i.struct[i.datasAttr[e]]=t),t.getLinkedData=Yv,t.getLinkedDataAll=Jv}var qv=function(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,jv(e,n,t),(0,s.S6)(n,(function(n){(0,s.S6)(e.TRANSFERABLE_METHODS,(function(e){n.wrapMethod(e,(0,s.WA)(Hv,t))}))})),e.wrapMethod("cloneShallow",(0,s.WA)(Xv,t)),(0,s.S6)(e.CHANGABLE_METHODS,(function(n){e.wrapMethod(n,(0,s.WA)(Uv,t))})),(0,s.hu)(n[e.dataType]===e)},$v=(Qv.prototype.isRemoved=function(){return this.dataIndex<0},Qv.prototype.eachNode=function(t,e,n){s.mf(t)&&(n=e,e=t,t=null);var i,o=(t=s.HD(t=t||{})?{order:t}:t).order||"preorder",a=this[t.attr||"children"];"preorder"===o&&(i=e.call(n,this));for(var r=0;!i&&r<a.length;r++)a[r].eachNode(t,e,n);"postorder"===o&&e.call(n,this)},Qv.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(t+1),i.height>e&&(e=i.height)}this.height=e+1},Qv.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,i=n.length;e<i;e++){var o=n[e].getNodeById(t);if(o)return o}},Qv.prototype.contains=function(t){if(t===this)return!0;for(var e=0,n=this.children,i=n.length;e<i;e++){var o=n[e].contains(t);if(o)return o}},Qv.prototype.getAncestors=function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},Qv.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},Qv.prototype.getDescendantIndices=function(){var t=[];return this.eachNode((function(e){t.push(e.dataIndex)})),t},Qv.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},Qv.prototype.setLayout=function(t,e){0<=this.dataIndex&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},Qv.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},Qv.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},Qv.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},Qv.prototype.setVisual=function(t,e){0<=this.dataIndex&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},Qv.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},Qv.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},Qv.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},Qv.prototype.getChildIndex=function(){if(this.parentNode)for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1},Qv.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},Qv.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},Qv);function Qv(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}function tx(t){this.type="tree",this._nodes=[],this.hostModel=t}tx.prototype.eachNode=function(t,e,n){this.root.eachNode(t,e,n)},tx.prototype.getNodeByDataIndex=function(t){return t=this.data.getRawIndex(t),this._nodes[t]},tx.prototype.getNodeById=function(t){return this.root.getNodeById(t)},tx.prototype.update=function(){for(var t=this.data,e=this._nodes,n=0,i=e.length;n<i;n++)e[n].dataIndex=-1;for(n=0,i=t.count();n<i;n++)e[t.getRawIndex(n)].dataIndex=n},tx.prototype.clearLayouts=function(){this.data.clearItemLayouts()},tx.createTree=function(t,e,n){var i=new tx(e),o=[],a=1;return function t(e,n){var r=e.value;a=Math.max(a,s.kJ(r)?r.length:1),o.push(e);var l=new $v(Z(e.name,""),i);n?function(t,e){var n=e.children;t.parentNode!==e&&(n.push(t),t.parentNode=e)}(l,n):i.root=l,i._nodes.push(l);var u=e.children;if(u)for(var c=0;c<u.length;c++)t(u[c],l)}(t),i.root.updateDepthAndHeight(0),t=mh(o,{coordDimensions:["value"],dimensionsCount:a}).dimensions,(t=new yh(t,e)).initData(o),n&&n(t),qv({mainData:t,struct:i,structAttr:"tree"}),i.update(),i};var ex,nx=tx;function ix(t,e,n){if(t&&0<=s.cq(e,t.type))return e=n.getData().tree.root,n=t.targetNode,(n=s.HD(n)?e.getNodeById(n):n)&&e.contains(n)||null!=(t=t.targetNodeId)&&(n=e.getNodeById(t))?{node:n}:void 0}function ox(t){for(var e=[];t;)(t=t.parentNode)&&e.push(t);return e.reverse()}function ax(t,e){return t=ox(t),0<=s.cq(t,e)}function rx(t,e){for(var n=[];t;){var i=t.dataIndex;n.push({name:t.name,dataIndex:i,value:e.getRawValue(i)}),t=t.parentNode}return n.reverse(),n}function sx(){var t=null!==ex&&ex.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}a(sx,ex=Ir),sx.prototype.getInitialData=function(t){var e={name:t.name,children:t.data},n=t.leaves||{},i=new nn(n,this,this.ecModel),o=nx.createTree(e,this,(function(t){t.wrapMethod("getItemModel",(function(t,e){return(e=o.getNodeByDataIndex(e))&&e.children.length&&e.isExpand||(t.parentModel=i),t}))})),a=0;o.eachNode("preorder",(function(t){t.depth>a&&(a=t.depth)}));var r=t.expandAndCollapse&&0<=t.initialTreeDepth?t.initialTreeDepth:a;return o.root.eachNode("preorder",(function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth<=r})),o.data},sx.prototype.getOrient=function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},sx.prototype.setZoom=function(t){this.option.zoom=t},sx.prototype.setCenter=function(t){this.option.center=t},sx.prototype.formatTooltip=function(t,e,n){for(var i=(a=this.getData().tree).root.children[0],o=a.getNodeByDataIndex(t),a=o.getValue(),r=o.name;o&&o!==i;)r=o.parentNode.name+"."+r,o=o.parentNode;return Qa("nameValue",{name:r,value:a,noValue:isNaN(a)||null==a})},sx.prototype.getDataParams=function(t){var e=ex.prototype.getDataParams.apply(this,arguments);return t=this.getData().tree.getNodeByDataIndex(t),e.treeAncestors=rx(t,this),e.collapsed=!t.isExpand,e},sx.type="series.tree",sx.layoutMode="box",sx.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500};var lx=sx;function ux(t,e){for(var n,i=[t];n=i.pop();)if(e(n),n.isExpand){var o=n.children;if(o.length)for(var a=o.length-1;0<=a;a--)i.push(o[a])}}function cx(t,e){t.eachSeriesByType("tree",(function(t){var n=function(t,e){return ni(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,n=e),i=(t.layoutInfo=n,t.get("layout")),o=0,a=0,r=null;r="radial"===i?(o=2*Math.PI,a=Math.min(n.height,n.width)/2,Mv((function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth}))):(o=n.width,a=n.height,Mv());var s,l,u,c,h,d,p,g,f,y=(n=t.getData().tree.root).children[0];if(y){var m=n;m.hierNode={defaultAncestor:null,ancestor:m,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var v,x,_=[m];v=_.pop();)if(x=v.children,v.isExpand&&x.length)for(var S=x.length-1;0<=S;S--){var b=x[S];b.hierNode={defaultAncestor:null,ancestor:b,prelim:0,modifier:0,change:0,shift:0,i:S,thread:null},_.push(b)}for(var w,M=bv,I=r,D=[y],T=[];w=D.pop();)if(T.push(w),w.isExpand){var C=w.children;if(C.length)for(var A=0;A<C.length;A++)D.push(C[A])}for(;w=T.pop();)M(w,I);n.hierNode.modifier=-y.hierNode.prelim,ux(y,wv),ux(u=l=s=y,(function(t){var e=t.getLayout().x;e<s.getLayout().x&&(s=t),e>l.getLayout().x&&(l=t),t.depth>u.depth&&(u=t)})),n=s===l?1:r(s,l)/2,c=n-s.getLayout().x,g=p=d=h=0,"radial"===i?(h=o/(l.getLayout().x+n+c),d=a/(u.depth-1||1),ux(y,(function(t){p=(t.getLayout().x+c)*h,g=(t.depth-1)*d;var e=Iv(p,g);t.setLayout({x:e.x,y:e.y,rawX:p,rawY:g},!0)}))):"RL"===(f=t.getOrient())||"LR"===f?(d=a/(l.getLayout().x+n+c),h=o/(u.depth-1||1),ux(y,(function(t){g=(t.getLayout().x+c)*d,p="LR"===f?(t.depth-1)*h:o-(t.depth-1)*h,t.setLayout({x:p,y:g},!0)}))):"TB"!==f&&"BT"!==f||(h=o/(l.getLayout().x+n+c),d=a/(u.depth-1||1),ux(y,(function(t){p=(t.getLayout().x+c)*h,g="TB"===f?(t.depth-1)*d:a-(t.depth-1)*d,t.setLayout({x:p,y:g},!0)})))}}))}function hx(t){t.eachSeriesByType("tree",(function(t){var e=t.getData();e.tree.eachNode((function(t){var n=t.getModel().getModel("itemStyle").getItemStyle();t=e.ensureUniqueItemVisual(t.dataIndex,"style"),(0,s.l7)(t,n)}))}))}var dx,px=["treemapZoomToNode","treemapRender","treemapMove"];function gx(t){var e=t.getData().tree,n={};e.eachNode((function(e){for(var i=e;i&&1<i.depth;)i=i.parentNode;var o=Wi(t.ecModel,i.name||i.dataIndex+"",n);e.setVisual("decal",o)}))}function fx(){var t=null!==dx&&dx.apply(this,arguments)||this;return t.type=fx.type,t.preventUsingHoverLayer=!0,t}a(fx,dx=Ir),fx.prototype.getInitialData=function(t,e){var n={name:t.name,children:t.data},i=(function t(e){var n=0;s.S6(e.children,(function(e){t(e),e=e.value,s.kJ(e)&&(e=e[0]),n+=e}));var i=e.value;s.kJ(i)&&(i=i[0]),null!=i&&!isNaN(i)||(i=n),i<0&&(i=0),s.kJ(e.value)?e.value[0]=i:e.value=i}(n),t.levels||[]),o=this.designatedVisualItemStyle={},a=new nn({itemStyle:o},this,e),r=(i=t.levels=function(t,e){var n,i,o,a=N(e.get("color"));if(e=N(e.get(["aria","decal","decals"])),a)return t=t||[],s.S6(t,(function(t){var e=(t=new nn(t)).get("color"),o=t.get("decal");(t.get(["itemStyle","color"])||e&&"none"!==e)&&(n=!0),(t.get(["itemStyle","decal"])||o&&"none"!==o)&&(i=!0)})),o=t[0]||(t[0]={}),n||(o.color=a.slice()),!i&&e&&(o.decal=e.slice()),t}(i,e),s.UI(i||[],(function(t){return new nn(t,a,e)}),this)),l=nx.createTree(n,this,(function(t){t.wrapMethod("getItemModel",(function(t,e){return e=(e=l.getNodeByDataIndex(e))?r[e.depth]:null,t.parentModel=e||a,t}))}));return l.data},fx.prototype.optionUpdated=function(){this.resetViewRoot()},fx.prototype.formatTooltip=function(t,e,n){var i=this.getData(),o=this.getRawValue(t);return Qa("nameValue",{name:i.getName(t),value:o})},fx.prototype.getDataParams=function(t){var e=dx.prototype.getDataParams.apply(this,arguments);return t=this.getData().tree.getNodeByDataIndex(t),e.treeAncestors=rx(t,this),e.treePathInfo=e.treeAncestors,e},fx.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},s.l7(this.layoutInfo,t)},fx.prototype.mapIdToIndex=function(t){var e=this._idIndexMap,n=(e||(e=this._idIndexMap=s.kW(),this._idIndexMapCount=0),e.get(t));return null==n&&e.set(t,n=this._idIndexMapCount++),n},fx.prototype.getViewRoot=function(){return this._viewRoot},fx.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)},fx.prototype.enableAriaDecal=function(){gx(this)},fx.type="series.treemap",fx.layoutMode="box",fx.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.1024,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]};var yx=fx;function mx(t){this.group=new Dr.Z,t.add(this.group)}mx.prototype.render=function(t,e,n,i){var o,a,r,s,l=t.getModel("breadcrumb"),u=this.group;u.removeAll(),l.get("show")&&n&&(o=l.getModel("itemStyle"),a=l.getModel("emphasis"),r=o.getModel("textStyle"),s=a.getModel(["itemStyle","textStyle"]),e={pos:{left:l.get("left"),right:l.get("right"),top:l.get("top"),bottom:l.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:l.get("emptyItemWidth"),totalWidth:0,renderList:[]},this._prepare(n,e,r),this._renderContent(t,e,o,a,r,s,i),ii(u,e.pos,e.box))},mx.prototype._prepare=function(t,e,n){for(var i=t;i;i=i.parentNode){var o=Z(i.getModel().get("name"),""),a=n.getTextRect(o);a=Math.max(a.width+16,e.emptyItemWidth),e.totalWidth+=a+8,e.renderList.push({node:i,text:o,width:a})}},mx.prototype._renderContent=function(t,e,n,i,o,a,r){for(var l,u,c,h,d,g,f,y,m,v,x,_,S=0,b=e.emptyItemWidth,w=t.get(["breadcrumb","height"]),M=(l=e.pos,h=(u=e.box).width,u=u.height,d=p(l.left,h),g=p(l.top,u),f=p(l.right,h),y=p(l.bottom,u),(isNaN(d)||isNaN(parseFloat(l.left)))&&(d=0),(isNaN(f)||isNaN(parseFloat(l.right)))&&(f=h),(isNaN(g)||isNaN(parseFloat(l.top)))&&(g=0),(isNaN(y)||isNaN(parseFloat(l.bottom)))&&(y=u),c=Hn(c||0),{width:Math.max(f-d-c[1]-c[3],0),height:Math.max(y-g-c[0]-c[2],0)}),I=e.totalWidth,D=e.renderList,T=i.getModel("itemStyle").getItemStyle(),C=D.length-1;0<=C;C--){var A=(L=D[C]).node,k=L.width,L=L.text,P=(M.width<I&&(I-=k-b,k=b,L=null),new Br.Z({shape:{points:(m=S,P=k,v=w,x=C===D.length-1,_=void 0,_=[[x?m:m-5,0],[m+P,0],[m+P,0+v],[x?m:m-5,0+v]],0===C||_.splice(2,0,[m+P+5,0+v/2]),x||_.push([m,0+v/2]),_)},style:(0,s.ce)(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new ft.ZP({style:Re(o,{text:L})}),textConfig:{position:"inside"},z2:1e4*Ct,onclick:(0,s.WA)(r,A)}));P.disableLabelAnimation=!0,P.getTextContent().ensureState("emphasis").style=Re(a,{text:L}),P.ensureState("emphasis").style=T,ue(P,i.get("focus"),i.get("blurScope"),i.get("disabled")),this.group.add(P),x=t,m=A,yt(P).eventData={componentType:"series",componentSubType:"treemap",componentIndex:x.componentIndex,seriesIndex:x.seriesIndex,seriesName:x.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:m&&m.dataIndex,name:m&&m.name},treePathInfo:m&&rx(m,x)},S+=k+8}},mx.prototype.remove=function(){this.group.removeAll()};var vx=mx,xx=(_x.prototype.add=function(t,e,n,i,o){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:n,delay:i,easing:o}),!0)},_x.prototype.finished=function(t){return this._finishedCallback=t,this},_x.prototype.start=function(){for(var t=this,e=this._storage.length,n=function(){--e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback)&&t._finishedCallback()},i=0,o=this._storage.length;i<o;i++){var a=this._storage[i];a.el.animateTo(a.target,{duration:a.duration,delay:a.delay,easing:a.easing,setToFinal:!0,done:n,aborted:n})}return this},_x);function _x(){this._storage=[],this._elExistsMap={}}var Sx,bx=Dr.Z,wx=Zr.Z,Mx="label",Ix="upperLabel",Dx=10*Ct,Tx=2*Ct,Cx=3*Ct,Ax=ct([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),kx=function(t){return(t=Ax(t)).stroke=t.fill=t.lineWidth=null,t},Lx=U();function Px(){var t=null!==Sx&&Sx.apply(this,arguments)||this;return t.type=Px.type,t._state="ready",t._storage={nodeGroup:[],background:[],content:[]},t}a(Px,Sx=Os),Px.prototype.render=function(t,e,n,i){var o,a,r,l,u=e.findComponents({mainType:"series",subType:"treemap",query:i});(0,s.cq)(u,t)<0||(this.seriesModel=t,this.api=n,this.ecModel=e,u=ix(i,["treemapZoomToNode","treemapRootToNode"],t),e=i&&i.type,r=t.layoutInfo,o=!this._oldTree,a=this._storage,a="treemapRootToNode"===e&&u&&a?{rootNodeGroup:a.nodeGroup[u.node.getRawIndex()],direction:i.direction}:null,i=this._giveContainerGroup(r),r=t.get("animation"),l=this._doRender(i,t,a),!r||o||e&&"treemapZoomToNode"!==e&&"treemapRootToNode"!==e?l.renderFinally():this._doAnimation(i,l,t,a),this._resetController(n),this._renderBreadcrumb(t,n,u))},Px.prototype._giveContainerGroup=function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new bx,this._initEvents(e),this.group.add(e)),e.x=t.x,e.y=t.y,e},Px.prototype._doRender=function(t,e,n){var i=e.getData().tree,o=this._oldTree,a={nodeGroup:[],background:[],content:[]},r={nodeGroup:[],background:[],content:[]},l=this._storage,u=[];!function t(i,o,c,h,d){function p(t){return t.getId()}function g(p,g){var f=function(t,i,o,c){var h=e,d=r,p=l,g=n,f=a,y=u,m=t;if(t=i,i=o,o=c,m){var v=m.getLayout(),x=(c=h.getData(),m.getModel());if(c.setItemGraphicEl(m.dataIndex,null),v&&v.isInView){var _,S,b,w=v.width,M=v.height,I=v.borderWidth,D=v.invisible,T=m.getRawIndex(),C=t&&t.getRawIndex(),A=(t=m.viewChildren,v.upperHeight),k=(t=t&&t.length,x.getModel("itemStyle")),L=x.getModel(["emphasis","itemStyle"]),P=x.getModel(["blur","itemStyle"]),R=x.getModel(["select","itemStyle"]),N=k.get("borderRadius")||0,O=B("nodeGroup",bx);if(O)return i.add(O),O.x=v.x||0,O.y=v.y||0,O.markRedraw(),Lx(O).nodeWidth=w,Lx(O).nodeHeight=M,v.isAboveViewRoot||((i=B("background",wx,o,Tx))&&function(t,e,n){var i,o,a,r,s,l=yt(e);l.dataIndex=m.dataIndex,l.seriesIndex=h.seriesIndex,e.setShape({x:0,y:0,width:w,height:M,r:N}),(D?E:(e.invisible=!1,i=(l=m.getVisual("style")).stroke,(o=kx(k)).fill=i,(a=Ax(L)).fill=L.get("borderColor"),(r=Ax(P)).fill=P.get("borderColor"),(s=Ax(R)).fill=R.get("borderColor"),n?(n=w-2*I,V(e,i,l.opacity,{x:I,y:0,width:n,height:A})):e.removeTextContent(),e.setStyle(o),e.ensureState("emphasis").style=a,e.ensureState("blur").style=r,e.ensureState("select").style=s,Yt))(e),t.add(e)}(O,i,t&&v.upperLabelHeight),b=(S=x.getModel("emphasis")).get("focus"),_=S.get("blurScope"),S=S.get("disabled"),b="ancestor"===b?m.getAncestorsIndices():"descendant"===b?m.getDescendantIndices():b,t?(fe(O)&&ge(O,!1),i&&(ge(i,!S),c.setItemGraphicEl(m.dataIndex,i),ce(i,b,_))):((t=B("content",wx,o,Cx))&&function(t,e){var n,i,o,a,r=((r=yt(e)).dataIndex=m.dataIndex,r.seriesIndex=h.seriesIndex,Math.max(w-2*I,0)),s=Math.max(M-2*I,0);e.culling=!0,e.setShape({x:I,y:I,width:r,height:s,r:N}),(D?E:(e.invisible=!1,s=(r=m.getVisual("style")).fill,(n=kx(k)).fill=s,n.decal=r.decal,i=Ax(L),o=Ax(P),a=Ax(R),V(e,s,r.opacity,null),e.setStyle(n),e.ensureState("emphasis").style=i,e.ensureState("blur").style=o,e.ensureState("select").style=a,Yt))(e),t.add(e)}(O,t),i.disableMorphing=!0,i&&fe(i)&&ge(i,!1),ge(O,!S),c.setItemGraphicEl(m.dataIndex,O),(o=x.getShallow("cursor"))&&t.attr("cursor",o),ce(O,b,_))),O}}function E(t){t.invisible||y.push(t)}function V(t,e,n,i){var o,a,r=x.getModel(i?Ix:Mx),l=Z(x.get("name"),null),u=(r=r.getShallow("show"),Le(t,Pe(x,i?Ix:Mx),{defaultText:r?l:null,inheritColor:e,defaultOpacity:n,labelFetcher:h,labelDataIndex:m.dataIndex}),t.getTextContent());u&&(o=u.style,a=(0,s.MY)(o.padding||0),i&&(t.setTextConfig({layoutRect:i}),u.disableLabelLayout=!0),u.beforeUpdate=function(){var e=Math.max((i||t.shape).width-a[1]-a[3],0),n=Math.max((i||t.shape).height-a[0]-a[2],0);o.width===e&&o.height===n||u.setStyle({width:e,height:n})},o.truncateMinChar=2,o.lineOverflow="truncate",z(o,i,v),z((r=u.getState("emphasis"))?r.style:null,i,v))}function z(t,e,n){var i=t?t.text:null;!e&&n.isLeafRoot&&null!=i&&(e=h.get("drillDownIcon",!0),t.text=e?e+" "+i:i)}function B(t,e,n,i){var o,a,r=null!=C&&p[t][C],l=f[t];return r?(p[t][C]=null,o=r,a=(a=l)[T]={},o instanceof bx?(a.oldX=o.x,a.oldY=o.y):a.oldShape=(0,s.l7)({},o.shape)):D||((r=new e)instanceof Am.ZP&&(r.z2=n*Dx+i),a=r,o=(o=l)[T]={},e=m.parentNode,a=a instanceof Dr.Z,!e||g&&"drillDown"!==g.direction||(i=n=0,e=f.background[e.getRawIndex()],!g&&e&&e.oldShape&&(n=e.oldShape.width,i=e.oldShape.height),a?(o.oldX=0,o.oldY=i):o.oldShape={x:n,y:i,width:0,height:0}),o.fadein=!a),d[t][T]=r}}(p=null!=p?i[p]:null,g=null!=g?o[g]:null,c,d);f&&t(p&&p.viewChildren||[],g&&g.viewChildren||[],f,h,d+1)}h?(o=i,(0,s.S6)(i,(function(t,e){t.isRemoved()||g(e,e)}))):new Hc(o,i,p,p).add(g).update(g).remove((0,s.WA)(g,null)).execute()}(i.root?[i.root]:[],o&&o.root?[o.root]:[],t,i===o||!o,0),c={nodeGroup:[],background:[],content:[]},(t=l)&&(0,s.S6)(t,(function(t,e){var n=c[e];(0,s.S6)(t,(function(t){t&&(n.push(t),Lx(t).willDelete=!0)}))}));var c,h=c;return this._oldTree=i,this._storage=r,this._controllerHost&&(o=this.seriesModel.layoutInfo,(t=i.root.getLayout()).width===o.width)&&t.height===o.height&&(this._controllerHost.zoom=1),{lastsForAnimation:a,willDeleteEls:h,renderFinally:function(){(0,s.S6)(h,(function(t){(0,s.S6)(t,(function(t){t.parent&&t.parent.remove(t)}))})),(0,s.S6)(u,(function(t){t.invisible=!0,t.dirty()}))}}},Px.prototype._doAnimation=function(t,e,n,i){var o=n.get("animationDurationUpdate"),a=(n=n.get("animationEasing"),((0,s.mf)(o)?0:o)||0),r=((0,s.mf)(n)?null:n)||"cubicOut",l=new xx;(0,s.S6)(e.willDeleteEls,(function(t,e){(0,s.S6)(t,(function(t,n){var o,s,u;!t.invisible&&(o=t.parent,u=Lx(o),u=i&&"drillDown"===i.direction?o===i.rootNodeGroup?{shape:{x:0,y:0,width:u.nodeWidth,height:u.nodeHeight},style:{opacity:0}}:{style:{opacity:0}}:(s=o=0,u.willDelete||(o=u.nodeWidth/2,s=u.nodeHeight/2),"nodeGroup"===e?{x:o,y:s,style:{opacity:0}}:{shape:{x:o,y:s,width:0,height:0},style:{opacity:0}}))&&l.add(t,u,a,0,r)}))})),(0,s.S6)(this._storage,(function(t,n){(0,s.S6)(t,(function(t,i){var o={};(i=e.lastsForAnimation[n][i])&&(t instanceof Dr.Z?null!=i.oldX&&(o.x=t.x,o.y=t.y,t.x=i.oldX,t.y=i.oldY):(i.oldShape&&(o.shape=(0,s.l7)({},t.shape),t.setShape(i.oldShape)),i.fadein?(t.setStyle("opacity",0),o.style={opacity:1}):1!==t.style.opacity&&(o.style={opacity:1})),l.add(t,o,a,0,r))}))}),this),this._state="animating",l.finished((0,s.ak)((function(){this._state="ready",e.renderFinally()}),this)).start()},Px.prototype._resetController=function(t){var e=this._controller,n=this._controllerHost,i=(n||(this._controllerHost={target:this.group},n=this._controllerHost),e||((e=this._controller=new Jy(t.getZr())).enable(this.seriesModel.get("roam")),n.zoomLimit=this.seriesModel.get("scaleLimit"),n.zoom=this.seriesModel.get("zoom"),e.on("pan",(0,s.ak)(this._onPan,this)),e.on("zoom",(0,s.ak)(this._onZoom,this))),new sn.Z(0,0,t.getWidth(),t.getHeight()));e.setPointerChecker((function(t,e,n){return i.contain(e,n)}))},Px.prototype._clearController=function(){var t=this._controller;this._controllerHost=null,t&&t.dispose()},Px.prototype._onPan=function(t){var e;"animating"!==this._state&&(3<Math.abs(t.dx)||3<Math.abs(t.dy))&&(e=this.seriesModel.getData().tree.root)&&(e=e.getLayout())&&this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:e.x+t.dx,y:e.y+t.dy,width:e.width,height:e.height}})},Px.prototype._onZoom=function(t){var e,n,i,o,a=t.originX,r=t.originY;t=t.scale,"animating"!==this._state&&(e=this.seriesModel.getData().tree.root)&&(e=e.getLayout())&&(e=new sn.Z(e.x,e.y,e.width,e.height),i=null,i=(o=this._controllerHost).zoomLimit,n=o.zoom=o.zoom||1,n*=t,i&&(t=i.min||0,i=i.max||1/0,n=Math.max(Math.min(i,n),t)),i=n/o.zoom,o.zoom=n,a-=(t=this.seriesModel.layoutInfo).x,r-=t.y,o=Lr.Ue(),Lr.Iu(o,o,[-a,-r]),Lr.bA(o,o,[i,i]),Lr.Iu(o,o,[a,r]),e.applyTransform(o),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:e.x,y:e.y,width:e.width,height:e.height}}))},Px.prototype._initEvents=function(t){var e=this;t.on("click",(function(t){var n,i;"ready"===e._state&&(i=e.seriesModel.get("nodeClick",!0))&&(n=e.findTarget(t.offsetX,t.offsetY))&&((t=n.node).getLayout().isLeafRoot?e._rootToNode(n):"zoomToNode"===i?e._zoomToNode(n):"link"===i&&(i=(n=t.hostTree.data.getItemModel(t.dataIndex)).get("link",!0),t=n.get("target",!0)||"blank",i)&&Kn(i,t))}),this)},Px.prototype._renderBreadcrumb=function(t,e,n){var i=this;n=(n=n||(null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2)))||{node:t.getData().tree.root},(this._breadcrumb||(this._breadcrumb=new vx(this.group))).render(t,e,n.node,(function(e){"animating"!==i._state&&(ax(t.getViewRoot(),e)?i._rootToNode({node:e}):i._zoomToNode({node:e}))}))},Px.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},Px.prototype.dispose=function(){this._clearController()},Px.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},Px.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},Px.prototype.findTarget=function(t,e){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},(function(i){if(o=this._storage.background[i.getRawIndex()]){var o,a=o.transformCoordToLocal(t,e);if(!((o=o.shape).x<=a[0]&&a[0]<=o.x+o.width&&o.y<=a[1]&&a[1]<=o.y+o.height))return!1;n={node:i,offsetX:a[0],offsetY:a[1]}}}),this),n},Px.type="treemap";var Rx=Px,Nx=s.S6,Ox=s.Kn,Ex=-1,Vx=(zx.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},zx.prototype.getNormalizer=function(){return s.ak(this._normalizeData,this)},zx.listVisualTypes=function(){return s.XP(zx.visualHandlers)},zx.isValidType=function(t){return zx.visualHandlers.hasOwnProperty(t)},zx.eachVisual=function(t,e,n){s.Kn(t)?s.S6(t,e,n):e.call(n,t)},zx.mapVisual=function(t,e,n){var i,o=s.kJ(t)?[]:s.Kn(t)?{}:(i=!0,null);return zx.eachVisual(t,(function(t,a){t=e.call(n,t,a),i?o=t:o[a]=t})),o},zx.retrieveVisuals=function(t){var e,n={};return t&&Nx(zx.visualHandlers,(function(i,o){t.hasOwnProperty(o)&&(n[o]=t[o],e=!0)})),e?n:null},zx.prepareVisualTypes=function(t){if(s.kJ(t))t=t.slice();else{if(!Ox(t))return[];var e=[];Nx(t,(function(t,n){e.push(n)})),t=e}return t.sort((function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1})),t},zx.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},zx.findPieceIndex=function(t,e,n){for(var i,o=1/0,a=0,r=e.length;a<r;a++){var l=e[a].value;if(null!=l){if(l===t||s.HD(l)&&l===t+"")return a;n&&h(l,a)}}for(a=0,r=e.length;a<r;a++){var u=(c=e[a]).interval,c=c.close;if(u){if(u[0]===-1/0){if(jx(c[1],t,u[1]))return a}else if(u[1]===1/0){if(jx(c[0],u[0],t))return a}else if(jx(c[0],u[0],t)&&jx(c[1],t,u[1]))return a;n&&h(u[0],a),n&&h(u[1],a)}}if(n)return t===1/0?e.length-1:t===-1/0?0:i;function h(e,n){(e=Math.abs(e-t))<o&&(o=e,i=n)}},zx.visualHandlers={color:{applyVisual:Wx("color"),getColorMapper:function(){var t=this.option;return s.ak("category"===t.mappingMethod?function(t,e){return e||(t=this._normalizeData(t)),Fx.call(this,t)}:function(e,n,i){var o=!!i;return n||(e=this._normalizeData(e)),i=mt.Uu(e,t.parsedVisual,i),o?i:mt.Pz(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return mt.Pz(mt.Uu(t,this.option.parsedVisual),"rgba")},category:Fx,piecewise:function(t,e){return null==(e=Xx.call(this,e))?mt.Pz(mt.Uu(t,this.option.parsedVisual),"rgba"):e},fixed:Hx}},colorHue:Gx((function(t,e){return mt.ox(t,e)})),colorSaturation:Gx((function(t,e){return mt.ox(t,null,e)})),colorLightness:Gx((function(t,e){return mt.ox(t,null,null,e)})),colorAlpha:Gx((function(t,e){return mt.m8(t,e)})),decal:{applyVisual:Wx("decal"),_normalizedToVisual:{linear:null,category:Fx,piecewise:null,fixed:null}},opacity:{applyVisual:Wx("opacity"),_normalizedToVisual:Ux([0,1])},liftZ:{applyVisual:Wx("liftZ"),_normalizedToVisual:{linear:Hx,category:Hx,piecewise:Hx,fixed:Hx}},symbol:{applyVisual:function(t,e,n){n("symbol",this.mapValueToVisual(t))},_normalizedToVisual:{linear:Zx,category:Fx,piecewise:function(t,e){return null==(e=Xx.call(this,e))?Zx.call(this,t):e},fixed:Hx}},symbolSize:{applyVisual:Wx("symbolSize"),_normalizedToVisual:Ux([0,1])}},zx);function zx(t){var e,n=t.mappingMethod,i=t.type;if(t=this.option=s.d9(t),this.type=i,this.mappingMethod=n,this._normalizeData=Jx[n],i=zx.visualHandlers[i],this.applyVisual=i.applyVisual,this.getColorMapper=i.getColorMapper,this._normalizedToVisual=i._normalizedToVisual[n],"piecewise"===n)Bx(t),i=(e=t).pieceList,e.hasSpecialVisual=!1,s.S6(i,(function(t,n){t.originIndex=n,null!=t.visual&&(e.hasSpecialVisual=!0)}));else if("category"===n)if(t.categories){var o,a=(i=t).categories,r=i.categoryMap={},l=i.visual;Nx(a,(function(t,e){r[t]=e})),s.kJ(l)||(o=[],s.Kn(l)?Nx(l,(function(t,e){e=r[e],o[null!=e?e:Ex]=t})):o[Ex]=l,l=Yx(i,o));for(var u=a.length-1;0<=u;u--)null==l[u]&&(delete r[a[u]],a.pop())}else Bx(t,!0);else s.hu("linear"!==n||t.dataExtent),Bx(t)}function Bx(t,e){var n=t.visual,i=[];s.Kn(n)?Nx(n,(function(t){i.push(t)})):null!=n&&i.push(n),e||1!==i.length||{color:1,symbol:1}.hasOwnProperty(t.type)||(i[1]=i[0]),Yx(t,i)}function Gx(t){return{applyVisual:function(e,n,i){e=this.mapValueToVisual(e),i("color",t(n("color"),e))},_normalizedToVisual:Ux([0,1])}}function Zx(t){var e=this.option.visual;return e[Math.round(d(t,[0,1],[0,e.length-1],!0))]||{}}function Wx(t){return function(e,n,i){i(t,this.mapValueToVisual(e))}}function Fx(t){var e=this.option.visual;return e[this.option.loop&&t!==Ex?t%e.length:t]}function Hx(){return this.option.visual[0]}function Ux(t){return{linear:function(e){return d(e,t,this.option.visual,!0)},category:Fx,piecewise:function(e,n){return null==(n=Xx.call(this,n))?d(e,t,this.option.visual,!0):n},fixed:Hx}}function Xx(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual&&(e=n[Vx.findPieceIndex(t,n)])&&e.visual)return e.visual[this.type]}function Yx(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=s.UI(e,(function(t){return(t=mt.Qc(t))||[0,0,0,1]}))),e}var Jx={linear:function(t){return d(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList;if(null!=(t=Vx.findPieceIndex(t,e,!0)))return d(t,[0,e.length-1],[0,1],!0)},category:function(t){return null==(t=this.option.categories?this.option.categoryMap[t]:t)?Ex:t},fixed:s.ZT};function jx(t,e,n){return t?e<=n:e<n}var Kx=Vx,qx=U(),$x={seriesType:"treemap",reset:function(t){var e=t.getData().tree.root;e.isRemoved()||function t(e,n,i,o){var a=e.getModel(),r=e.getLayout(),l=e.hostTree.data;if(r&&!r.invisible&&r.isInView){var u=a.getModel("itemStyle"),c=function(t,e,n){var i=(0,s.l7)({},e),o=n.designatedVisualItemStyle;return(0,s.S6)(["color","colorAlpha","colorSaturation"],(function(n){o[n]=e[n];var a=t.get(n);(o[n]=null)!=a&&(i[n]=a)})),i}(u,n,o);n=l.ensureUniqueItemVisual(e.dataIndex,"style"),l=u.get("borderColor");var h,d,p=u.get("borderColorSaturation");null!=p&&(l=function(t,e){return null!=e?(0,mt.ox)(e,null,null,t):null}(p,h=Qx(c))),n.stroke=l,(p=e.viewChildren)&&p.length?(d=function(t,e,n,i,o,a){var r;if(a&&a.length&&(a=e_(e,"color")||null!=o.color&&"none"!==o.color&&(e_(e,"colorAlpha")||e_(e,"colorSaturation"))))return o=e.get("visualMin"),r=e.get("visualMax"),n=n.dataExtent.slice(),null!=o&&o<n[0]&&(n[0]=o),null!=r&&r>n[1]&&(n[1]=r),o=e.get("colorMappingBy"),"color"!==(r={type:a.name,dataExtent:n,visual:a.range}).type||"index"!==o&&"id"!==o?r.mappingMethod="linear":(r.mappingMethod="category",r.loop=!0),e=new Kx(r),qx(e).drColorMappingBy=o,e}(0,a,r,0,c,p),(0,s.S6)(p,(function(e,n){(e.depth>=i.length||e===i[e.depth])&&(n=function(t,e,n,i,o,a){var r,l;return e=(0,s.l7)({},e),o&&(i="index"===(l="color"===(r=o.type)&&qx(o).drColorMappingBy)?i:"id"===l?a.mapIdToIndex(n.getId()):n.getValue(t.get("visualDimension")),e[r]=o.mapValueToVisual(i)),e}(a,c,e,n,d,o),t(e,n,i,o))}))):(h=Qx(c),n.fill=h)}}(e,{},t.getViewRoot().getAncestors(),t)}};function Qx(t){var e,n=t_(t,"color");if(n)return e=t_(t,"colorAlpha"),(t=t_(t,"colorSaturation"))&&(n=(0,mt.ox)(n,null,null,t)),e?(0,mt.m8)(n,e):n}function t_(t,e){if(null!=(t=t[e])&&"none"!==t)return t}function e_(t,e){return t=t.get(e),(0,s.kJ)(t)&&t.length?{name:e,range:t}:null}var n_=Math.max,i_=Math.min,o_=s.Jv,a_=s.S6,r_=["itemStyle","borderWidth"],s_=["itemStyle","gapWidth"],l_=["upperLabel","show"],u_=["upperLabel","height"],c_={seriesType:"treemap",reset:function(t,e,n,i){var o,a=n.getWidth(),r=n.getHeight(),l=t.option,u=(n=ni(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),l.size||[]),c=p(o_(n.width,u[0]),a),h=(u=p(o_(n.height,u[1]),r),i&&i.type),d=ix(i,["treemapZoomToNode","treemapRootToNode"],t),g=(i="treemapRender"===h||"treemapMove"===h?i.rootRect:null,t.getViewRoot()),f=ox(g);"treemapMove"!==h&&(h="treemapZoomToNode"===h?function(t,e,n,i,o){var a,r=(e||{}).node,s=[i,o];if(!r||r===n)return s;for(var l=(e=i*o)*t.option.zoomToNodeRatio;a=r.parentNode;){for(var u=0,c=a.children,h=0,d=c.length;h<d;h++)u+=c[h].getValue();if(0===(p=r.getValue()))return s;l*=u/p;var p,g=(p=a.getModel()).get(r_);l+=4*g*g+(3*g+(p=Math.max(g,p_(p))))*Math.pow(l,.5),v<l&&(l=v),r=a}return l<e&&(l=e),[i*(n=Math.pow(l/e,.5)),o*n]}(t,d,g,c,u):i?[i.width,i.height]:[c,u],c=l.sort,u={squareRatio:l.squareRatio,sort:c=c&&"asc"!==c&&"desc"!==c?"desc":c,leafDepth:l.leafDepth},g.hostTree.clearLayouts(),o={x:0,y:0,width:h[0],height:h[1],area:h[0]*h[1]},g.setLayout(o),function t(e,n,i,o){var a;if(!e.isRemoved()){var r=e.getLayout();a=r.width,r=r.height;var l=e.getModel(),u=l.get(r_),c=l.get(s_)/2,h=p_(l),d=Math.max(u,h),p=u-c,g=d-c;e.setLayout({borderWidth:u,upperHeight:d,upperLabelHeight:h},!0);var f=function(t,e,n,i,o,a){var r,l=t.children||[],u=i.sort;if("asc"!==u&&"desc"!==u&&(u=null),i=null!=i.leafDepth&&i.leafDepth<=a,o&&!i)return t.viewChildren=[];l=s.hX(l,(function(t){return!t.isRemoved()})),a=l,(r=u)&&a.sort((function(t,e){var n="asc"===r?t.getValue()-e.getValue():e.getValue()-t.getValue();return 0==n?"asc"===r?t.dataIndex-e.dataIndex:e.dataIndex-t.dataIndex:n}));var c=function(t,e,n){for(var i=0,o=0,a=e.length;o<a;o++)i+=e[o].getValue();var r,s=t.get("visualDimension");return e&&e.length?"value"===s&&n?(r=[e[e.length-1].getValue(),e[0].getValue()],"asc"===n&&r.reverse()):(r=[1/0,-1/0],a_(e,(function(t){(t=t.getValue(s))<r[0]&&(r[0]=t),t>r[1]&&(r[1]=t)}))):r=[NaN,NaN],{sum:i,dataExtent:r}}(e,l,u);if(0===c.sum)return t.viewChildren=[];if(c.sum=function(t,e,n,i,o){if(i){for(var a=t.get("visibleMin"),r=o.length,s=r,l=r-1;0<=l;l--){var u=o["asc"===i?r-l-1:l].getValue();u/n*e<a&&(s=l,n-=u)}"asc"===i?o.splice(0,r-s):o.splice(s,r-s)}return n}(e,n,c.sum,u,l),0===c.sum)return t.viewChildren=[];for(var h=0,d=l.length;h<d;h++){var p=l[h].getValue()/c.sum*n;l[h].setLayout({area:p})}return i&&(l.length&&t.setLayout({isLeafRoot:!0},!0),l.length=0),t.viewChildren=l,t.setLayout({dataExtent:c.dataExtent},!0),l}(e,l,u=(a=n_(a-2*p,0))*(r=n_(r-p-g,0)),n,i,o);if(f.length){var y={x:p,y:g,width:a,height:r},m=i_(a,r),v=1/0,x=[];x.area=0;for(var _=0,S=f.length;_<S;){var b=f[_];x.push(b),x.area+=b.getLayout().area,v=(b=h_(x,m,n.squareRatio))<=v?(_++,b):(x.area-=x.pop().getLayout().area,d_(x,m,y,c,!1),m=i_(y.width,y.height),1/(x.length=x.area=0))}for(x.length&&d_(x,m,y,c,!0),i||null!=(d=l.get("childrenVisibleMin"))&&u<d&&(i=!0),_=0,S=f.length;_<S;_++)t(f[_],n,i,o+1)}}}(g,u,!1,0),o=g.getLayout(),a_(f,(function(t,e){e=(f[e+1]||g).getValue(),t.setLayout(s.l7({dataExtent:[e,e],borderWidth:0,upperHeight:0},o))}))),(c=t.getData().tree.root).setLayout(function(t,e,n){if(e)return{x:e.x,y:e.y};if(e={x:0,y:0},!n)return e;var i=(n=n.node).getLayout();if(!i)return e;for(var o=[i.width/2,i.height/2],a=n;a;){var r=a.getLayout();o[0]+=r.x,o[1]+=r.y,a=a.parentNode}return{x:t.width/2-o[0],y:t.height/2-o[1]}}(n,i,d),!0),t.setLayoutInfo(n),function t(e,n,i,o,a){var r=e.getLayout(),s=i[a],l=s&&s===e;if(!(s&&!l||a===i.length&&e!==o)){e.setLayout({isInView:!0,invisible:!l&&!n.intersect(r),isAboveViewRoot:l},!0);var u=new sn.Z(n.x-r.x,n.y-r.y,n.width,n.height);a_(e.viewChildren||[],(function(e){t(e,u,i,o,a+1)}))}}(c,new sn.Z(-n.x,-n.y,a,r),f,g,0)}};function h_(t,e,n){for(var i,o=0,a=1/0,r=0,s=t.length;r<s;r++)(i=t[r].getLayout().area)&&(i<a&&(a=i),o<i)&&(o=i);var l=t.area*t.area;return e=e*e*n,l?n_(e*o/l,l/(e*a)):1/0}function d_(t,e,n,i,o){var a=e===n.width?0:1,r=1-a,s=["x","y"],l=["width","height"],u=n[s[a]],c=e?t.area/e:0;(o||c>n[l[r]])&&(c=n[l[r]]);for(var h=0,d=t.length;h<d;h++){var p=t[h],g={},f=c?p.getLayout().area/c:0,y=g[l[r]]=n_(c-2*i,0),m=n[s[a]]+n[l[a]]-u;m=h===d-1||m<f?m:f,f=g[l[a]]=n_(m-2*i,0),g[s[r]]=n[s[r]]+i_(i,y/2),g[s[a]]=u+i_(i,f/2),u+=m,p.setLayout(g,!0)}n[s[r]]+=c,n[l[r]]-=c}function p_(t){return t.get(l_)?t.get(u_):0}function g_(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",(function(t){var n=t.getCategoriesData(),i=t.getGraph().data,o=n.mapArray(n.getName);i.filterSelf((function(t){var n=i.getItemModel(t).getShallow("category");if(null!=n){(0,s.hj)(n)&&(n=o[n]);for(var a=0;a<e.length;a++)if(!e[a].isSelected(n))return!1}return!0}))}))}function f_(t){var e={};t.eachSeriesByType("graph",(function(t){var n=t.getCategoriesData(),i=t.getData(),o={};n.each((function(i){for(var a=n.getName(i),r=(o["ec-"+a]=i,n.getItemModel(i)),s=r.getModel("itemStyle").getItemStyle(),l=(s.fill||(s.fill=t.getColorFromPalette(a,e)),n.setItemVisual(i,"style",s),["symbol","symbolSize","symbolKeepAspect"]),u=0;u<l.length;u++){var c=r.getShallow(l[u],!0);null!=c&&n.setItemVisual(i,l[u],c)}})),n.count()&&i.each((function(t){var e=i.getItemModel(t).getShallow("category");if(null!=e){(0,s.HD)(e)&&(e=o["ec-"+e]);for(var a=n.getItemVisual(e,"style"),r=i.ensureUniqueItemVisual(t,"style"),l=((0,s.l7)(r,a),["symbol","symbolSize","symbolKeepAspect"]),u=0;u<l.length;u++)i.setItemVisual(t,l[u],n.getItemVisual(e,l[u]))}}))}))}function y_(t){return t instanceof Array?t:[t,t]}function m_(t){t.eachSeriesByType("graph",(function(t){var e=t.getGraph(),n=t.getEdgeData(),i=y_(t.get("edgeSymbol")),o=y_(t.get("edgeSymbolSize"));n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",o&&o[0]),n.setVisual("toSymbolSize",o&&o[1]),n.setVisual("style",t.getModel("lineStyle").getLineStyle()),n.each((function(t){var i=n.getItemModel(t),o=e.getEdgeByIndex(t),a=y_(i.getShallow("symbol",!0)),r=y_(i.getShallow("symbolSize",!0)),l=(i=i.getModel("lineStyle").getLineStyle(),n.ensureUniqueItemVisual(t,"style"));switch((0,s.l7)(l,i),l.stroke){case"source":var u=o.node1.getVisual("style");l.stroke=u&&u.fill;break;case"target":u=o.node2.getVisual("style"),l.stroke=u&&u.fill}a[0]&&o.setVisual("fromSymbol",a[0]),a[1]&&o.setVisual("toSymbol",a[1]),r[0]&&o.setVisual("fromSymbolSize",r[0]),r[1]&&o.setVisual("toSymbolSize",r[1])}))}))}var v_="--\x3e",x_=function(t){return t.get("autoCurveness")||null},__=function(t,e){var n=x_(t),i=20,o=[];if(s.hj(n))i=n;else if(s.kJ(n))return void(t.__curvenessList=n);for(var a=(i=i<e?e:i)%2?i+2:i+3,r=(o=[],0);r<a;r++)o.push((r%2?r+1:r)/10*(r%2?-1:1));t.__curvenessList=o},S_=function(t,e,n){return t=[t.id,t.dataIndex].join("."),e=[e.id,e.dataIndex].join("."),[n.uid,t,e].join(v_)},b_=function(t){return[(t=t.split(v_))[0],t[2],t[1]].join(v_)},w_=function(t,e){return t=S_(t.node1,t.node2,e),e.__edgeMap[t]},M_=function(t,e){return I_(S_(t.node1,t.node2,e),e)+I_(S_(t.node2,t.node1,e),e)},I_=function(t,e){return(e=e.__edgeMap)[t]?e[t].length:0};function D_(t,e,n,i){var o=x_(e),a=s.kJ(o);if(!o)return null;var r=w_(t,e);if(!r)return null;for(var l=-1,u=0;u<r.length;u++)if(r[u]===n){l=u;break}var c=M_(t,e),h=(__(e,c),t.lineStyle=t.lineStyle||{},t=S_(t.node1,t.node2,e),e.__curvenessList);return c=a||c%2?0:1,r.isForward?h[c+l]:(t=b_(t),e=h[l+(t=I_(t,e))+c],i?!a||o&&0===o[0]?(t+c)%2?e:-e:((t%2?0:1)+c)%2?e:-e:h[l+t+c])}function T_(t){var e=t.coordinateSystem;e&&"view"!==e.type||((e=t.getGraph()).eachNode((function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])})),C_(e,t))}function C_(t,e){t.eachEdge((function(t,n){n=s.R1(t.getModel().get(["lineStyle","curveness"]),-D_(t,e,n,!0),0);var i=Pr.d9(t.node1.getLayout()),o=Pr.d9(t.node2.getLayout()),a=[i,o];+n&&a.push([(i[0]+o[0])/2-(i[1]-o[1])*n,(i[1]+o[1])/2-(o[0]-i[0])*n]),t.setLayout(a)}))}function A_(t,e){t.eachSeriesByType("graph",(function(t){var e=t.get("layout"),n=t.coordinateSystem;if(n&&"view"!==n.type){var i=t.getData(),o=[];(0,s.S6)(n.dimensions,(function(t){o=o.concat(i.mapDimensionsAll(t))}));for(var a=0;a<i.count();a++){for(var r=[],l=!1,u=0;u<o.length;u++){var c=i.get(o[u],a);isNaN(c)||(l=!0),r.push(c)}l?i.setItemLayout(a,n.dataToPoint(r)):i.setItemLayout(a,[NaN,NaN])}C_(i.graph,t)}else e&&"none"!==e||T_(t)}))}function k_(t){var e,n=t.coordinateSystem;return"view"!==n.type?1:(t=t.option.nodeScaleRatio,e=n.scaleX,((n.getZoom()-1)*t+1)/e)}function L_(t){return+(t=(t=t.getVisual("symbolSize"))instanceof Array?(t[0]+t[1])/2:t)}var P_=Math.PI,R_=[];function N_(t,e,n,i){var o,a,r,l,u,c,h=t.coordinateSystem;h&&"view"!==h.type||(u=h.getBoundingRect(),a=(o=t.getData()).graph,r=u.width/2+u.x,l=u.height/2+u.y,u=Math.min(u.width,u.height)/2,c=o.count(),o.setLayout({cx:r,cy:l}),c&&(n&&(i=(h=h.pointToData(i))[0],h=h[1],Pr.Fv(i=[i-r,h-l],i),Pr.bA(i,i,u),n.setLayout([r+i[0],l+i[1]],!0),E_(n,t.get(["circular","rotateLabel"]),r,l)),O_[e](t,a,o,u,r,l,c),a.eachEdge((function(e,n){n=s.R1(e.getModel().get(["lineStyle","curveness"]),D_(e,t,n),0);var i,o=Pr.d9(e.node1.getLayout()),a=Pr.d9(e.node2.getLayout()),u=(o[0]+a[0])/2,c=(o[1]+a[1])/2;+n&&(i=[r*(n*=3)+u*(1-n),l*n+c*(1-n)]),e.setLayout([o,a,i])}))))}var O_={value:function(t,e,n,i,o,a,r){var s=0,l=n.getSum("value"),u=2*Math.PI/(l||r);e.eachNode((function(t){var e=t.getValue("value");s+=e=u*(l?e:1)/2,t.setLayout([i*Math.cos(s)+o,i*Math.sin(s)+a]),s+=e}))},symbolSize:function(t,e,n,i,o,a,r){var s=0,l=(R_.length=r,k_(t)),u=(e.eachNode((function(t){var e=L_(t);(e=isNaN(e)?2:e)<0&&(e=0),e*=l,e=Math.asin(e/2/i),isNaN(e)&&(e=P_/2),R_[t.dataIndex]=e,s+=2*e})),(2*P_-s)/r/2),c=0;e.eachNode((function(t){var e=u+R_[t.dataIndex];c+=e,t.getLayout()&&t.getLayout().fixed||t.setLayout([i*Math.cos(c)+o,i*Math.sin(c)+a]),c+=e}))}};function E_(t,e,n,i){var o,a=t.getGraphicEl();a&&(o=t.getModel().get(["label","rotate"])||0,a=a.getSymbolPath(),e?(e=t.getLayout(),(t=Math.atan2(e[1]-i,e[0]-n))<0&&(t=2*Math.PI+t),(i=e[0]<n)&&(t-=Math.PI),a.setTextConfig({rotation:-t,position:e=i?"left":"right",origin:"center"}),n=a.ensureState("emphasis"),s.l7(n.textConfig||(n.textConfig={}),{position:e})):a.setTextConfig({rotation:o*=Math.PI/180}))}function V_(t){t.eachSeriesByType("graph",(function(t){"circular"===t.get("layout")&&N_(t,"symbolSize")}))}var z_=Pr.od;function B_(t){t.eachSeriesByType("graph",(function(t){var e,n,i,o,a,r,l,u,c,h,p,g,f=t.coordinateSystem;f&&"view"!==f.type||("force"===t.get("layout")?(e=t.preservedPoints||{},n=t.getGraph(),i=n.data,g=n.edgeData,h=(o=t.getModel("force")).get("initLayout"),t.preservedPoints?i.each((function(t){var n=i.getId(t);i.setItemLayout(t,e[n]||[NaN,NaN])})):h&&"none"!==h?"circular"===h&&N_(t,"value"):T_(t),a=i.getDataExtent("value"),r=g.getDataExtent("value"),h=o.get("repulsion"),p=o.get("edgeLength"),l=s.kJ(h)?h:[h,h],u=[(u=s.kJ(p)?p:[p,p])[1],u[0]],c=i.mapArray("value",(function(t,e){var n=i.getItemLayout(e);return t=d(t,a,l),{w:t=isNaN(t)?(l[0]+l[1])/2:t,rep:t,fixed:i.getItemModel(e).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}})),h=g.mapArray("value",(function(e,i){var o=n.getEdgeByIndex(i),a=(e=d(e,r,u),isNaN(e)&&(e=(u[0]+u[1])/2),o.getModel());return i=s.R1(o.getModel().get(["lineStyle","curveness"]),-D_(o,t,i,!0),0),{n1:c[o.node1.dataIndex],n2:c[o.node2.dataIndex],d:e,curveness:i,ignoreForceLayout:a.get("ignoreForceLayout")}})),p=f.getBoundingRect(),(g=function(t,e,n){for(var i=t,o=e,a=(t=n.rect).width,r=t.height,s=[t.x+a/2,t.y+r/2],l=null==n.gravity?.1:n.gravity,u=0;u<i.length;u++){var c=i[u];c.p||(c.p=Pr.Ue(a*(Math.random()-.5)+s[0],r*(Math.random()-.5)+s[1])),c.pp=Pr.d9(c.p),c.edges=null}var h,d,p=null==n.friction?.6:n.friction,g=p;return{warmUp:function(){g=.8*p},setFixed:function(t){i[t].fixed=!0},setUnfixed:function(t){i[t].fixed=!1},beforeStep:function(t){h=t},afterStep:function(t){d=t},step:function(t){h&&h(i,o);for(var e=[],n=i.length,a=0;a<o.length;a++){var r=o[a];r.ignoreForceLayout||(u=r.n1,p=r.n2,Pr.lu(e,p.p,u.p),f=Pr.Zh(e)-r.d,r=p.w/(u.w+p.w),isNaN(r)&&(r=0),Pr.Fv(e,e),u.fixed||z_(u.p,u.p,e,r*f*g),p.fixed)||z_(p.p,p.p,e,-(1-r)*f*g)}for(a=0;a<n;a++)(m=i[a]).fixed||(Pr.lu(e,s,m.p),z_(m.p,m.p,e,l*g));for(a=0;a<n;a++)for(var u=i[a],c=a+1;c<n;c++){var p=i[c];Pr.lu(e,p.p,u.p),0===(f=Pr.Zh(e))&&(Pr.t8(e,Math.random()-.5,Math.random()-.5),f=1);var f,y=(u.rep+p.rep)/f/f;u.fixed||z_(u.pp,u.pp,e,y),p.fixed||z_(p.pp,p.pp,e,-y)}var m,v=[];for(a=0;a<n;a++)(m=i[a]).fixed||(Pr.lu(v,m.p,m.pp),z_(m.p,m.p,v,g),Pr.JG(m.pp,m.p));var x=(g*=.992)<.01;d&&d(i,o,x),t&&t(x)}}}(c,h,{rect:p,gravity:o.get("gravity"),friction:o.get("friction")})).beforeStep((function(t,e){for(var i=0,o=t.length;i<o;i++)t[i].fixed&&Pr.JG(t[i].p,n.getNodeByIndex(i).getLayout())})),g.afterStep((function(t,o,a){for(var r=0,s=t.length;r<s;r++)t[r].fixed||n.getNodeByIndex(r).setLayout(t[r].p),e[i.getId(r)]=t[r].p;for(r=0,s=o.length;r<s;r++){var l=o[r],u=n.getEdgeByIndex(r),c=l.n1.p,h=l.n2.p,d=u.getLayout();(d=d?d.slice():[])[0]=d[0]||[],d[1]=d[1]||[],Pr.JG(d[0],c),Pr.JG(d[1],h),+l.curveness&&(d[2]=[(c[0]+h[0])/2-(c[1]-h[1])*l.curveness,(c[1]+h[1])/2-(h[0]-c[0])*l.curveness]),u.setLayout(d)}})),t.forceLayout=g,t.preservedPoints=e,g.step()):t.forceLayout=null)}))}function G_(t,e){var n=[];return t.eachSeriesByType("graph",(function(t){var i,o,a,r,l,u,c,h=t.get("coordinateSystem");h&&"view"!==h||(h=(i=t.getData()).mapArray((function(t){return[+(t=i.getItemModel(t)).get("x"),+t.get("y")]})),Lv.zk(h,h=[],a=[]),a[0]-h[0]==0&&(a[0]+=1,--h[0]),a[1]-h[1]==0&&(a[1]+=1,--h[1]),o=(a[0]-h[0])/(a[1]-h[1]),u=e,c=o,c=ni((0,s.l7)(t.getBoxLayoutParams(),{aspect:c}),{width:u.getWidth(),height:u.getHeight()}),isNaN(o)&&(h=[c.x,c.y],a=[c.x+c.width,c.y+c.height]),u=a[0]-h[0],o=a[1]-h[1],a=c.width,r=c.height,(l=t.coordinateSystem=new iv).zoomLimit=t.get("scaleLimit"),l.setBoundingRect(h[0],h[1],u,o),l.setViewRect(c.x,c.y,a,r),l.setCenter(t.get("center"),e),l.setZoom(t.get("zoom")),n.push(l))})),n}var Z_,W_,F_=Wr.Z.prototype,H_=Fr.Z.prototype,U_=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function X_(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}function Y_(t){return(t=W_.call(this,t)||this).type="ec-line",t}a((function(){return null!==Z_&&Z_.apply(this,arguments)||this}),Z_=U_),a(Y_,W_=vt.ZP),Y_.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Y_.prototype.getDefaultShape=function(){return new U_},Y_.prototype.buildPath=function(t,e){(X_(e)?F_:H_).buildPath.call(this,t,e)},Y_.prototype.pointAt=function(t){return(X_(this.shape)?F_:H_).pointAt.call(this,t)},Y_.prototype.tangentAt=function(t){var e=X_(e=this.shape)?[e.x2-e.x1,e.y2-e.y1]:H_.tangentAt.call(this,t);return Pr.Fv(e,e)};var J_,j_=Y_,K_=["fromSymbol","toSymbol"];function q_(t){return"_"+t+"Type"}function $_(t,e,n){var i,o,a,r=e.getItemVisual(n,t);return r&&"none"!==r?(i=e.getItemVisual(n,t+"Size"),o=e.getItemVisual(n,t+"Rotate"),a=e.getItemVisual(n,t+"Offset"),e=e.getItemVisual(n,t+"KeepAspect"),r+(n=El(i))+Vl(a||0,n)+(o||"")+(e||"")):r}function Q_(t,e,n){var i,o,a,r=e.getItemVisual(n,t);if(r&&"none"!==r)return a=e.getItemVisual(n,t+"Size"),i=e.getItemVisual(n,t+"Rotate"),o=e.getItemVisual(n,t+"Offset"),e=e.getItemVisual(n,t+"KeepAspect"),o=Vl(o||0,n=El(a)),(a=Ol(r,-n[0]/2+o[0],-n[1]/2+o[1],n[0],n[1],null,e)).__specifiedRotation=null==i||isNaN(i)?void 0:+i*Math.PI/180||0,a.name=t,a}function tS(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1,(e=e[2])?(t.cpx1=e[0],t.cpy1=e[1]):(t.cpx1=NaN,t.cpy1=NaN)}function eS(t,e,n){var i=J_.call(this)||this;return i._createLine(t,e,n),i}a(eS,J_=Dr.Z),eS.prototype._createLine=function(t,e,n){var i,o=t.hostModel,a=t.getItemLayout(e);(tS((i=new j_({name:"line",subPixelOptimize:!0})).shape,a),a=i).shape.percent=0,be(a,{shape:{percent:1}},o,e),this.add(a),(0,s.S6)(K_,(function(n){var i=Q_(n,t,e);this.add(i),this[q_(n)]=$_(n,t,e)}),this),this._updateCommonStl(t,e,n)},eS.prototype.updateData=function(t,e,n){var i=t.hostModel,o=this.childOfName("line"),a=t.getItemLayout(e),r={shape:{}};tS(r.shape,a),Se(o,r,i,e),(0,s.S6)(K_,(function(n){var i=$_(n,t,e),o=q_(n);this[o]!==i&&(this.remove(this.childOfName(n)),n=Q_(n,t,e),this.add(n)),this[o]=i}),this),this._updateCommonStl(t,e,n)},eS.prototype.getLinePath=function(){return this.childAt(0)},eS.prototype._updateCommonStl=function(t,e,n){var i=t.hostModel,o=this.childOfName("line"),a=n&&n.emphasisLineStyle,r=n&&n.blurLineStyle,l=n&&n.selectLineStyle,u=n&&n.labelStatesModels,c=n&&n.emphasisDisabled,h=n&&n.focus,d=n&&n.blurScope,p=(n&&!t.hasItemOption||(a=(y=(n=t.getItemModel(e)).getModel("emphasis")).getModel("lineStyle").getLineStyle(),r=n.getModel(["blur","lineStyle"]).getLineStyle(),l=n.getModel(["select","lineStyle"]).getLineStyle(),c=y.get("disabled"),h=y.get("focus"),d=y.get("blurScope"),u=Pe(n)),t.getItemVisual(e,"style")),f=p.stroke,y=(o.useStyle(p),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=a,o.ensureState("blur").style=r,o.ensureState("select").style=l,(0,s.S6)(K_,(function(t){var e=this.childOfName(t);if(e){e.setColor(f),e.style.opacity=p.opacity;for(var n=0;n<Dt.length;n++){var i=Dt[n],a=o.getState(i);a&&(a=a.style||{},i=(i=e.ensureState(i)).style||(i.style={}),null!=a.stroke&&(i[e.__isEmptyBrush?"stroke":"fill"]=a.stroke),null!=a.opacity)&&(i.opacity=a.opacity)}e.markRedraw()}}),this),i.getRawValue(e));Le(this,u,{labelDataIndex:e,labelFetcher:{getFormattedLabel:function(e,n){return i.getFormattedLabel(e,n,t.dataType)}},inheritColor:f||"#000",defaultOpacity:p.opacity,defaultText:(null==y?t.getName(e):isFinite(y)?g(y):y)+""}),(n=this.getTextContent())&&(a=u.normal,n.__align=n.style.align,n.__verticalAlign=n.style.verticalAlign,n.__position=a.get("position")||"middle",r=a.get("distance"),(0,s.kJ)(r)||(r=[r,r]),n.__labelDistance=r),this.setTextConfig({position:null,local:!0,inside:!1}),ue(this,h,d,c)},eS.prototype.highlight=function(){Kt(this)},eS.prototype.downplay=function(){qt(this)},eS.prototype.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},eS.prototype.setLinePoints=function(t){var e=this.childOfName("line");tS(e.shape,t),e.dirty()},eS.prototype.beforeUpdate=function(){var t=this.childOfName("fromSymbol"),e=this.childOfName("toSymbol"),n=this.getTextContent();if(t||e||n&&!n.ignore){for(var i=1,o=this.parent;o;)o.scaleX&&(i/=o.scaleX),o=o.parent;var a=this.childOfName("line");if(this.__dirty||a.__dirty){var r=a.shape.percent,s=a.pointAt(0),l=a.pointAt(r),u=Pr.lu([],l,s);if(Pr.Fv(u,u),t&&(t.setPosition(s),v(t,0),t.scaleX=t.scaleY=i*r,t.markRedraw()),e&&(e.setPosition(l),v(e,1),e.scaleX=e.scaleY=i*r,e.markRedraw()),n&&!n.ignore){n.x=n.y=0;var c=void(n.originX=n.originY=0),h=void 0,d=(t=n.__labelDistance)[0]*i,p=t[1]*i,g=(e=r/2,a.tangentAt(e)),f=(t=[g[1],-g[0]],a.pointAt(e)),y=(0<t[1]&&(t[0]=-t[0],t[1]=-t[1]),g[0]<0?-1:1),m=void("start"!==n.__position&&"end"!==n.__position&&(r=-Math.atan2(g[1],g[0]),l[0]<s[0]&&(r=Math.PI+r),n.rotation=r));switch(n.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":m=-p,h="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":m=p,h="top";break;default:m=0,h="middle"}switch(n.__position){case"end":n.x=u[0]*d+l[0],n.y=u[1]*p+l[1],c=.8<u[0]?"left":u[0]<-.8?"right":"center",h=.8<u[1]?"top":u[1]<-.8?"bottom":"middle";break;case"start":n.x=-u[0]*d+s[0],n.y=-u[1]*p+s[1],c=.8<u[0]?"right":u[0]<-.8?"left":"center",h=.8<u[1]?"bottom":u[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":n.x=d*y+s[0],n.y=s[1]+m,c=g[0]<0?"right":"left",n.originX=-d*y,n.originY=-m;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":n.x=f[0],n.y=f[1]+m,c="center",n.originY=-m;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":n.x=-d*y+l[0],n.y=l[1]+m,c=0<=g[0]?"right":"left",n.originX=d*y,n.originY=-m}n.scaleX=n.scaleY=i,n.setStyle({verticalAlign:n.__verticalAlign||h,align:n.__align||c})}}}function v(t,e){var n,i=t.__specifiedRotation;null==i?(n=a.tangentAt(e),t.attr("rotation",(1===e?-1:1)*Math.PI/2-Math.atan2(n[1],n[0]))):t.attr("rotation",i)}};var nS=eS;function iS(t){this.group=new Dr.Z,this._LineCtor=t||nS}function oS(t){var e=(t=t.hostModel).getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:e.get("disabled"),blurScope:e.get("blurScope"),focus:e.get("focus"),labelStatesModels:Pe(t)}}function aS(t){return isNaN(t[0])||isNaN(t[1])}function rS(t){return t&&!aS(t[0])&&!aS(t[1])}iS.prototype.updateData=function(t){var e=this,n=(this._progressiveEls=null,this.group),i=this._lineData,o=(this._lineData=t,i||n.removeAll(),oS(t));t.diff(i).add((function(n){e._doAdd(t,n,o)})).update((function(n,a){e._doUpdate(i,t,a,n,o)})).remove((function(t){n.remove(i.getItemGraphicEl(t))})).execute()},iS.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl((function(e,n){e.updateLayout(t,n)}),this)},iS.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=oS(t),this._lineData=null,this.group.removeAll()},iS.prototype.incrementalUpdate=function(t,e){function n(t){var e;t.isGroup||(e=t).animators&&0<e.animators.length||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var i,o=t.start;o<t.end;o++)rS(e.getItemLayout(o))&&((i=new this._LineCtor(e,o,this._seriesScope)).traverse(n),this.group.add(i),e.setItemGraphicEl(o,i),this._progressiveEls.push(i))},iS.prototype.remove=function(){this.group.removeAll()},iS.prototype.eachRendered=function(t){Ds(this._progressiveEls||this.group,t)},iS.prototype._doAdd=function(t,e,n){rS(t.getItemLayout(e))&&(n=new this._LineCtor(t,e,n),t.setItemGraphicEl(e,n),this.group.add(n))},iS.prototype._doUpdate=function(t,e,n,i,o){t=t.getItemGraphicEl(n),rS(e.getItemLayout(i))?(t?t.updateData(e,i,o):t=new this._LineCtor(e,i,o),e.setItemGraphicEl(i,t),this.group.add(t)):this.group.remove(t)};var sS,lS=iS,uS=[],cS=[],hS=[],dS=ic.Zm,pS=Pr.WU,gS=Math.abs;function fS(t,e,n){for(var i,o=t[0],a=t[1],r=t[2],s=1/0,l=n*n,u=.1,c=.1;c<=.9;c+=.1)uS[0]=dS(o[0],a[0],r[0],c),uS[1]=dS(o[1],a[1],r[1],c),(p=gS(pS(uS,e)-l))<s&&(s=p,i=c);for(var h=0;h<32;h++){var d=i+u,p=(cS[0]=dS(o[0],a[0],r[0],i),cS[1]=dS(o[1],a[1],r[1],i),hS[0]=dS(o[0],a[0],r[0],d),hS[1]=dS(o[1],a[1],r[1],d),pS(cS,e)-l);if(gS(p)<.01)break;d=pS(hS,e)-l,u/=2,p<0?0<=d?i+=u:i-=u:0<=d?i-=u:i+=u}return i}function yS(t,e){var n=[],i=ic.Lx,o=[[],[],[]],a=[[],[]],r=[];e/=2,t.eachEdge((function(t,s){var l,u,c=t.getLayout(),h=t.getVisual("fromSymbol"),d=t.getVisual("toSymbol"),p=(c.__original||(c.__original=[Pr.d9(c[0]),Pr.d9(c[1])],c[2]&&c.__original.push(Pr.d9(c[2]))),c.__original);null!=c[2]?(Pr.JG(o[0],p[0]),Pr.JG(o[1],p[2]),Pr.JG(o[2],p[1]),h&&"none"!==h&&(u=L_(t.node1),l=fS(o,p[0],u*e),i(o[0][0],o[1][0],o[2][0],l,n),o[0][0]=n[3],o[1][0]=n[4],i(o[0][1],o[1][1],o[2][1],l,n),o[0][1]=n[3],o[1][1]=n[4]),d&&"none"!==d&&(u=L_(t.node2),l=fS(o,p[1],u*e),i(o[0][0],o[1][0],o[2][0],l,n),o[1][0]=n[1],o[2][0]=n[2],i(o[0][1],o[1][1],o[2][1],l,n),o[1][1]=n[1],o[2][1]=n[2]),Pr.JG(c[0],o[0]),Pr.JG(c[1],o[2]),Pr.JG(c[2],o[1])):(Pr.JG(a[0],p[0]),Pr.JG(a[1],p[1]),Pr.lu(r,a[1],a[0]),Pr.Fv(r,r),h&&"none"!==h&&(u=L_(t.node1),Pr.od(a[0],a[0],r,u*e)),d&&"none"!==d&&(u=L_(t.node2),Pr.od(a[1],a[1],r,-u*e)),Pr.JG(c[0],a[0]),Pr.JG(c[1],a[1]))}))}function mS(t){return"view"===t.type}function vS(){var t=null!==sS&&sS.apply(this,arguments)||this;return t.type=vS.type,t}a(vS,sS=Os),vS.prototype.init=function(t,e){var n=new Vh,i=new lS,o=this.group;this._controller=new Jy(e.getZr()),this._controllerHost={target:o},o.add(n.group),o.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._firstRender=!0},vS.prototype.render=function(t,e,n){var i=this,o=t.coordinateSystem,a=(this._model=t,this._symbolDraw),r=this._lineDraw,s=this.group,l=(mS(o)&&(o={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY},this._firstRender?s.attr(o):Se(s,o,t)),yS(t.getGraph(),k_(t)),t.getData()),u=(a.updateData(l),s=t.getEdgeData(),r.updateData(s),this._updateNodeAndLinkScale(),this._updateController(t,e,n),clearTimeout(this._layoutTimeout),t.forceLayout),c=t.get(["force","layoutAnimation"]),h=(u&&this._startForceLayoutIteration(u,c),t.get("layout")),d=(l.graph.eachNode((function(e){var n,o=e.dataIndex,a=e.getGraphicEl(),r=e.getModel();a&&(a.off("drag").off("dragend"),(n=r.get("draggable"))&&a.on("drag",(function(n){switch(h){case"force":u.warmUp(),i._layouting||i._startForceLayoutIteration(u,c),u.setFixed(o),l.setItemLayout(o,[a.x,a.y]);break;case"circular":l.setItemLayout(o,[a.x,a.y]),e.setLayout({fixed:!0},!0),N_(t,"symbolSize",e,[n.offsetX,n.offsetY]),i.updateLayout(t);break;default:l.setItemLayout(o,[a.x,a.y]),C_(t.getGraph(),t),i.updateLayout(t)}})).on("dragend",(function(){u&&u.setUnfixed(o)})),a.setDraggable(n,!!r.get("cursor")),"adjacency"===r.get(["emphasis","focus"]))&&(yt(a).focus=e.getAdjacentDataIndices())})),l.graph.eachEdge((function(t){var e=t.getGraphicEl(),n=t.getModel().get(["emphasis","focus"]);e&&"adjacency"===n&&(yt(e).focus={edge:[t.dataIndex],node:[t.node1.dataIndex,t.node2.dataIndex]})})),"circular"===t.get("layout")&&t.get(["circular","rotateLabel"])),p=l.getLayout("cx"),g=l.getLayout("cy");l.graph.eachNode((function(t){E_(t,d,p,g)})),this._firstRender=!1},vS.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},vS.prototype._startForceLayoutIteration=function(t,e){var n=this;!function i(){t.step((function(t){n.updateLayout(n._model),(n._layouting=!t)&&(e?n._layoutTimeout=setTimeout(i,16):i())}))}()},vS.prototype._updateController=function(t,e,n){var i=this,o=this._controller,a=this._controllerHost,r=this.group;o.setPointerChecker((function(e,i,o){var a=r.getBoundingRect();return a.applyTransform(r.transform),a.contain(i,o)&&!$y(e,n,t)})),mS(t.coordinateSystem)?(o.enable(t.get("roam")),a.zoomLimit=t.get("scaleLimit"),a.zoom=t.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",(function(e){jy(a,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e.dx,dy:e.dy})})).on("zoom",(function(e){Ky(a,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),i._updateNodeAndLinkScale(),yS(t.getGraph(),k_(t)),i._lineDraw.updateLayout(),n.updateLabelLayout()}))):o.disable()},vS.prototype._updateNodeAndLinkScale=function(){var t=this._model,e=t.getData(),n=k_(t);e.eachItemGraphicEl((function(t,e){t&&t.setSymbolScale(n)}))},vS.prototype.updateLayout=function(t){yS(t.getGraph(),k_(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},vS.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},vS.type="graph";var xS=vS;function _S(t){return"_EC_"+t}function SS(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}SS.prototype.isDirected=function(){return this._directed},SS.prototype.addNode=function(t,e){t=null==t?""+e:""+t;var n=this._nodesMap;if(!n[_S(t)])return((e=new bS(t,e)).hostGraph=this).nodes.push(e),n[_S(t)]=e},SS.prototype.getNodeByIndex=function(t){return t=this.data.getRawIndex(t),this.nodes[t]},SS.prototype.getNodeById=function(t){return this._nodesMap[_S(t)]},SS.prototype.addEdge=function(t,e,n){var i=this._nodesMap,o=this._edgesMap;if(s.hj(t)&&(t=this.nodes[t]),s.hj(e)&&(e=this.nodes[e]),t instanceof bS||(t=i[_S(t)]),e instanceof bS||(e=i[_S(e)]),t&&e)return i=t.id+"-"+e.id,((n=new MS(t,e,n)).hostGraph=this)._directed&&(t.outEdges.push(n),e.inEdges.push(n)),t.edges.push(n),t!==e&&e.edges.push(n),this.edges.push(n),o[i]=n},SS.prototype.getEdgeByIndex=function(t){return t=this.edgeData.getRawIndex(t),this.edges[t]},SS.prototype.getEdge=function(t,e){t instanceof bS&&(t=t.id),e instanceof bS&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},SS.prototype.eachNode=function(t,e){for(var n=this.nodes,i=n.length,o=0;o<i;o++)0<=n[o].dataIndex&&t.call(e,n[o],o)},SS.prototype.eachEdge=function(t,e){for(var n=this.edges,i=n.length,o=0;o<i;o++)0<=n[o].dataIndex&&0<=n[o].node1.dataIndex&&0<=n[o].node2.dataIndex&&t.call(e,n[o],o)},SS.prototype.breadthFirstTraverse=function(t,e,n,i){if(e=e instanceof bS?e:this._nodesMap[_S(e)]){for(var o="out"===n?"outEdges":"in"===n?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!t.call(i,e,null))for(var r=[e];r.length;){var s=r.shift(),l=s[o];for(a=0;a<l.length;a++){var u;if(!(u=(u=l[a]).node1===s?u.node2:u.node1).__visited){if(t.call(i,u,s))return;r.push(u),u.__visited=!0}}}}},SS.prototype.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,i=this.edges,o=0,a=n.length;o<a;o++)n[o].dataIndex=-1;for(o=0,a=t.count();o<a;o++)n[t.getRawIndex(o)].dataIndex=o;for(e.filterSelf((function(t){return 0<=(t=i[e.getRawIndex(t)]).node1.dataIndex&&0<=t.node2.dataIndex})),o=0,a=i.length;o<a;o++)i[o].dataIndex=-1;for(o=0,a=e.count();o<a;o++)i[e.getRawIndex(o)].dataIndex=o},SS.prototype.clone=function(){for(var t=new SS(this._directed),e=this.nodes,n=this.edges,i=0;i<e.length;i++)t.addNode(e[i].id,e[i].dataIndex);for(i=0;i<n.length;i++){var o=n[i];t.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return t},Ye=SS,wS.prototype.degree=function(){return this.edges.length},wS.prototype.inDegree=function(){return this.inEdges.length},wS.prototype.outDegree=function(){return this.outEdges.length},wS.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)},wS.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var n=this.edges[e];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},wS.prototype.getTrajectoryDataIndices=function(){for(var t=s.kW(),e=s.kW(),n=0;n<this.edges.length;n++){var i=this.edges[n];if(!(i.dataIndex<0)){t.set(i.dataIndex,!0);for(var o=[i.node1],a=[i.node2],r=0;r<o.length;){var l=o[r];r++,e.set(l.dataIndex,!0);for(var u=0;u<l.inEdges.length;u++)t.set(l.inEdges[u].dataIndex,!0),o.push(l.inEdges[u].node1)}for(r=0;r<a.length;){var c=a[r];for(r++,e.set(c.dataIndex,!0),u=0;u<c.outEdges.length;u++)t.set(c.outEdges[u].dataIndex,!0),a.push(c.outEdges[u].node2)}}}return{edge:t.keys(),node:e.keys()}};var bS=wS;function wS(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==t?"":t,this.dataIndex=null==e?-1:e}IS.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)},IS.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},IS.prototype.getTrajectoryDataIndices=function(){for(var t=s.kW(),e=s.kW(),n=(t.set(this.dataIndex,!0),[this.node1]),i=[this.node2],o=0;o<n.length;){var a=n[o];o++,e.set(a.dataIndex,!0);for(var r=0;r<a.inEdges.length;r++)t.set(a.inEdges[r].dataIndex,!0),n.push(a.inEdges[r].node1)}for(o=0;o<i.length;){var l=i[o];for(o++,e.set(l.dataIndex,!0),r=0;r<l.outEdges.length;r++)t.set(l.outEdges[r].dataIndex,!0),i.push(l.outEdges[r].node2)}return{edge:t.keys(),node:e.keys()}};var MS=IS;function IS(t,e,n){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}function DS(t,e){return{getValue:function(n){var i=this[t][e];return i.getStore().get(i.getDimensionIndex(n||"value"),this.dataIndex)},setVisual:function(n,i){0<=this.dataIndex&&this[t][e].setItemVisual(this.dataIndex,n,i)},getVisual:function(n){return this[t][e].getItemVisual(this.dataIndex,n)},setLayout:function(n,i){0<=this.dataIndex&&this[t][e].setItemLayout(this.dataIndex,n,i)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}}s.jB(bS,DS("hostGraph","data")),s.jB(MS,DS("hostGraph","edgeData"));var TS,CS=Ye;function AS(t,e,n,i,o){for(var a=new CS(i),r=0;r<t.length;r++)a.addNode(s.Jv(t[r].id,t[r].name,r),r);var l,u=[],c=[],h=0;for(r=0;r<e.length;r++){var d=e[r],p=d.source,g=d.target;a.addEdge(p,g,h)&&(c.push(d),u.push(s.Jv(Z(d.id,null),p+" > "+g)),h++)}return("cartesian2d"===(i=n.get("coordinateSystem"))||"polar"===i?l=Mh(t,n):(i=(i=eo.get(i))&&i.dimensions||[],s.cq(i,"value")<0&&i.concat(["value"]),i=mh(t,{coordDimensions:i,encodeDefine:n.getEncode()}).dimensions,(l=new yh(i,n)).initData(t)),i=new yh(["value"],n)).initData(c,u),o&&o(l,i),qv({mainData:l,struct:a,structAttr:"graph",datas:{node:l,edge:i},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}function kS(){var t=null!==TS&&TS.apply(this,arguments)||this;return t.type=kS.type,t.hasSymbolVisual=!0,t}a(kS,TS=Ir),kS.prototype.init=function(t){TS.prototype.init.apply(this,arguments);var e=this;function n(){return e._categoriesData}this.legendVisualProvider=new Pp(n,n),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},kS.prototype.mergeOption=function(t){TS.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},kS.prototype.mergeDefaultAndTheme=function(t){TS.prototype.mergeDefaultAndTheme.apply(this,arguments),O(t,"edgeLabel",["show"])},kS.prototype.getInitialData=function(t,e){var n,i=t.edges||t.links||[],o=(t=t.data||t.nodes||[],this);if(t&&i)return x_(n=this)&&(n.__curvenessList=[],n.__edgeMap={},__(n)),n=AS(t,i,this,!0,(function(t,e){t.wrapMethod("getItemModel",(function(t){var e=o._categoriesModels[t.getShallow("category")];return e&&(e.parentModel=t.parentModel,t.parentModel=e),t}));var n=nn.prototype.getModel;function i(t,e){return(t=n.call(this,t,e)).resolveParentPath=a,t}function a(t){var e;return!t||"label"!==t[0]&&"label"!==t[1]?t:(e=t.slice(),"label"===t[0]?e[0]="edgeLabel":"label"===t[1]&&(e[1]="edgeLabel"),e)}e.wrapMethod("getItemModel",(function(t){return t.resolveParentPath=a,t.getModel=i,t}))})),s.S6(n.edges,(function(t){var e,n,i;e=t.node1,n=t.node2,i=this,t=t.dataIndex,x_(i)&&(e=S_(e,n,i),i=(n=i.__edgeMap)[b_(e)],n[e]&&!i?n[e].isForward=!0:i&&n[e]&&(i.isForward=!0,n[e].isForward=!1),n[e]=n[e]||[],n[e].push(t))}),this),n.data},kS.prototype.getGraph=function(){return this.getData().graph},kS.prototype.getEdgeData=function(){return this.getGraph().edgeData},kS.prototype.getCategoriesData=function(){return this._categoriesData},kS.prototype.formatTooltip=function(t,e,n){var i,o,a;return"edge"===n?(o=this.getData(),n=this.getDataParams(t,n),a=o.graph.getEdgeByIndex(t),i=o.getName(a.node1.dataIndex),o=o.getName(a.node2.dataIndex),a=[],null!=i&&a.push(i),null!=o&&a.push(o),Qa("nameValue",{name:a.join(" > "),value:n.value,noValue:null==n.value})):hr({series:this,dataIndex:t,multipleSeries:e})},kS.prototype._updateCategoriesData=function(){var t=s.UI(this.option.categories||[],(function(t){return null!=t.value?t:s.l7({value:0},t)})),e=new yh(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray((function(t){return e.getItemModel(t)}))},kS.prototype.setZoom=function(t){this.option.zoom=t},kS.prototype.setCenter=function(t){this.option.center=t},kS.prototype.isAnimationEnabled=function(){return TS.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},kS.type="series.graph",kS.dependencies=["grid","polar","geo","singleAxis","calendar"],kS.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}};var LS,PS=kS,RS={type:"graphRoam",event:"graphRoam",update:"none"},NS=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0};function OS(t){return(t=LS.call(this,t)||this).type="pointer",t}a(OS,LS=vt.ZP),OS.prototype.getDefaultShape=function(){return new NS},OS.prototype.buildPath=function(t,e){var n=Math.cos,i=Math.sin,o=e.r,a=e.width,r=e.angle,s=e.x-n(r)*a*(o/3<=a?1:2),l=e.y-i(r)*a*(o/3<=a?1:2);r=e.angle-Math.PI/2,t.moveTo(s,l),t.lineTo(e.x+n(r)*a,e.y+i(r)*a),t.lineTo(e.x+n(e.angle)*o,e.y+i(e.angle)*o),t.lineTo(e.x-n(r)*a,e.y-i(r)*a),t.lineTo(s,l)};var ES,VS=OS;function zS(t,e){var n=null==t?"":t+"";return e&&((0,s.HD)(e)?n=e.replace("{value}",n):(0,s.mf)(e)&&(n=e(t))),n}function BS(){var t=null!==ES&&ES.apply(this,arguments)||this;return t.type=BS.type,t}a(BS,ES=Os),BS.prototype.render=function(t,e,n){this.group.removeAll();var i,o,a,r,s=t.get(["axisLine","lineStyle","color"]),l=(o=n,a=(i=t).get("center"),r=o.getWidth(),l=o.getHeight(),r=Math.min(r,l),{cx:p(a[0],o.getWidth()),cy:p(a[1],o.getHeight()),r:p(i.get("radius"),r/2)});this._renderMain(t,e,n,s,l),this._data=t.getData()},BS.prototype.dispose=function(){},BS.prototype._renderMain=function(t,e,n,i,o){for(var a=this.group,r=t.get("clockwise"),l=-t.get("startAngle")/180*Math.PI,u=-t.get("endAngle")/180*Math.PI,c=(g=t.getModel("axisLine")).get("roundCap")?Gd:Vr.C,h=g.get("show"),d=g.getModel("lineStyle"),p=d.get("width"),g=[l,u],f=((0,ec.L)(g,!r),(u=g[1])-(l=g[0])),y=l,m=[],v=0;h&&v<i.length;v++){var x=new c({shape:{startAngle:y,endAngle:u=l+f*Math.min(Math.max(i[v][0],0),1),cx:o.cx,cy:o.cy,clockwise:r,r0:o.r-p,r:o.r},silent:!0});x.setStyle({fill:i[v][1]}),x.setStyle(d.getLineStyle(["color","width"])),m.push(x),y=u}function _(t){if(t<=0)return i[0][1];for(var e=0;e<i.length;e++)if(i[e][0]>=t&&(0===e?0:i[e-1][0])<t)return i[e][1];return i[e-1][1]}m.reverse(),(0,s.S6)(m,(function(t){return a.add(t)})),this._renderTicks(t,e,n,_,o,l,u,r,p),this._renderTitleAndDetail(t,e,n,_,o),this._renderAnchor(t,o),this._renderPointer(t,e,n,_,o,l,u,r,p)},BS.prototype._renderTicks=function(t,e,n,i,o,a,r,l,u){for(var c,h,d,f,y,m,v,x=this.group,_=o.cx,S=o.cy,b=o.r,w=+t.get("min"),M=+t.get("max"),I=t.getModel("splitLine"),D=t.getModel("axisTick"),T=t.getModel("axisLabel"),C=t.get("splitNumber"),A=D.get("splitNumber"),k=p(I.get("length"),b),L=p(D.get("length"),b),P=a,R=(r-a)/C,N=R/A,O=I.getModel("lineStyle").getLineStyle(),E=D.getModel("lineStyle").getLineStyle(),V=I.get("distance"),z=0;z<=C;z++)if(G=Math.cos(P),Z=Math.sin(P),I.get("show")&&(c=new Wr.Z({shape:{x1:G*(b-(v=V?V+u:u))+_,y1:Z*(b-v)+S,x2:G*(b-k-v)+_,y2:Z*(b-k-v)+S},style:O,silent:!0}),"auto"===O.stroke&&c.setStyle({stroke:i(z/C)}),x.add(c)),T.get("show")&&(v=T.get("distance")+V,c=zS(g(z/C*(M-w)+w),T.get("formatter")),h=i(z/C),d=G*(b-k-v)+_,f=Z*(b-k-v)+S,m=0,"radial"===(y=T.get("rotate"))?(m=-P+2*Math.PI)>Math.PI/2&&(m+=Math.PI):"tangential"===y?m=-P-Math.PI/2:(0,s.hj)(y)&&(m=y*Math.PI/180),0===m?x.add(new ft.ZP({style:Re(T,{text:c,x:d,y:f,verticalAlign:Z<-.8?"top":.8<Z?"bottom":"middle",align:G<-.4?"left":.4<G?"right":"center"},{inheritColor:h}),silent:!0})):x.add(new ft.ZP({style:Re(T,{text:c,x:d,y:f,verticalAlign:"middle",align:"center"},{inheritColor:h}),silent:!0,originX:d,originY:f,rotation:m}))),D.get("show")&&z!==C){v=(v=D.get("distance"))?v+u:u;for(var B=0;B<=A;B++){var G=Math.cos(P),Z=Math.sin(P),W=new Wr.Z({shape:{x1:G*(b-v)+_,y1:Z*(b-v)+S,x2:G*(b-L-v)+_,y2:Z*(b-L-v)+S},silent:!0,style:E});"auto"===E.stroke&&W.setStyle({stroke:i((z+B/A)/C)}),x.add(W),P+=N}P-=N}else P+=R},BS.prototype._renderPointer=function(t,e,n,i,o,a,r,l,u){var c=this.group,h=this._data,g=this._progressEls,f=[],y=t.get(["pointer","show"]),m=t.getModel("progress"),v=m.get("show"),x=t.getData(),_=x.mapDimension("value"),S=+t.get("min"),b=+t.get("max"),w=[S,b],M=[a,r];function I(e,n){var i=p((e=x.getItemModel(e).getModel("pointer")).get("width"),o.r),a=p(e.get("length"),o.r),r=t.get(["pointer","icon"]),s=p((l=e.get("offsetCenter"))[0],o.r),l=p(l[1],o.r);return e=e.get("keepAspect"),(r=r?Ol(r,s-i/2,l-a,i,a,null,e):new VS({shape:{angle:-Math.PI/2,width:i,r:a,x:s,y:l}})).rotation=-(n+Math.PI/2),r.x=o.cx,r.y=o.cy,r}function D(t,e){var n=m.get("roundCap")?Gd:Vr.C,i=m.get("overlap"),r=i?m.get("width"):u/x.count(),s=i?o.r-r:o.r-(t+1)*r;return r=i?o.r:o.r-t*r,n=new n({shape:{startAngle:a,endAngle:e,cx:o.cx,cy:o.cy,clockwise:l,r0:s,r:r}}),i&&(n.z2=d(x.get(_,t),[S,b],[100,0],!0)),n}(v||y)&&(x.diff(h).add((function(e){var n,i,o=x.get(_,e);y&&(be(n=I(e,a),{rotation:-((isNaN(+o)?M[0]:d(o,w,M,!0))+Math.PI/2)},t),c.add(n),x.setItemGraphicEl(e,n)),v&&(n=D(e,a),i=m.get("clip"),be(n,{shape:{endAngle:d(o,w,M,i)}},t),c.add(n),gt(t.seriesIndex,x.dataType,e,n),f[e]=n)})).update((function(e,n){var i,o,r=x.get(_,e);y&&((o=I(e,i=(i=h.getItemGraphicEl(n))?i.rotation:a)).rotation=i,Se(o,{rotation:-((isNaN(+r)?M[0]:d(r,w,M,!0))+Math.PI/2)},t),c.add(o),x.setItemGraphicEl(e,o)),v&&(o=D(e,(i=g[n])?i.shape.endAngle:a),n=m.get("clip"),Se(o,{shape:{endAngle:d(r,w,M,n)}},t),c.add(o),gt(t.seriesIndex,x.dataType,e,o),f[e]=o)})).execute(),x.each((function(t){var e,n,o,a,r=x.getItemModel(t),l=(c=r.getModel("emphasis")).get("focus"),u=c.get("blurScope"),c=c.get("disabled");y&&(e=x.getItemGraphicEl(t),o=(n=x.getItemVisual(t,"style")).fill,e instanceof Nr.ZP?(a=e.style,e.useStyle((0,s.l7)({image:a.image,x:a.x,y:a.y,width:a.width,height:a.height},n))):(e.useStyle(n),"pointer"!==e.type&&e.setColor(o)),e.setStyle(r.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===e.style.fill&&e.setStyle("fill",i(d(x.get(_,t),w,[0,1],!0))),e.z2EmphasisLift=0,pe(e,r),ue(e,l,u,c)),v&&((a=f[t]).useStyle(x.getItemVisual(t,"style")),a.setStyle(r.getModel(["progress","itemStyle"]).getItemStyle()),a.z2EmphasisLift=0,pe(a,r),ue(a,l,u,c))})),this._progressEls=f)},BS.prototype._renderAnchor=function(t,e){var n,i,o,a;(t=t.getModel("anchor")).get("show")&&(n=t.get("size"),a=t.get("icon"),i=t.get("offsetCenter"),o=t.get("keepAspect"),(a=Ol(a,e.cx-n/2+p(i[0],e.r),e.cy-n/2+p(i[1],e.r),n,n,null,o)).z2=t.get("showAbove")?1:0,a.setStyle(t.getModel("itemStyle").getItemStyle()),this.group.add(a))},BS.prototype._renderTitleAndDetail=function(t,e,n,i,o){var a=this,r=t.getData(),s=r.mapDimension("value"),l=+t.get("min"),u=+t.get("max"),c=new Dr.Z,h=[],g=[],f=t.isAnimationEnabled(),y=t.get(["pointer","showAbove"]);r.diff(this._data).add((function(t){h[t]=new ft.ZP({silent:!0}),g[t]=new ft.ZP({silent:!0})})).update((function(t,e){h[t]=a._titleEls[e],g[t]=a._detailEls[e]})).execute(),r.each((function(e){var n,a,m,v,x,_,S=r.getItemModel(e),b=r.get(s,e),w=new Dr.Z,M=i(d(b,[l,u],[0,1],!0));((_=S.getModel("title")).get("show")&&(n=_.get("offsetCenter"),a=o.cx+p(n[0],o.r),n=o.cy+p(n[1],o.r),(v=h[e]).attr({z2:y?0:2,style:Re(_,{x:a,y:n,text:r.getName(e),align:"center",verticalAlign:"middle"},{inheritColor:M})}),w.add(v)),_=S.getModel("detail")).get("show")&&(a=_.get("offsetCenter"),n=o.cx+p(a[0],o.r),S=o.cy+p(a[1],o.r),a=p(_.get("width"),o.r),m=p(_.get("height"),o.r),M=t.get(["progress","show"])?r.getItemVisual(e,"style").fill:M,v=g[e],x=_.get("formatter"),v.attr({z2:y?0:2,style:Re(_,{x:n,y:S,text:zS(b,x),width:isNaN(a)?null:a,height:isNaN(m)?null:m,align:"center",verticalAlign:"middle"},{inheritColor:M})}),Ze(v,{normal:_},b,(function(t){return zS(t,x)})),f&&We(v,e,r,t,{getFormattedLabel:function(t,e,n,i,o,a){return zS(a?a.interpolatedValue:b,x)}}),w.add(v)),c.add(w)})),this.group.add(c),this._titleEls=h,this._detailEls=g},BS.type="gauge";var GS,ZS=BS;function WS(){var t=null!==GS&&GS.apply(this,arguments)||this;return t.type=WS.type,t.visualStyleAccessPath="itemStyle",t}a(WS,GS=Ir),WS.prototype.getInitialData=function(t,e){return Ap(this,["value"])},WS.type="series.gauge",WS.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}};var FS,HS,US=WS,XS=["itemStyle","opacity"],YS=(a(JS,FS=Br.Z),JS.prototype.updateData=function(t,e,n){var i=t.hostModel,o=t.getItemModel(e),a=t.getItemLayout(e),r=o.getModel("emphasis"),s=null==(s=o.get(XS))?1:s;n||Te(this),this.useStyle(t.getItemVisual(e,"style")),this.style.lineJoin="round",n?(this.setShape({points:a.points}),this.style.opacity=0,be(this,{style:{opacity:s}},i,e)):Se(this,{style:{opacity:s},shape:{points:a.points}},i,e),pe(this,o),this._updateLabel(t,e),ue(this,r.get("focus"),r.get("blurScope"),r.get("disabled"))},JS.prototype._updateLabel=function(t,e){var n=this.getTextGuideLine(),i=this.getTextContent(),o=t.hostModel,a=t.getItemModel(e),r=t.getItemLayout(e).label,s=(l=t.getItemVisual(e,"style")).fill,l=(Le(i,Pe(a),{labelFetcher:t.hostModel,labelDataIndex:e,defaultOpacity:l.opacity,defaultText:t.getName(e)},{normal:{align:r.textAlign,verticalAlign:r.verticalAlign}}),this.setTextConfig({local:!0,inside:!!r.inside,insideStroke:s,outsideFill:s}),r.linePoints);n.setShape({points:l}),this.textGuideLineConfig={anchor:l?new jr.Z(l[0][0],l[0][1]):null},Se(i,{style:{x:r.x,y:r.y}},o,e),i.attr({rotation:r.rotation,originX:r.x,originY:r.y,z2:10}),bc(this,wc(a),{stroke:s})},JS);function JS(t,e){var n=FS.call(this)||this,i=n,o=new Gr.Z,a=new ft.ZP;return i.setTextContent(a),n.setTextGuideLine(o),n.updateData(t,e,!0),n}function jS(){var t=null!==HS&&HS.apply(this,arguments)||this;return t.type=jS.type,t.ignoreLabelLineUpdate=!0,t}a(jS,HS=Os),jS.prototype.render=function(t,e,n){var i=t.getData(),o=this._data,a=this.group;i.diff(o).add((function(t){var e=new YS(i,t);i.setItemGraphicEl(t,e),a.add(e)})).update((function(t,e){(e=o.getItemGraphicEl(e)).updateData(i,t),a.add(e),i.setItemGraphicEl(t,e)})).remove((function(e){De(o.getItemGraphicEl(e),t,e)})).execute(),this._data=i},jS.prototype.remove=function(){this.group.removeAll(),this._data=null},jS.prototype.dispose=function(){},jS.type="funnel";var KS,qS=jS;function $S(){var t=null!==KS&&KS.apply(this,arguments)||this;return t.type=$S.type,t}a($S,KS=Ir),$S.prototype.init=function(t){KS.prototype.init.apply(this,arguments),this.legendVisualProvider=new Pp(s.ak(this.getData,this),s.ak(this.getRawData,this)),this._defaultLabelLine(t)},$S.prototype.getInitialData=function(t,e){return Ap(this,{coordDimensions:["value"],encodeDefaulter:s.WA(ki,this)})},$S.prototype._defaultLabelLine=function(t){O(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},$S.prototype.getDataParams=function(t){var e=this.getData(),n=KS.prototype.getDataParams.call(this,t),i=e.mapDimension("value"),o=e.getSum(i);return n.percent=o?+(e.get(i,t)/o*100).toFixed(2):0,n.$vars.push("percent"),n},$S.type="series.funnel",$S.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}};var QS,tb=$S;function eb(t,e){t.eachSeriesByType("funnel",(function(t){function n(t,e){if("horizontal"===l){var n=d(i.get(o,t)||0,[m,v],y,!0),a=void 0;switch(x){case"top":a=f;break;case"center":a=f+(c-n)/2;break;case"bottom":a=f+(c-n)}return[[e,a],[e,a+n]]}var r,s=d(i.get(o,t)||0,[m,v],y,!0);switch(x){case"left":r=g;break;case"center":r=g+(u-s)/2;break;case"right":r=g+u-s}return[[r,e],[r+s,e]]}var i=t.getData(),o=i.mapDimension("value"),a=t.get("sort"),r=(r=e,ni(t.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})),l=t.get("orient"),u=r.width,c=r.height,h=function(t,e){for(var n=t.mapDimension("value"),i=t.mapArray(n,(function(t){return t})),o=[],a="ascending"===e,r=0,l=t.count();r<l;r++)o[r]=r;return(0,s.mf)(e)?o.sort(e):"none"!==e&&o.sort((function(t,e){return a?i[t]-i[e]:i[e]-i[t]})),o}(i,a),g=r.x,f=r.y,y="horizontal"===l?[p(t.get("minSize"),c),p(t.get("maxSize"),c)]:[p(t.get("minSize"),u),p(t.get("maxSize"),u)],m=(r=i.getDataExtent(o),t.get("min")),v=t.get("max"),x=(null==m&&(m=Math.min(r[0],0)),null==v&&(v=r[1]),t.get("funnelAlign")),_=t.get("gap"),S=(("horizontal"===l?u:c)-_*(i.count()-1))/i.count();"ascending"===a&&(S=-S,_=-_,"horizontal"===l?g+=u:f+=c,h=h.reverse());for(var b,w,M=0;M<h.length;M++){var I,D,T,C=h[M],A=h[M+1],k=i.getItemModel(C);"horizontal"===l?(null==(I=k.get(["itemStyle","width"]))?I=S:(I=p(I,u),"ascending"===a&&(I=-I)),D=n(C,g),T=n(A,g+I),g+=I+_):(null==(I=k.get(["itemStyle","height"]))?I=S:(I=p(I,c),"ascending"===a&&(I=-I)),D=n(C,f),T=n(A,f+I),f+=I+_),i.setItemLayout(C,{points:D.concat(T.slice().reverse())})}w=(b=i).hostModel.get("orient"),b.each((function(t){var e,n,i,o,a,r,s,l=(u=b.getItemModel(t)).getModel("label").get("position"),u=u.getModel("labelLine"),c=(t=b.getItemLayout(t)).points,h="inner"===l||"inside"===l||"center"===l||"insideLeft"===l||"insideRight"===l;l=h?(s="insideLeft"===l?(e=(c[0][0]+c[3][0])/2+5,n=(c[0][1]+c[3][1])/2,"left"):"insideRight"===l?(e=(c[1][0]+c[2][0])/2-5,n=(c[1][1]+c[2][1])/2,"right"):(e=(c[0][0]+c[1][0]+c[2][0]+c[3][0])/4,n=(c[0][1]+c[1][1]+c[2][1]+c[3][1])/4,"center"),[[e,n],[e,n]]):(r=a=o=i=void 0,u=u.get("length"),s="left"===l?(i=(c[3][0]+c[0][0])/2,o=(c[3][1]+c[0][1])/2,e=(a=i-u)-5,"right"):"right"===l?(i=(c[1][0]+c[2][0])/2,o=(c[1][1]+c[2][1])/2,e=(a=i+u)+5,"left"):"top"===l?(i=(c[3][0]+c[0][0])/2,n=(r=(o=(c[3][1]+c[0][1])/2)-u)-5,"center"):"bottom"===l?(i=(c[1][0]+c[2][0])/2,n=(r=(o=(c[1][1]+c[2][1])/2)+u)+5,"center"):"rightTop"===l?(i=("horizontal"===w?c[3]:c[1])[0],o=("horizontal"===w?c[3]:c[1])[1],"horizontal"===w?(n=(r=o-u)-5,"center"):(e=(a=i+u)+5,"top")):"rightBottom"===l?(i=c[2][0],o=c[2][1],"horizontal"===w?(n=(r=o+u)+5,"center"):(e=(a=i+u)+5,"bottom")):"leftTop"===l?(i=c[0][0],o=("horizontal"===w?c[0]:c[1])[1],"horizontal"===w?(n=(r=o-u)-5,"center"):(e=(a=i-u)-5,"right")):"leftBottom"===l?(i=("horizontal"===w?c[1]:c[3])[0],o=("horizontal"===w?c[1]:c[2])[1],"horizontal"===w?(n=(r=o+u)+5,"center"):(e=(a=i-u)-5,"right")):(i=(c[1][0]+c[2][0])/2,o=(c[1][1]+c[2][1])/2,"horizontal"===w?(n=(r=o+u)+5,"center"):(e=(a=i+u)+5,"left")),"horizontal"===w?e=a=i:n=r=o,[[i,o],[a,r]]),t.label={linePoints:l,x:e,y:n,verticalAlign:"middle",textAlign:s,inside:h}}))}))}function nb(){var t=null!==QS&&QS.apply(this,arguments)||this;return t.type=nb.type,t._dataGroup=new Dr.Z,t._initialized=!1,t}function ib(t,e,n,i){for(var o,a=[],r=0;r<n.length;r++){var s=n[r],l=t.get(t.mapDimension(s),e);o=l,("category"===i.getAxis(s).type?null==o:null==o||isNaN(o))||a.push(i.dataToPoint(l,s))}return a}function ob(t,e,n,i,o){return i=ib(t,n,i,o),o=new Gr.Z({shape:{points:i},z2:10}),e.add(o),t.setItemGraphicEl(n,o),o}function ab(t){return t=T(t=!0===(t=t.get("smooth",!0))?.3:t),{smooth:t=(0,s.Bu)(t)?0:t}}function rb(t,e,n,i){t.useStyle(e.getItemVisual(n,"style")),t.style.fill=null,t.setShape("smooth",i.smooth),i=e.getItemModel(n),e=i.getModel("emphasis"),pe(t,i,"lineStyle"),ue(t,e.get("focus"),e.get("blurScope"),e.get("disabled"))}a(nb,QS=Os),nb.prototype.init=function(){this.group.add(this._dataGroup)},nb.prototype.render=function(t,e,n,i){this._progressiveEls=null;var o,a,r,s,l,u=this._dataGroup,c=t.getData(),h=this._data,d=t.coordinateSystem,p=d.dimensions,g=ab(t);c.diff(h).add((function(t){rb(ob(c,u,t,p,d),c,t,g)})).update((function(e,n){n=h.getItemGraphicEl(n);var i=ib(c,e,p,d);c.setItemGraphicEl(e,n),Se(n,{shape:{points:i}},t,e),Te(n),rb(n,c,e,g)})).remove((function(t){t=h.getItemGraphicEl(t),u.remove(t)})).execute(),this._initialized||(this._initialized=!0,a=t,r=function(){setTimeout((function(){u.removeClipPath()}))},s=(o=d).model,o=o.getRect(),l=new Zr.Z({shape:{x:o.x,y:o.y,width:o.width,height:o.height}}),s="horizontal"===s.get("layout")?"width":"height",l.setShape(s,0),be(l,{shape:{width:o.width,height:o.height}},a,r),s=l,u.setClipPath(s)),this._data=c},nb.prototype.incrementalPrepareRender=function(t,e,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},nb.prototype.incrementalRender=function(t,e,n){for(var i=e.getData(),o=e.coordinateSystem,a=o.dimensions,r=ab(e),s=this._progressiveEls=[],l=t.start;l<t.end;l++){var u=ob(i,this._dataGroup,l,a,o);u.incremental=!0,rb(u,i,l,r),s.push(u)}},nb.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},nb.type="parallel";var sb,lb=nb;function ub(){var t=null!==sb&&sb.apply(this,arguments)||this;return t.type=ub.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}function cb(t){var e;if(t=t.ecModel.getComponent("parallel",t.get("parallelIndex")))return e={},(0,s.S6)(t.dimensions,(function(t){var n=+t.replace("dim","");e[t]=n})),e}a(ub,sb=Ir),ub.prototype.getInitialData=function(t,e){return Mh(null,this,{useEncodeDefaulter:(0,s.ak)(cb,null,this)})},ub.prototype.getRawIndicesByActiveState=function(t){var e=this.coordinateSystem,n=this.getData(),i=[];return e.eachActiveState(n,(function(e,o){t===e&&i.push(n.getRawIndex(o))})),i},ub.type="series.parallel",ub.dependencies=["parallel"],ub.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"};var hb,db=ub,pb=["lineStyle","opacity"],gb={seriesType:"parallel",reset:function(t,e){var n=t.coordinateSystem,i={normal:t.get(["lineStyle","opacity"]),active:t.get("activeOpacity"),inactive:t.get("inactiveOpacity")};return{progress:function(t,e){n.eachActiveState(e,(function(t,n){var o=i[t];"normal"===t&&e.hasItemOption&&null!=(t=e.getItemModel(n).get(pb,!0))&&(o=t),e.ensureUniqueItemVisual(n,"style").opacity=o}),t.start,t.end)}}}};function fb(t){var e,n,i;(i=t).parallel||(e=!1,s.S6(i.series,(function(t){t&&"parallel"===t.type&&(e=!0)})),e&&(i.parallel=[{}])),i=N((n=t).parallelAxis),s.S6(i,(function(t){var e;s.Kn(t)&&(e=t.parallelIndex||0,e=N(n.parallel)[e])&&e.parallelAxisDefault&&s.TS(t,e.parallelAxisDefault,!1)}))}function yb(){var t=null!==hb&&hb.apply(this,arguments)||this;return t.type=yb.type,t}a(yb,hb=Cr),yb.prototype.render=function(t,e,n){this._model=t,this._api=n,this._handlers||(this._handlers={},(0,s.S6)(mb,(function(t,e){n.getZr().on(e,this._handlers[e]=(0,s.ak)(t,this))}),this)),Gs(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},yb.prototype.dispose=function(t,e){Zs(this,"_throttledDispatchExpand"),(0,s.S6)(this._handlers,(function(t,n){e.getZr().off(n,t)})),this._handlers=null},yb.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},yb.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction((0,s.l7)({type:"parallelAxisExpand"},t))},yb.type="parallel";var mb={mousedown:function(t){vb(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(vb(this,"click")&&e){var n=[t.offsetX,t.offsetY];if(5<Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))return;"none"!==(e=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY])).behavior&&this._dispatchExpand({axisExpandWindow:e.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){var e,n;!this._mouseDownPoint&&vb(this,"mousemove")&&("jump"===(n=(t=(e=this._model).coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY])).behavior)&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===n?null:{axisExpandWindow:t.axisExpandWindow,animation:"jump"===n?null:{duration:0}}))}};function vb(t,e){return(t=t._model).get("axisExpandable")&&t.get("axisExpandTriggerOn")===e}var xb,_b=yb;function Sb(){var t=null!==xb&&xb.apply(this,arguments)||this;return t.type=Sb.type,t}a(Sb,xb=yi),Sb.prototype.init=function(){xb.prototype.init.apply(this,arguments),this.mergeOption({})},Sb.prototype.mergeOption=function(t){var e=this.option;t&&s.TS(e,t,!0),this._initDimensions()},Sb.prototype.contains=function(t,e){return null!=(t=t.get("parallelIndex"))&&e.getComponent("parallel",t)===this},Sb.prototype.setAxisExpand=function(t){s.S6(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],(function(e){t.hasOwnProperty(e)&&(this.option[e]=t[e])}),this)},Sb.prototype._initDimensions=function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[],n=s.hX(this.ecModel.queryComponents({mainType:"parallelAxis"}),(function(t){return(t.get("parallelIndex")||0)===this.componentIndex}),this);s.S6(n,(function(n){t.push("dim"+n.get("dim")),e.push(n.componentIndex)}))},Sb.type="parallel",Sb.dependencies=["parallelAxis"],Sb.layoutMode="box",Sb.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null};var bb,wb=Sb;function Mb(t,e,n,i,o){return(t=bb.call(this,t,e,n)||this).type=i||"value",t.axisIndex=o,t}a(Mb,bb=Al),Mb.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")};var Ib=Mb;function Db(t,e,n,i,o,a){t=t||0;var r=n[1]-n[0],s=(null!=o&&(o=Cb(o,[0,r])),null!=a&&(a=Math.max(a,null!=o?o:0)),"all"===i&&(s=Cb(s=Math.abs(e[1]-e[0]),[0,r]),o=a=Cb(s,[o,a]),i=0),e[0]=Cb(e[0],n),e[1]=Cb(e[1],n),r=Tb(e,i),e[i]+=t,o||0);return t=n.slice(),r.sign<0?t[0]+=s:t[1]-=s,e[i]=Cb(e[i],t),n=Tb(e,i),null!=o&&(n.sign!==r.sign||n.span<o)&&(e[1-i]=e[i]+r.sign*o),n=Tb(e,i),null!=a&&n.span>a&&(e[1-i]=e[i]+n.sign*a),e}function Tb(t,e){return t=t[e]-t[1-e],{span:Math.abs(t),sign:0<t||!(t<0)&&e?-1:1}}function Cb(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}var Ab=s.S6,kb=Math.min,Lb=Math.max,Pb=Math.floor,Rb=Math.ceil,Nb=g,Ob=Math.PI;function Eb(t,e,n){this.type="parallel",this._axesMap=s.kW(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,n)}function Vb(t,e){return kb(Lb(t,e[0]),e[1])}Eb.prototype._init=function(t,e,n){var i=t.dimensions,o=t.parallelAxisIndex;Ab(i,(function(t,n){n=o[n];var i=e.getComponent("parallelAxis",n);n="category"===(t=this._axesMap.set(t,new Ib(t,Kg(i),[0,0],i.get("type"),n))).type,t.onBand=n&&i.get("boundaryGap"),t.inverse=i.get("inverse"),(i.axis=t).model=i,t.coordinateSystem=i.coordinateSystem=this}),this)},Eb.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},Eb.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),n=e.axisBase,i=e.layoutBase,o=e.pixelDimIndex,a=t[1-o];return t=t[o],n<=a&&a<=n+e.axisLength&&i<=t&&t<=i+e.layoutLength},Eb.prototype.getModel=function(){return this._model},Eb.prototype._updateAxesFromSeries=function(t,e){e.eachSeries((function(n){var i;t.contains(n,e)&&(i=n.getData(),Ab(this.dimensions,(function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(i,i.mapDimension(t)),jg(e.scale,e.model)}),this))}),this)},Eb.prototype.resize=function(t,e){this._rect=ni(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},Eb.prototype.getRect=function(){return this._rect},Eb.prototype._makeLayoutInfo=function(){var t=this._model,e=this._rect,n=["x","y"],i=["width","height"],o=t.get("layout"),a="horizontal"===o?0:1,r=e[i[a]],s=[0,r],l=this.dimensions.length,u=Vb(t.get("axisExpandWidth"),s),c=Vb(t.get("axisExpandCount")||0,[0,l]),h=t.get("axisExpandable")&&3<l&&c<l&&1<c&&0<u&&0<r,d=t.get("axisExpandWindow"),p=(d?(p=Vb(d[1]-d[0],s),d[1]=d[0]+p):(p=Vb(u*(c-1),s),(d=[u*(t.get("axisExpandCenter")||Pb(l/2))-p/2])[1]=d[0]+p),(s=(r-p)/(l-c))<3&&(s=0),t=[Pb(Nb(d[0]/u,1))+1,Rb(Nb(d[1]/u,1))-1],s/u*d[0]);return{layout:o,pixelDimIndex:a,layoutBase:e[n[a]],layoutLength:r,axisBase:e[n[1-a]],axisLength:e[i[1-a]],axisExpandable:h,axisExpandWidth:u,axisCollapseWidth:s,axisExpandWindow:d,axisCount:l,winInnerIndices:t,axisExpandWindow0Pos:p}},Eb.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),o=i.layout;e.each((function(t){var e=[0,i.axisLength],n=t.inverse?1:0;t.setExtent(e[n],e[1-n])})),Ab(n,(function(e,n){n=(i.axisExpandable?function(t,e){var n,i,o=e.layoutLength,a=e.axisExpandWidth,r=e.axisCount,s=e.axisCollapseWidth,l=e.winInnerIndices,u=s,c=!1;return t<l[0]?(n=t*s,i=s):t<=l[1]?(n=e.axisExpandWindow0Pos+t*a-e.axisExpandWindow[0],u=a,c=!0):(n=o-(r-1-t)*s,i=s),{position:n,axisNameAvailableWidth:u,axisLabelShow:c,nameTruncateMaxWidth:i}}:function(t,e){return{position:(e=e.layoutLength/(e.axisCount-1))*t,axisNameAvailableWidth:e,axisLabelShow:!0}})(n,i);var a=[(a={horizontal:{x:n.position,y:i.axisLength},vertical:{x:0,y:n.position}})[o].x+t.x,a[o].y+t.y],r={horizontal:Ob/2,vertical:0}[o],s=Lr.Ue();Lr.U1(s,s,r),Lr.Iu(s,s,a),this._axesLayout[e]={position:a,rotation:r,transform:s,axisNameAvailableWidth:n.axisNameAvailableWidth,axisLabelShow:n.axisLabelShow,nameTruncateMaxWidth:n.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}}),this)},Eb.prototype.getAxis=function(t){return this._axesMap.get(t)},Eb.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},Eb.prototype.eachActiveState=function(t,e,n,i){null==n&&(n=0),null==i&&(i=t.count());for(var o=this._axesMap,a=this.dimensions,r=[],l=[],u=(s.S6(a,(function(e){r.push(t.mapDimension(e)),l.push(o.get(e).model)})),this.hasAxisBrushed()),c=n;c<i;c++){var h=void 0;if(u){h="active";for(var d=t.getValues(r,c),p=0,g=a.length;p<g;p++)if("inactive"===l[p].getActiveState(d[p])){h="inactive";break}}else h="normal";e(h,c)}},Eb.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,n=!1,i=0,o=t.length;i<o;i++)"normal"!==e.get(t[i]).model.getActiveState()&&(n=!0);return n},Eb.prototype.axisCoordToPoint=function(t,e){return fs([t,0],this._axesLayout[e].transform)},Eb.prototype.getAxisLayout=function(t){return s.d9(this._axesLayout[t])},Eb.prototype.getSlidedAxisExpandWindow=function(t){var e,n,i,o,a=this._makeLayoutInfo(),r=a.pixelDimIndex,s=a.axisExpandWindow.slice(),l=s[1]-s[0],u=[0,a.axisExpandWidth*(a.axisCount-1)];return this.containPoint(t)?(t=t[r]-a.layoutBase-a.axisExpandWindow0Pos,r="slide",n=a.axisCollapseWidth,o=null!=(i=this._model.get("axisExpandSlideTriggerArea"))[0],n?(o&&n&&t<l*i[0]?(r="jump",e=t-l*i[2]):o&&n&&t>l*(1-i[0])?(r="jump",e=t-l*(1-i[2])):0<=(e=t-l*i[1])&&(e=t-l*(1-i[1]))<=0&&(e=0),(e*=a.axisExpandWidth/n)?Db(e,s,u,"all"):r="none"):(o=s[1]-s[0],(s=[Lb(0,u[1]*t/o-o/2)])[1]=kb(u[1],s[0]+o),s[0]=s[1]-o),{axisExpandWindow:s,behavior:r}):{behavior:"none",axisExpandWindow:s}};var zb,Bb=Eb,Gb={create:function(t,e){var n=[];return t.eachComponent("parallel",(function(i,o){var a=new Bb(i,t,e);a.name="parallel_"+o,a.resize(i,e),(i.coordinateSystem=a).model=i,n.push(a)})),t.eachSeries((function(t){var e;"parallel"===t.get("coordinateSystem")&&(e=t.getReferringComponents("parallel",j).models[0],t.coordinateSystem=e.coordinateSystem)})),n}};function Zb(){var t=null!==zb&&zb.apply(this,arguments)||this;return t.type=Zb.type,t.activeIntervals=[],t}a(Zb,zb=yi),Zb.prototype.getAreaSelectStyle=function(){return ct([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},Zb.prototype.setActiveIntervals=function(t){var e=this.activeIntervals=s.d9(t);if(e)for(var n=e.length-1;0<=n;n--)f(e[n])},Zb.prototype.getActiveState=function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null!=t&&!isNaN(+t))if(1===e.length){var n=e[0];if(n[0]<=t&&t<=n[1])return"active"}else for(var i=0,o=e.length;i<o;i++)if(e[i][0]<=t&&t<=e[i][1])return"active";return"inactive"},Js=Zb,s.jB(Js,qp);var Wb,Fb=Js,Hb=!0,Ub=Math.min,Xb=Math.max,Yb=Math.pow,Jb=1e4,jb=6,Kb=6,qb="globalPan",$b={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Qb={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},tw={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},ew=0;function nw(t){var e=Wb.call(this)||this;return e._track=[],e._covers=[],e._handlers={},e._zr=t,e.group=new Dr.Z,e._uid="brushController_"+ew++,(0,s.S6)(Aw,(function(t,e){this._handlers[e]=(0,s.ak)(t,this)}),e),e}function iw(t,e){var n=Lw[e.brushType].createCover(t,e);return n.__brushOption=e,rw(n,e),t.group.add(n),n}function ow(t,e){var n=lw(e);return n.endCreating&&(n.endCreating(t,e),rw(e,e.__brushOption)),e}function aw(t,e){var n=e.__brushOption;lw(e).updateCoverShape(t,e,n.range,n)}function rw(t,e){var n=e.z;null==n&&(n=Jb),t.traverse((function(t){t.z=n,t.z2=n}))}function sw(t,e){lw(e).updateCommon(t,e),aw(t,e)}function lw(t){return Lw[t.__brushOption.brushType]}function uw(t,e,n){var i,o,a=t._panels;return a?(o=t._transform,(0,s.S6)(a,(function(t){t.isTargetByCursor(e,n,o)&&(i=t)})),i):Hb}function cw(t,e){return(t=t._panels)&&null!=(e=e.__brushOption.panelId)?t[e]:Hb}function hw(t){var e=t._covers,n=e.length;return(0,s.S6)(e,(function(e){t.group.remove(e)}),t),e.length=0,n}function dw(t,e){var n=(0,s.UI)(t._covers,(function(t){t=t.__brushOption;var e=(0,s.d9)(t.range);return{brushType:t.brushType,panelId:t.panelId,range:e}}));t.trigger("brush",{areas:n,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function pw(t){var e=t.length-1;return[t[0],t[e=e<0?0:e]]}function gw(t,e,n,i){var o=new Dr.Z;return o.add(new Zr.Z({name:"main",style:vw(n),silent:!0,draggable:!0,cursor:"move",drift:(0,s.WA)(Sw,t,e,o,["n","s","w","e"]),ondragend:(0,s.WA)(dw,e,{isEnd:!0})})),(0,s.S6)(i,(function(n){o.add(new Zr.Z({name:n.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:(0,s.WA)(Sw,t,e,o,n),ondragend:(0,s.WA)(dw,e,{isEnd:!0})}))})),o}function fw(t,e,n,i){var o,a=i.brushStyle.lineWidth||0,r=Xb(a,Kb),s=n[0][0],l=n[1][0],u=s-a/2,c=l-a/2,h=(o=n[0][1])-r+a/2,d=(n=n[1][1])-r+a/2,p=(o-=s)+a;a=(n-=l)+a,mw(t,e,"main",s,l,o,n),i.transformable&&(mw(t,e,"w",u,c,r,a),mw(t,e,"e",h,c,r,a),mw(t,e,"n",u,c,p,r),mw(t,e,"s",u,d,p,r),mw(t,e,"nw",u,c,r,r),mw(t,e,"ne",h,c,r,r),mw(t,e,"sw",u,d,r,r),mw(t,e,"se",h,d,r,r))}function yw(t,e){var n=e.__brushOption,i=n.transformable,o=e.childAt(0);o.useStyle(vw(n)),o.attr({silent:!i,cursor:i?"move":"default"}),(0,s.S6)([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],(function(n){var o=e.childOfName(n.join(""));n=1===n.length?_w(t,n[0]):function(t,e){return"e"!==(t=[_w(t,e[0]),_w(t,e[1])])[0]&&"w"!==t[0]||t.reverse(),t.join("")}(t,n),o&&o.attr({silent:!i,invisible:!i,cursor:i?Qb[n]+"-resize":null})}))}function mw(t,e,n,i,o,a,r){(n=e.childOfName(n))&&n.setShape((n=Mw(t,e,[[i,o],[i+a,o+r]]),{x:t=Ub(n[0][0],n[1][0]),y:e=Ub(n[0][1],n[1][1]),width:(i=Xb(n[0][0],n[1][0]))-t,height:(n=Xb(n[0][1],n[1][1]))-e}))}function vw(t){return(0,s.ce)({strokeNoScale:!0},t.brushStyle)}function xw(t,e,n,i){var o=[Ub(t,n),Ub(e,i)];return t=[Xb(t,n),Xb(e,i)],[[o[0],t[0]],[o[1],t[1]]]}function _w(t,e){return{left:"w",right:"e",top:"n",bottom:"s"}[ys({w:"left",e:"right",n:"top",s:"bottom"}[e],gs(t.group))]}function Sw(t,e,n,i,o,a){var r=n.__brushOption,l=t.toRectRange(r.range),u=ww(e,o,a);(0,s.S6)(i,(function(t){t=$b[t],l[t[0]][t[1]]+=u[t[0]]})),r.range=t.fromRectRange(xw(l[0][0],l[1][0],l[0][1],l[1][1])),sw(e,n),dw(e,{isEnd:!1})}function bw(t,e,n,i){var o=e.__brushOption.range,a=ww(t,n,i);(0,s.S6)(o,(function(t){t[0]+=a[0],t[1]+=a[1]})),sw(t,e),dw(t,{isEnd:!1})}function ww(t,e,n){return e=(t=t.group).transformCoordToLocal(e,n),n=t.transformCoordToLocal(0,0),[e[0]-n[0],e[1]-n[1]]}function Mw(t,e,n){return(e=cw(t,e))&&e!==Hb?e.clipPath(n,t._transform):(0,s.d9)(n)}function Iw(t){(t=t.event).preventDefault&&t.preventDefault()}function Dw(t,e,n){return t.childOfName("main").contain(e,n)}function Tw(t,e,n,i){var o,a,r=t._creatingCover,l=t._creatingPanel,u=t._brushOption;return t._track.push(n.slice()),function(t){var e,n;if((t=t._track).length)return n=t[t.length-1],t=t[0],e=n[0]-t[0],n=n[1]-t[1],t=Yb(e*e+n*n,.5),jb<t}(t)||r?(l&&!r&&("single"===u.brushMode&&hw(t),(a=(0,s.d9)(u)).brushType=Cw(a.brushType,l),a.panelId=l===Hb?null:l.panelId,r=t._creatingCover=iw(t,a),t._covers.push(r)),r&&(a=Lw[Cw(t._brushType,l)],r.__brushOption.range=a.getCreatingRange(Mw(t,r,t._track)),i&&(ow(t,r),a.updateCommon(t,r)),aw(t,r),o={isEnd:i})):i&&"single"===u.brushMode&&u.removeOnClick&&uw(t,e,n)&&hw(t)&&(o={isEnd:i,removeOnClick:!0}),o}function Cw(t,e){return"auto"===t?e.defaultBrushType:t}a(nw,Wb=c.Z),nw.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},nw.prototype._doEnableBrush=function(t){var e,n,i=this._zr;this._enableGlobalPan||(e=qb,n=this._uid,Fy(i)[e]=n),(0,s.S6)(this._handlers,(function(t,e){i.on(e,t)})),this._brushType=t.brushType,this._brushOption=(0,s.TS)((0,s.d9)(tw),t,!0)},nw.prototype._doDisableBrush=function(){var t,e,n,i=this._zr;t=i,e=qb,n=this._uid,(t=Fy(t))[e]===n&&(t[e]=null),(0,s.S6)(this._handlers,(function(t,e){i.off(e,t)})),this._brushType=this._brushOption=null},nw.prototype.setPanels=function(t){var e;return t&&t.length?(e=this._panels={},(0,s.S6)(t,(function(t){e[t.panelId]=(0,s.d9)(t)}))):this._panels=null,this},nw.prototype.mount=function(t){this._enableGlobalPan=(t=t||{}).enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=e.getLocalTransform(),this},nw.prototype.updateCovers=function(t){t=(0,s.UI)(t,(function(t){return(0,s.TS)((0,s.d9)(tw),t,!0)}));var e=this._covers,n=this._covers=[],i=this,o=this._creatingCover;return new Hc(e,t,(function(t,e){return a(t.__brushOption,e)}),a).add(r).update(r).remove((function(t){e[t]!==o&&i.group.remove(e[t])})).execute(),this;function a(t,e){return(null!=t.id?t.id:"\0-brush-index-"+e)+"-"+t.brushType}function r(a,r){var s=t[a];null!=r&&e[r]===o?n[a]=e[r]:(a=n[a]=null!=r?(e[r].__brushOption=s,e[r]):ow(i,iw(i,s)),sw(i,a))}},nw.prototype.unmount=function(){return this.enableBrush(!1),hw(this),this._zr.remove(this.group),this},nw.prototype.dispose=function(){this.unmount(),this.off()};var Aw={mousedown:function(t){var e;this._dragging?kw(this,t):t.target&&t.target.draggable||(Iw(t),e=this.group.transformCoordToLocal(t.offsetX,t.offsetY),this._creatingCover=null,(this._creatingPanel=uw(this,t,e))&&(this._dragging=!0,this._track=[e.slice()]))},mousemove:function(t){var e=t.offsetX,n=t.offsetY;(function(t,e,n){if(t._brushType&&!function(t,e,n){return t=t._zr,e<0||e>t.getWidth()||n<0||n>t.getHeight()}(t,e.offsetX,e.offsetY)){var i=t._zr,o=t._covers,a=uw(t,e,n);if(!t._dragging)for(var r=0;r<o.length;r++){var s=o[r].__brushOption;if(a&&(a===Hb||s.panelId===a.panelId)&&Lw[s.brushType].contain(o[r],n[0],n[1]))return}a&&i.setCursorStyle("crosshair")}})(this,t,e=this.group.transformCoordToLocal(e,n)),this._dragging&&(Iw(t),n=Tw(this,t,e,!1))&&dw(this,n)},mouseup:function(t){kw(this,t)}};function kw(t,e){var n,i;t._dragging&&(Iw(e),n=e.offsetX,i=e.offsetY,n=t.group.transformCoordToLocal(n,i),i=Tw(t,e,n,!0),t._dragging=!1,t._track=[],t._creatingCover=null,i)&&dw(t,i)}var Lw={lineX:Pw(0),lineY:Pw(1),rect:{createCover:function(t,e){function n(t){return t}return gw({toRectRange:n,fromRectRange:n},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){return xw((t=pw(t))[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(t,e,n,i){fw(t,e,n,i)},updateCommon:yw,contain:Dw},polygon:{createCover:function(t,e){var n=new Dr.Z;return n.add(new Gr.Z({name:"main",style:vw(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new Br.Z({name:"main",draggable:!0,drift:(0,s.WA)(bw,t,e),ondragend:(0,s.WA)(dw,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n,i){e.childAt(0).setShape({points:Mw(t,e,n)})},updateCommon:yw,contain:Dw}};function Pw(t){return{createCover:function(e,n){return gw({toRectRange:function(e){return e=[e,[0,100]],t&&e.reverse(),e},fromRectRange:function(e){return e[t]}},e,n,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(e){return e=pw(e),[Ub(e[0][t],e[1][t]),Xb(e[0][t],e[1][t])]},updateCoverShape:function(e,n,i,o){var a=[i,(a=cw(e,n))!==Hb&&a.getLinearBrushOtherExtent?a.getLinearBrushOtherExtent(t):[0,[(i=e._zr).getWidth(),i.getHeight()][1-t]]];t&&a.reverse(),fw(e,n,a,o)},updateCommon:yw,contain:Dw}}var Rw=nw;function Nw(t){return t=Vw(t),function(e){return xs(e,t)}}function Ow(t,e){return t=Vw(t),function(n){var i=(n=null!=e?e:n)?t.width:t.height;return[n=n?t.x:t.y,n+(i||0)]}}function Ew(t,e,n){var i=Vw(t);return function(t,o){return i.contain(o[0],o[1])&&!$y(t,e,n)}}function Vw(t){return sn.Z.create(t)}var zw,Bw=["axisLine","axisTickLabel","axisName"];function Gw(){var t=null!==zw&&zw.apply(this,arguments)||this;return t.type=Gw.type,t}a(Gw,zw=Cr),Gw.prototype.init=function(t,e){zw.prototype.init.apply(this,arguments),(this._brushController=new Rw(e.getZr())).on("brush",s.ak(this._onBrush,this))},Gw.prototype.render=function(t,e,n,i){var o,a,r,l;l=t,o=e,i&&"axisAreaSelect"===i.type&&o.findComponents({mainType:"parallelAxis",query:i})[0]===l||(this.axisModel=t,this.api=n,this.group.removeAll(),o=this._axisGroup,this._axisGroup=new Dr.Z,this.group.add(this._axisGroup),t.get("show")&&(l=(i=e.getComponent("parallel",t.get("parallelIndex"))).coordinateSystem,a=(e=t.getAreaSelectStyle()).width,r=t.axis.dim,l=l.getAxisLayout(r),r=s.l7({strokeContainThreshold:a},l),l=new Zf(t,r),s.S6(Bw,l.add,l),this._axisGroup.add(l.getGroup()),this._refreshBrushController(r,e,t,i,a,n),vs(o,this._axisGroup,t)))},Gw.prototype._refreshBrushController=function(t,e,n,i,o,a){var r,l,u=(l=n.axis.getExtent())[1]-l[0],c=Math.min(30,.1*Math.abs(u));(l=sn.Z.create({x:l[0],y:-o/2,width:u,height:o})).x-=c,l.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:Nw(l),isTargetByCursor:Ew(l,a,i),getLinearBrushOtherExtent:Ow(l,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:!0}).updateCovers((r=n.axis,s.UI(n.activeIntervals,(function(t){return{brushType:"lineX",panelId:"pl",range:[r.dataToCoord(t[0],!0),r.dataToCoord(t[1],!0)]}}))))},Gw.prototype._onBrush=function(t){var e=t.areas,n=this.axisModel,i=n.axis;e=s.UI(e,(function(t){return[i.coordToData(t.range[0],!0),i.coordToData(t.range[1],!0)]})),!n.option.realtime!==t.isEnd&&!t.removeOnClick||this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:e})},Gw.prototype.dispose=function(){this._brushController.dispose()},Gw.type="parallelAxis";var Zw=Gw,Ww={type:"axisAreaSelect",event:"axisAreaSelected"},Fw={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function Hw(t){t.registerComponentView(_b),t.registerComponentModel(wb),t.registerCoordinateSystem("parallel",Gb),t.registerPreprocessor(fb),t.registerComponentModel(Fb),t.registerComponentView(Zw),lg(t,"parallel",Fb,Fw),t.registerAction(Ww,(function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},(function(e){e.axis.model.setActiveIntervals(t.intervals)}))})),t.registerAction("parallelAxisExpand",(function(t,e){e.eachComponent({mainType:"parallel",query:t},(function(e){e.setAxisExpand(t)}))}))}var Uw,Xw,Yw=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},Jw=(a(jw,Uw=vt.ZP),jw.prototype.getDefaultShape=function(){return new Yw},jw.prototype.buildPath=function(t,e){var n=e.extent;t.moveTo(e.x1,e.y1),t.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2),"vertical"===e.orient?(t.lineTo(e.x2+n,e.y2),t.bezierCurveTo(e.cpx2+n,e.cpy2,e.cpx1+n,e.cpy1,e.x1+n,e.y1)):(t.lineTo(e.x2,e.y2+n),t.bezierCurveTo(e.cpx2,e.cpy2+n,e.cpx1,e.cpy1+n,e.x1,e.y1+n)),t.closePath()},jw.prototype.highlight=function(){Kt(this)},jw.prototype.downplay=function(){qt(this)},jw);function jw(t){return Uw.call(this,t)||this}function Kw(){var t=null!==Xw&&Xw.apply(this,arguments)||this;return t.type=Kw.type,t._focusAdjacencyDisabled=!1,t}function qw(t,e,n){switch(t.fill){case"source":t.fill=n.node1.getVisual("color"),t.decal=n.node1.getVisual("style").decal;break;case"target":t.fill=n.node2.getVisual("color"),t.decal=n.node2.getVisual("style").decal;break;case"gradient":var i=n.node1.getVisual("color"),o=n.node2.getVisual("color");(0,s.HD)(i)&&(0,s.HD)(o)&&(t.fill=new Xr.Z(0,0,+("horizontal"===e),+("vertical"===e),[{color:i,offset:0},{color:o,offset:1}]))}}a(Kw,Xw=Os),Kw.prototype.render=function(t,e,n){var i,o,a=this,r=t.getGraph(),l=this.group,u=t.layoutInfo,c=u.width,h=u.height,d=t.getData(),p=t.getData("edge"),g=t.get("orient");this._model=t,l.removeAll(),l.x=u.x,l.y=u.y,r.eachEdge((function(e){var n,i,o,a,r,u,d,f,y=new Jw,m=((f=yt(y)).dataIndex=e.dataIndex,f.seriesIndex=t.seriesIndex,f.dataType="edge",f=e.getModel()).getModel("lineStyle"),v=m.get("curveness"),x=e.node1.getLayout(),_=(S=e.node1.getModel()).get("localX"),S=S.get("localY"),b=e.node2.getLayout(),w=(M=e.node2.getModel()).get("localX"),M=M.get("localY"),I=e.getLayout(),D=(y.shape.extent=Math.max(1,I.dy),_="vertical"===(y.shape.orient=g)?(n=(null!=_?_*c:x.x)+I.sy,i=(null!=S?S*h:x.y)+x.dy,o=(null!=w?w*c:b.x)+I.ty,r=n,u=i*(1-v)+(a=null!=M?M*h:b.y)*v,d=o,i*v+a*(1-v)):(n=(null!=_?_*c:x.x)+x.dx,i=(null!=S?S*h:x.y)+I.sy,r=n*(1-v)+(o=null!=w?w*c:b.x)*v,u=i,d=n*v+o*(1-v),a=(null!=M?M*h:b.y)+I.ty),y.setShape({x1:n,y1:i,x2:o,y2:a,cpx1:r,cpy1:u,cpx2:d,cpy2:_}),y.useStyle(m.getItemStyle()),qw(y.style,g,e),""+f.get("value")),T=Pe(f,"edgeLabel");Le(y,T,{labelFetcher:{getFormattedLabel:function(e,n,i,o,a,r){return t.getFormattedLabel(e,n,"edge",o,(0,s.R1)(a,T.normal&&T.normal.get("formatter"),D),r)}},labelDataIndex:e.dataIndex,defaultText:D}),y.setTextConfig({position:"inside"}),S=f.getModel("emphasis"),pe(y,f,"lineStyle",(function(t){return qw(t=t.getItemStyle(),g,e),t})),l.add(y),p.setItemGraphicEl(e.dataIndex,y),ue(y,"adjacency"===(x=S.get("focus"))?e.getAdjacentDataIndices():"trajectory"===x?e.getTrajectoryDataIndices():x,S.get("blurScope"),S.get("disabled"))})),r.eachNode((function(e){var n=e.getLayout(),i=e.getModel(),o=i.get("localX"),a=i.get("localY"),r=i.getModel("emphasis"),s=i.get(["itemStyle","borderRadius"])||0;Le(o=new Zr.Z({shape:{x:null!=o?o*c:n.x,y:null!=a?a*h:n.y,width:n.dx,height:n.dy,r:s},style:i.getModel("itemStyle").getItemStyle(),z2:10}),Pe(i),{labelFetcher:{getFormattedLabel:function(e,n){return t.getFormattedLabel(e,n,"node")}},labelDataIndex:e.dataIndex,defaultText:e.id}),o.disableLabelAnimation=!0,o.setStyle("fill",e.getVisual("color")),o.setStyle("decal",e.getVisual("style").decal),pe(o,i),l.add(o),d.setItemGraphicEl(e.dataIndex,o),yt(o).dataType="node",ue(o,"adjacency"===(a=r.get("focus"))?e.getAdjacentDataIndices():"trajectory"===a?e.getTrajectoryDataIndices():a,r.get("blurScope"),r.get("disabled"))})),d.eachItemGraphicEl((function(e,i){d.getItemModel(i).get("draggable")&&(e.drift=function(e,o){a._focusAdjacencyDisabled=!0,this.shape.x+=e,this.shape.y+=o,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:d.getRawIndex(i),localX:this.shape.x/c,localY:this.shape.y/h})},e.ondragend=function(){a._focusAdjacencyDisabled=!1},e.draggable=!0,e.cursor="move")})),!this._data&&t.isAnimationEnabled()&&l.setClipPath((u=l.getBoundingRect(),r=t,i=function(){l.removeClipPath()},be(o=new Zr.Z({shape:{x:u.x-10,y:u.y-10,width:0,height:u.height+20}}),{shape:{width:u.width+20}},r,i),o)),this._data=t.getData()},Kw.prototype.dispose=function(){},Kw.type="sankey";var $w,Qw=Kw;function tM(){var t=null!==$w&&$w.apply(this,arguments)||this;return t.type=tM.type,t}a(tM,$w=Ir),tM.prototype.getInitialData=function(t,e){for(var n=t.edges||t.links||[],i=t.data||t.nodes||[],o=t.levels||[],a=(this.levelModels=[],this.levelModels),r=0;r<o.length;r++)null!=o[r].depth&&0<=o[r].depth&&(a[o[r].depth]=new nn(o[r],this,e));return AS(i,n,this,!0,(function(t,e){t.wrapMethod("getItemModel",(function(t,e){var n=t.parentModel;return(e=n.getData().getItemLayout(e))&&(e=e.depth,n=n.levelModels[e])&&(t.parentModel=n),t})),e.wrapMethod("getItemModel",(function(t,e){var n=t.parentModel;return(e=n.getGraph().getEdgeByIndex(e).node1.getLayout())&&(e=e.depth,n=n.levelModels[e])&&(t.parentModel=n),t}))})).data},tM.prototype.setNodePosition=function(t,e){(t=(this.option.data||this.option.nodes)[t]).localX=e[0],t.localY=e[1]},tM.prototype.getGraph=function(){return this.getData().graph},tM.prototype.getEdgeData=function(){return this.getGraph().edgeData},tM.prototype.formatTooltip=function(t,e,n){function i(t){return isNaN(t)||null==t}var o,a;return"edge"===n?(o=(a=this.getDataParams(t,n)).data,a=a.value,Qa("nameValue",{name:o.source+" -- "+o.target,value:a,noValue:i(a)})):(o=this.getGraph().getNodeByIndex(t).getLayout().value,Qa("nameValue",{name:null!=(a=this.getDataParams(t,n).data.name)?a+"":null,value:o,noValue:i(o)}))},tM.prototype.optionUpdated=function(){},tM.prototype.getDataParams=function(t,e){var n=$w.prototype.getDataParams.call(this,t,e);return null==n.value&&"node"===e&&(e=this.getGraph().getNodeByIndex(t).getLayout().value,n.value=e),n},tM.type="series.sankey",tM.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3};var eM,nM=tM;function iM(t,e){t.eachSeriesByType("sankey",(function(t){var n=t.get("nodeWidth"),i=t.get("nodeGap"),o=(o=e,ni(t.getBoxLayoutParams(),{width:o.getWidth(),height:o.getHeight()})),a=(t.layoutInfo=o).width,r=(o=o.height,(l=t.getGraph()).nodes),l=l.edges;s.S6(r,(function(t){var e=dM(t.outEdges,hM),n=dM(t.inEdges,hM),i=t.getValue()||0;e=Math.max(e,n,i),t.setLayout({value:e},!0)}));for(var u=0!==s.hX(r,(function(t){return 0===t.getLayout().value})).length?0:t.get("layoutIterations"),c=t.get("orient"),h=(t=t.get("nodeAlign"),r),d=l,p=n,g=(a=n=a,o),f=c,y=[],m=[],v=[],x=[],_=0,S=0;S<d.length;S++)y[S]=1;for(S=0;S<h.length;S++)m[S]=h[S].inEdges.length,0===m[S]&&v.push(h[S]);for(var b=-1;v.length;){for(var w=0;w<v.length;w++){var M=v[w],I=M.hostGraph.data.getRawDataItem(M.dataIndex),D=null!=I.depth&&0<=I.depth;D&&I.depth>b&&(b=I.depth),M.setLayout({depth:D?I.depth:_},!0),"vertical"===f?M.setLayout({dy:p},!0):M.setLayout({dx:p},!0);for(var T=0;T<M.outEdges.length;T++){var C=M.outEdges[T],A=(y[A=d.indexOf(C)]=0,C.node2);0==--m[C=h.indexOf(A)]&&x.indexOf(A)<0&&x.push(A)}}++_,v=x,x=[]}for(S=0;S<y.length;S++)if(1===y[S])throw new Error("Sankey is a DAG, the original data has cycle!");var k=_-1<b?b:_-1;if(t&&"left"!==t){var L=h,P=k;if("right"===t){for(var R=[],N=L,O=0;N.length;){for(var E=0;E<N.length;E++){var V=N[E];V.setLayout({skNodeHeight:O},!0);for(var z=0;z<V.inEdges.length;z++){var B=V.inEdges[z];R.indexOf(B.node1)<0&&R.push(B.node1)}}N=R,R=[],++O}s.S6(L,(function(t){oM(t)||t.setLayout({depth:Math.max(0,P-t.getLayout().skNodeHeight)},!0)}))}else if("justify"===t){var G=L,Z=P;s.S6(G,(function(t){oM(t)||t.outEdges.length||t.setLayout({depth:Z},!0)}))}}t=h;var W="vertical"===f?(g-p)/k:(a-p)/k,F=f;s.S6(t,(function(t){var e=t.getLayout().depth*W;"vertical"===F?t.setLayout({y:e},!0):t.setLayout({x:e},!0)})),L=l;var H=o,U=n,X=i,Y=u,J=c,j=function(t,e){var n=[],i="vertical"===e?"y":"x",o=Q(t,(function(t){return t.getLayout()[i]}));return o.keys.sort((function(t,e){return t-e})),s.S6(o.keys,(function(t){n.push(o.buckets.get(t))})),n}(r,J),K=(g=j,a=L,H),q=U,$=X,tt=J,et=1/0;s.S6(g,(function(t){var e=t.length,n=0;s.S6(t,(function(t){n+=t.getLayout().value})),(t="vertical"===tt?(q-(e-1)*$)/n:(K-(e-1)*$)/n)<et&&(et=t)})),s.S6(g,(function(t){s.S6(t,(function(t,e){var n=t.getLayout().value*et;"vertical"===tt?(t.setLayout({x:e},!0),t.setLayout({dx:n},!0)):(t.setLayout({y:e},!0),t.setLayout({dy:n},!0))}))})),s.S6(a,(function(t){var e=+t.getValue()*et;t.setLayout({dy:e},!0)})),aM(j,X,H,U,J);for(var nt=1;0<Y;Y--)!function(t,e,n){s.S6(t.slice().reverse(),(function(t){s.S6(t,(function(t){var i,o;t.outEdges.length&&(i=dM(t.outEdges,rM,n)/dM(t.outEdges,hM),isNaN(i)&&(i=(o=t.outEdges.length)?dM(t.outEdges,sM,n)/o:0),"vertical"===n?(o=t.getLayout().x+(i-cM(t,n))*e,t.setLayout({x:o},!0)):(o=t.getLayout().y+(i-cM(t,n))*e,t.setLayout({y:o},!0)))}))}))}(j,nt*=.99,J),aM(j,X,H,U,J),function(t,e,n){s.S6(t,(function(t){s.S6(t,(function(t){var i,o;t.inEdges.length&&(i=dM(t.inEdges,lM,n)/dM(t.inEdges,hM),isNaN(i)&&(i=(o=t.inEdges.length)?dM(t.inEdges,uM,n)/o:0),"vertical"===n?(o=t.getLayout().x+(i-cM(t,n))*e,t.setLayout({x:o},!0)):(o=t.getLayout().y+(i-cM(t,n))*e,t.setLayout({y:o},!0)))}))}))}(j,nt,J),aM(j,X,H,U,J);k=r;var it="vertical"===c?"x":"y";s.S6(k,(function(t){t.outEdges.sort((function(t,e){return t.node2.getLayout()[it]-e.node2.getLayout()[it]})),t.inEdges.sort((function(t,e){return t.node1.getLayout()[it]-e.node1.getLayout()[it]}))})),s.S6(k,(function(t){var e=0,n=0;s.S6(t.outEdges,(function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy})),s.S6(t.inEdges,(function(t){t.setLayout({ty:n},!0),n+=t.getLayout().dy}))}))}))}function oM(t){return null!=(t=t.hostGraph.data.getRawDataItem(t.dataIndex)).depth&&0<=t.depth}function aM(t,e,n,i,o){var a="vertical"===o?"x":"y";s.S6(t,(function(t){t.sort((function(t,e){return t.getLayout()[a]-e.getLayout()[a]}));for(var r,s,l,u=0,c=t.length,h="vertical"===o?"dx":"dy",d=0;d<c;d++)0<(l=u-(s=t[d]).getLayout()[a])&&(r=s.getLayout()[a]+l,"vertical"===o?s.setLayout({x:r},!0):s.setLayout({y:r},!0)),u=s.getLayout()[a]+s.getLayout()[h]+e;if(0<(l=u-e-("vertical"===o?i:n)))for(r=s.getLayout()[a]-l,"vertical"===o?s.setLayout({x:r},!0):s.setLayout({y:r},!0),u=r,d=c-2;0<=d;--d)0<(l=(s=t[d]).getLayout()[a]+s.getLayout()[h]+e-u)&&(r=s.getLayout()[a]-l,"vertical"===o?s.setLayout({x:r},!0):s.setLayout({y:r},!0)),u=s.getLayout()[a]}))}function rM(t,e){return cM(t.node2,e)*t.getValue()}function sM(t,e){return cM(t.node2,e)}function lM(t,e){return cM(t.node1,e)*t.getValue()}function uM(t,e){return cM(t.node1,e)}function cM(t,e){return"vertical"===e?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function hM(t){return t.getValue()}function dM(t,e,n){for(var i=0,o=t.length,a=-1;++a<o;){var r=+e(t[a],n);isNaN(r)||(i+=r)}return i}function pM(t){t.eachSeriesByType("sankey",(function(t){var e,n,i=(o=t.getGraph()).nodes,o=o.edges;i.length&&(e=1/0,n=-1/0,s.S6(i,(function(t){(t=t.getLayout().value)<e&&(e=t),n<t&&(n=t)})),s.S6(i,(function(i){var o=new Kx({type:"color",mappingMethod:"linear",dataExtent:[e,n],visual:t.get("color")}).mapValueToVisual(i.getLayout().value),a=i.getModel().get(["itemStyle","color"]);null!=a?(i.setVisual("color",a),i.setVisual("style",{fill:a})):(i.setVisual("color",o),i.setVisual("style",{fill:o}))}))),o.length&&s.S6(o,(function(t){var e=t.getModel().get("lineStyle");t.setVisual("style",e)}))}))}function gM(){}function fM(){var t=null!==eM&&eM.apply(this,arguments)||this;return t.type=fM.type,t.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],t.visualDrawType="stroke",t}gM.prototype._hasEncodeRule=function(t){var e=this.getEncode();return e&&null!=e.get(t)},gM.prototype.getInitialData=function(t,e){var n,i,o=e.getComponent("xAxis",this.get("xAxisIndex")),a=(e=e.getComponent("yAxis",this.get("yAxisIndex")),o.get("type")),r=e.get("type"),l=("category"===a?(t.layout="horizontal",n=o.getOrdinalMeta(),u=!this._hasEncodeRule("x")):"category"===r?(t.layout="vertical",n=e.getOrdinalMeta(),u=!this._hasEncodeRule("y")):t.layout=t.layout||"horizontal",a=["x","y"],r="horizontal"===t.layout?0:1,this._baseAxisDim=a[r]),u=(a=a[1-r],e=(o=[o,e])[r].get("type"),o=o[1-r].get("type"),(r=t.data)&&u&&(i=[],s.S6(r,(function(t,e){var n;s.kJ(t)?(n=t.slice(),t.unshift(e)):s.kJ(t.value)?((n=s.l7({},t)).value=n.value.slice(),t.value.unshift(e)):n=t,i.push(n)})),t.data=i),this.defaultValueDimensions);return Ap(this,{coordDimensions:r=[{name:l,type:Jc(e),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:a,type:Jc(o),dimsDef:u.slice()}],dimensionsCount:u.length+1,encodeDefaulter:s.WA(Ai,r,this)})},gM.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},ml=gM,a(fM,eM=Ir),fM.type="series.boxplot",fM.dependencies=["xAxis","yAxis","grid"],fM.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e=fM,(0,s.jB)(e,ml,!0);var yM,mM=e;function vM(){var t=null!==yM&&yM.apply(this,arguments)||this;return t.type=vM.type,t}a(vM,yM=Os),vM.prototype.render=function(t,e,n){var i=t.getData(),o=this.group,a=this._data,r=(this._data||o.removeAll(),"horizontal"===t.get("layout")?1:0);i.diff(a).add((function(t){var e;i.hasValue(t)&&(e=wM(i.getItemLayout(t),i,t,r,!0),i.setItemGraphicEl(t,e),o.add(e))})).update((function(t,e){var n;e=a.getItemGraphicEl(e),i.hasValue(t)?(n=i.getItemLayout(t),e?(Te(e),MM(n,e,i,t)):e=wM(n,i,t,r),o.add(e),i.setItemGraphicEl(t,e)):o.remove(e)})).remove((function(t){(t=a.getItemGraphicEl(t))&&o.remove(t)})).execute(),this._data=i},vM.prototype.remove=function(t){var e=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl((function(t){t&&e.remove(t)}))},vM.type="boxplot",vl=vM;var xM,_M=function(){},SM=(a(bM,xM=vt.ZP),bM.prototype.getDefaultShape=function(){return new _M},bM.prototype.buildPath=function(t,e){var n=e.points,i=0;for(t.moveTo(n[i][0],n[i][1]),i++;i<4;i++)t.lineTo(n[i][0],n[i][1]);for(t.closePath();i<n.length;i++)t.moveTo(n[i][0],n[i][1]),t.lineTo(n[++i][0],n[i][1])},bM);function bM(t){return(t=xM.call(this,t)||this).type="boxplotBoxPath",t}function wM(t,e,n,i,o){var a,r,l=t.ends;return i=new SM({shape:{points:o?(a=i,r=t,s.UI(l,(function(t){return(t=t.slice())[a]=r.initBaseline,t}))):l}}),MM(t,i,e,n,o),i}function MM(t,e,n,o,a){var r=n.hostModel;t=((0,i[a?"initProps":"updateProps"])(e,{shape:{points:t.ends}},r,o),e.useStyle(n.getItemVisual(o,"style")),e.style.strokeNoScale=!0,e.z2=100,a=n.getItemModel(o)).getModel("emphasis"),pe(e,a),ue(e,t.get("focus"),t.get("blurScope"),t.get("disabled"))}var IM=vl,DM=s.S6;function TM(t){var e,n;e=[],n=[],t.eachSeriesByType("boxplot",(function(t){var i=t.getBaseAxis(),o=s.cq(n,i);o<0&&(o=n.length,n[o]=i,e[o]={axis:i,seriesModels:[]}),e[o].seriesModels.push(t)})),DM(e,(function(t){var e,n,i,o,a,r,l,u,c,h,d,g,f=t.seriesModels;f.length&&(c=(e=t).axis,o=(i=e.seriesModels).length,a=e.boxWidthList=[],r=e.boxOffsetList=[],l=[],n="category"===c.type?c.getBandWidth():(u=0,DM(i,(function(t){u=Math.max(u,t.getData().count())})),e=c.getExtent(),Math.abs(e[1]-e[0])/u),DM(i,(function(t){t=t.get("boxWidth"),s.kJ(t)||(t=[t,t]),l.push([p(t[0],n)||0,p(t[1],n)||0])})),h=(c=.8*n-2)/o*.3,g=(d=(c-h*(o-1))/o)/2-c/2,DM(i,(function(t,e){r.push(g),g+=h+d,a.push(Math.min(Math.max(d,l[e][0]),l[e][1]))})),DM(f,(function(e,n){var i=t.boxOffsetList[n],o=(n=t.boxWidthList[n],e.coordinateSystem),a=e.getData(),r=n/2,s="horizontal"===e.get("layout")?0:1,l=1-s,u=(n=["x","y"],a.mapDimension(n[s])),c=a.mapDimensionsAll(n[l]);if(!(null==u||c.length<5))for(var h=0;h<a.count();h++){var d=v(y=a.get(u,h),c[2],h),p=v(y,c[0],h),g=v(y,c[1],h),f=v(y,c[3],h),y=v(y,c[4],h),m=[];x(m,g,!1),x(m,f,!0),m.push(p,g,y,f),_(m,p),_(m,y),_(m,d),a.setItemLayout(h,{initBaseline:d[l],ends:m})}function v(t,e,n){var r;return e=a.get(e,n),(n=[])[s]=t,n[l]=e,isNaN(t)||isNaN(e)?r=[NaN,NaN]:(r=o.dataToPoint(n))[s]+=i,r}function x(t,e,n){var i=e.slice();e=e.slice(),i[s]+=r,e[s]-=r,n?t.push(i,e):t.push(e,i)}function _(t,e){var n=e.slice();e=e.slice(),n[s]-=r,e[s]+=r,t.push(n,e)}})))}))}var CM={type:"echarts:boxplot",transform:function(t){var e=((e=t.upstream).sourceFormat!==_i&&ga(""),function(t,e){for(var n=[],i=[],o=(e=e||{}).boundIQR,a="none"===o||0===o,r=0;r<t.length;r++){var l=f(t[r].slice()),u=I(l,.25),c=I(l,.5),h=I(l,.75),d=l[0],p=l[l.length-1],g=(null==o?1.5:o)*(h-u),y=a?d:Math.max(d,u-g),m=a?p:Math.min(p,h+g),v=(d=e.itemNameFormatter,(0,s.mf)(d)?d({value:r}):(0,s.HD)(d)?d.replace("{value}",r+""):r+"");n.push([v,y,u,c,h,m]);for(var x=0;x<l.length;x++){var _=l[x];(_<y||m<_)&&i.push([v,_])}}return{boxData:n,outliers:i}}(e.getRawData(),t.config));return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:e.boxData},{data:e.outliers}]}},AM=["itemStyle","borderColor"],kM=["itemStyle","borderColor0"],LM=["itemStyle","borderColorDoji"],PM=["itemStyle","color"],RM=["itemStyle","color0"];function NM(t,e){return e.get(0<t?PM:RM)}function OM(t,e){return e.get(0===t?LM:0<t?AM:kM)}var EM,VM={seriesType:"candlestick",plan:Ar(),performRawSeries:!0,reset:function(t,e){if(!e.isSeriesFiltered(t))return!t.pipelineContext.large&&{progress:function(t,e){for(var n;null!=(n=t.next());){var i=e.getItemModel(n),o=e.getItemLayout(n).sign,a=i.getItemStyle();a.fill=NM(o,i),a.stroke=OM(o,i)||a.fill,o=e.ensureUniqueItemVisual(n,"style"),(0,s.l7)(o,a)}}}}},zM=["color","borderColor"];function BM(){var t=null!==EM&&EM.apply(this,arguments)||this;return t.type=BM.type,t}a(BM,EM=Os),BM.prototype.render=function(t,e,n){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},BM.prototype.incrementalPrepareRender=function(t,e,n){this._clear(),this._updateDrawMode(t)},BM.prototype.incrementalRender=function(t,e,n,i){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)},BM.prototype.eachRendered=function(t){Ds(this._progressiveEls||this.group,t)},BM.prototype._updateDrawMode=function(t){t=t.pipelineContext.large,null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},BM.prototype._renderNormal=function(t){var e=t.getData(),n=this._data,i=this.group,o=e.getLayout("isSimpleBox"),a=t.get("clip",!0),r=t.coordinateSystem,s=r.getArea&&r.getArea();this._data||i.removeAll(),e.diff(n).add((function(n){var r,l;e.hasValue(n)&&(r=e.getItemLayout(n),a&&UM(s,r)||(be(l=HM(r,0,!0),{shape:{points:r.ends}},t,n),XM(l,e,n,o),i.add(l),e.setItemGraphicEl(n,l)))})).update((function(r,l){var u;l=n.getItemGraphicEl(l),!e.hasValue(r)||(u=e.getItemLayout(r),a&&UM(s,u))?i.remove(l):(l?(Se(l,{shape:{points:u.ends}},t,r),Te(l)):l=HM(u),XM(l,e,r,o),i.add(l),e.setItemGraphicEl(r,l))})).remove((function(t){(t=n.getItemGraphicEl(t))&&i.remove(t)})).execute(),this._data=e},BM.prototype._renderLarge=function(t){this._clear(),qM(t,this.group),(t=t.get("clip",!0)?rd(t.coordinateSystem,!1,t):null)?this.group.setClipPath(t):this.group.removeClipPath()},BM.prototype._incrementalRenderNormal=function(t,e){for(var n,i=e.getData(),o=i.getLayout("isSimpleBox");null!=(n=t.next());){var a=HM(i.getItemLayout(n));XM(a,i,n,o),a.incremental=!0,this.group.add(a),this._progressiveEls.push(a)}},BM.prototype._incrementalRenderLarge=function(t,e){qM(e,this.group,this._progressiveEls,!0)},BM.prototype.remove=function(t){this._clear()},BM.prototype._clear=function(){this.group.removeAll(),this._data=null},BM.type="candlestick",je=BM;var GM,ZM=function(){},WM=(a(FM,GM=vt.ZP),FM.prototype.getDefaultShape=function(){return new ZM},FM.prototype.buildPath=function(t,e){e=e.points,this.__simpleBox?(t.moveTo(e[4][0],e[4][1]),t.lineTo(e[6][0],e[6][1])):(t.moveTo(e[0][0],e[0][1]),t.lineTo(e[1][0],e[1][1]),t.lineTo(e[2][0],e[2][1]),t.lineTo(e[3][0],e[3][1]),t.closePath(),t.moveTo(e[4][0],e[4][1]),t.lineTo(e[5][0],e[5][1]),t.moveTo(e[6][0],e[6][1]),t.lineTo(e[7][0],e[7][1]))},FM);function FM(t){return(t=GM.call(this,t)||this).type="normalCandlestickBox",t}function HM(t,e,n){var i,o=t.ends;return new WM({shape:{points:n?(i=t,s.UI(o,(function(t){return(t=t.slice())[1]=i.initBaseline,t}))):o},z2:100})}function UM(t,e){for(var n=!0,i=0;i<e.ends.length;i++)if(t.contain(e.ends[i][0],e.ends[i][1])){n=!1;break}return n}function XM(t,e,n,i){var o=e.getItemModel(n),a=(t.useStyle(e.getItemVisual(n,"style")),t.style.strokeNoScale=!0,t.__simpleBox=i,pe(t,o),e.getItemLayout(n).sign);s.S6(t.states,(function(t,e){e=o.getModel(e);var n=NM(a,e);e=OM(a,e)||n,t=t.style||(t.style={}),n&&(t.fill=n),e&&(t.stroke=e)})),ue(t,(i=o.getModel("emphasis")).get("focus"),i.get("blurScope"),i.get("disabled"))}var YM,JM=function(){},jM=(a(KM,YM=vt.ZP),KM.prototype.getDefaultShape=function(){return new JM},KM.prototype.buildPath=function(t,e){for(var n,i=e.points,o=0;o<i.length;)this.__sign===i[o++]?(n=i[o++],t.moveTo(n,i[o++]),t.lineTo(n,i[o++])):o+=3},KM);function KM(t){return(t=YM.call(this,t)||this).type="largeCandlestickBox",t}function qM(t,e,n,i){var o=t.getData().getLayout("largePoints"),a=new jM({shape:{points:o},__sign:1,ignoreCoarsePointer:!0}),r=(e.add(a),new jM({shape:{points:o},__sign:-1,ignoreCoarsePointer:!0}));e.add(r),o=new jM({shape:{points:o},__sign:0,ignoreCoarsePointer:!0}),e.add(o),$M(1,a,t),$M(-1,r,t),$M(0,o,t),i&&(a.incremental=!0,r.incremental=!0),n&&n.push(a,r)}function $M(t,e,n){t=OM(t,n)||NM(t,n),n=n.getModel("itemStyle").getItemStyle(zM),e.useStyle(n),e.style.fill=null,e.style.stroke=t}var QM,tI=je;function eI(){var t=null!==QM&&QM.apply(this,arguments)||this;return t.type=eI.type,t.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],t}a(eI,QM=Ir),eI.prototype.getShadowDim=function(){return"open"},eI.prototype.brushSelector=function(t,e,n){return(e=e.getItemLayout(t))&&n.rect(e.brushRect)},eI.type="series.candlestick",eI.dependencies=["xAxis","yAxis","grid"],eI.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},dt=eI,(0,s.jB)(dt,ml,!0);var nI=dt;function iI(t){t&&s.kJ(t.series)&&s.S6(t.series,(function(t){s.Kn(t)&&"k"===t.type&&(t.type="candlestick")}))}function oI(t,e,n,i,o,a){return i<n?-1:n<i?1:a?0:!(0<e)||t.get(o,e-1)<=i?1:-1}var aI,rI={seriesType:"candlestick",plan:Ar(),reset:function(t){var e,n,i=t.coordinateSystem,o=t.getData(),a=(e=o,u="category"===(u=(r=t).getBaseAxis()).type?u.getBandWidth():(u=u.getExtent(),Math.abs(u[1]-u[0])/e.count()),e=p((0,s.pD)(r.get("barMaxWidth"),u),u),n=p((0,s.pD)(r.get("barMinWidth"),1),u),null!=(r=r.get("barWidth"))?p(r,u):Math.max(Math.min(u/2,e),n)),r=["x","y"],l=o.getDimensionIndex(o.mapDimension(r[0])),u=(0,s.UI)(o.mapDimensionsAll(r[1]),o.getDimensionIndex,o),c=u[0],h=u[1],d=u[2],g=u[3];if(o.setLayout({candleWidth:a,isSimpleBox:a<=1.3}),!(l<0||u.length<4))return{progress:t.pipelineContext.large?function(e,n){for(var o,a=Wh(4*e.count),r=0,s=[],u=[],p=n.getStore(),f=!!t.get(["itemStyle","borderColorDoji"]);null!=(o=e.next());){var y=p.get(l,o),m=p.get(c,o),v=p.get(h,o),x=p.get(d,o),_=p.get(g,o);isNaN(y)||isNaN(x)||isNaN(_)?(a[r++]=NaN,r+=3):(a[r++]=oI(p,o,m,v,h,f),s[0]=y,s[1]=x,o=i.dataToPoint(s,null,u),a[r++]=o?o[0]:NaN,a[r++]=o?o[1]:NaN,s[1]=_,o=i.dataToPoint(s,null,u),a[r++]=o?o[1]:NaN)}n.setLayout("largePoints",a)}:function(t,e){for(var n,o=e.getStore();null!=(n=t.next());){var r=o.get(l,n),s=o.get(c,n),u=o.get(h,n),p=o.get(d,n),f=o.get(g,n),y=Math.min(s,u),m=Math.max(s,u),v=(y=S(y,r),m=S(m,r),S(p,r)),x=S(f,r),_=[];b(_,m,0),b(_,y,1),_.push(w(x),w(m),w(v),w(y)),x=!!e.getItemModel(n).get(["itemStyle","borderColorDoji"]),e.setItemLayout(n,{sign:oI(o,n,s,u,h,x),initBaseline:(u<s?m:y)[1],ends:_,brushRect:function(t,e,n){return t=S(t,n),e=S(e,n),t[0]-=a/2,e[0]-=a/2,{x:t[0],y:t[1],width:a,height:e[1]-t[1]}}(p,f,r)})}function S(t,e){var n=[];return n[0]=e,n[1]=t,isNaN(e)||isNaN(t)?[NaN,NaN]:i.dataToPoint(n)}function b(t,e,n){var i=e.slice();e=e.slice(),i[0]=ps(i[0]+a/2,1,!1),e[0]=ps(e[0]-a/2,1,!0),n?t.push(i,e):t.push(e,i)}function w(t){return t[0]=ps(t[0],1),t}}}}};function sI(t,e){var n=e.rippleEffectColor||e.color;t.eachChild((function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?n:null,fill:"fill"===e.brushType?n:null}})}))}function lI(t,e){var n=aI.call(this)||this,i=new Ph(t,e),o=new Dr.Z;return n.add(i),n.add(o),n.updateData(t,e),n}a(lI,aI=Dr.Z),lI.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},lI.prototype.startEffectAnimation=function(t){for(var e=t.symbolType,n=t.color,i=t.rippleNumber,o=this.childAt(1),a=0;a<i;a++){var r=Ol(e,-1,-1,2,2,n),s=(r.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5}),-a/i*t.period+t.effectOffset);r.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(s).start(),r.animateStyle(!0).when(t.period,{opacity:0}).delay(s).start(),o.add(r)}sI(o,t)},lI.prototype.updateEffectAnimation=function(t){for(var e=this._effectCfg,n=this.childAt(1),i=["symbolType","period","rippleScale","rippleNumber"],o=0;o<i.length;o++){var a=i[o];if(e[a]!==t[a])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}sI(n,t)},lI.prototype.highlight=function(){Kt(this)},lI.prototype.downplay=function(){qt(this)},lI.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},lI.prototype.updateData=function(t,e){var n=this,i=t.hostModel,o=(this.childAt(0).updateData(t,e),this.childAt(1)),a=t.getItemModel(e),r=t.getItemVisual(e,"symbol"),s=El(t.getItemVisual(e,"symbolSize")),l=(u=t.getItemVisual(e,"style"))&&u.fill,u=a.getModel("emphasis"),c=(o.setScale(s),o.traverse((function(t){t.setStyle("fill",l)})),(s=Vl(t.getItemVisual(e,"symbolOffset"),s))&&(o.x=s[0],o.y=s[1]),s=t.getItemVisual(e,"symbolRotate"),o.rotation=(s||0)*Math.PI/180||0,{});c.showEffectOn=i.get("showEffectOn"),c.rippleScale=a.get(["rippleEffect","scale"]),c.brushType=a.get(["rippleEffect","brushType"]),c.period=1e3*a.get(["rippleEffect","period"]),c.effectOffset=e/t.count(),c.z=i.getShallow("z")||0,c.zlevel=i.getShallow("zlevel")||0,c.symbolType=r,c.color=l,c.rippleEffectColor=a.get(["rippleEffect","color"]),c.rippleNumber=a.get(["rippleEffect","number"]),"render"===c.showEffectOn?(this._effectCfg?this.updateEffectAnimation(c):this.startEffectAnimation(c),this._effectCfg=c):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(t){"emphasis"===t?"render"!==c.showEffectOn&&n.startEffectAnimation(c):"normal"===t&&"render"!==c.showEffectOn&&n.stopEffectAnimation()}),this._effectCfg=c,ue(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},lI.prototype.fadeOut=function(t){t&&t()};var uI,cI=lI;function hI(){var t=null!==uI&&uI.apply(this,arguments)||this;return t.type=hI.type,t}a(hI,uI=Os),hI.prototype.init=function(){this._symbolDraw=new Vh(cI)},hI.prototype.render=function(t,e,n){var i=t.getData(),o=this._symbolDraw;o.updateData(i,{clipShape:this._getClipShape(t)}),this.group.add(o.group)},hI.prototype._getClipShape=function(t){var e=(e=t.coordinateSystem)&&e.getArea&&e.getArea();return t.get("clip",!0)?e:null},hI.prototype.updateTransform=function(t,e,n){var i=t.getData();(this.group.dirty(),t=vd("").reset(t,e,n)).progress&&t.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout()},hI.prototype._updateGroupTransform=function(t){(t=t.coordinateSystem)&&t.getRoamTransform&&(this.group.transform=Lr.d9(t.getRoamTransform()),this.group.decomposeTransform())},hI.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0)},hI.type="effectScatter";var dI,pI=hI;function gI(){var t=null!==dI&&dI.apply(this,arguments)||this;return t.type=gI.type,t.hasSymbolVisual=!0,t}a(gI,dI=Ir),gI.prototype.getInitialData=function(t,e){return Mh(null,this,{useEncodeDefaulter:!0})},gI.prototype.brushSelector=function(t,e,n){return n.point(e.getItemLayout(t))},gI.type="series.effectScatter",gI.dependencies=["grid","polar"],gI.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10};var fI,yI=gI;function mI(t,e,n){var i=fI.call(this)||this;return i.add(i.createLine(t,e,n)),i._updateEffectSymbol(t,e),i}a(mI,fI=Dr.Z),mI.prototype.createLine=function(t,e,n){return new nS(t,e,n)},mI.prototype._updateEffectSymbol=function(t,e){var n=t.getItemModel(e).getModel("effect"),i=n.get("symbolSize"),o=n.get("symbol"),a=(s.kJ(i)||(i=[i,i]),t.getItemVisual(e,"style")),r=(a=n.get("color")||a&&a.stroke,this.childAt(1));this._symbolType!==o&&(this.remove(r),(r=Ol(o,-.5,-.5,1,1,a)).z2=100,r.culling=!0,this.add(r)),r&&(r.setStyle("shadowColor",a),r.setStyle(n.getItemStyle(["color"])),r.scaleX=i[0],r.scaleY=i[1],r.setColor(a),this._symbolType=o,this._symbolScale=i,this._updateEffectAnimation(t,n,e))},mI.prototype._updateEffectAnimation=function(t,e,n){var i,o,a,r,l,u=this.childAt(1);u&&(l=t.getItemLayout(n),i=1e3*e.get("period"),o=e.get("loop"),a=e.get("roundTrip"),r=e.get("constantSpeed"),e=s.Jv(e.get("delay"),(function(e){return e/t.count()*i/3})),u.ignore=!0,this._updateAnimationPoints(u,l),(i=0<r?this._getLineLength(u)/r*1e3:i)===this._period&&o===this._loop&&a===this._roundTrip||(u.stopAnimation(),l=void 0,l=s.mf(e)?e(n):e,0<u.__t&&(l=-i*u.__t),this._animateSymbol(u,i,l,o,a)),this._period=i,this._loop=o,this._roundTrip=a)},mI.prototype._animateSymbol=function(t,e,n,i,o){var a;0<e&&(t.__t=0,a=this,e=t.animate("",i).when(o?2*e:e,{__t:o?2:1}).delay(n).during((function(){a._updateSymbolPosition(t)})),i||e.done((function(){a.remove(t)})),e.start())},mI.prototype._getLineLength=function(t){return Pr.TK(t.__p1,t.__cp1)+Pr.TK(t.__cp1,t.__p2)},mI.prototype._updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},mI.prototype.updateData=function(t,e,n){this.childAt(0).updateData(t,e,n),this._updateEffectSymbol(t,e)},mI.prototype._updateSymbolPosition=function(t){var e=t.__p1,n=t.__p2,i=t.__cp1,o=t.__t<1?t.__t:2-t.__t,a=[t.x,t.y],r=a.slice(),s=ic.Zm,l=ic.AZ;a[0]=s(e[0],i[0],n[0],o),a[1]=s(e[1],i[1],n[1],o),s=t.__t<1?l(e[0],i[0],n[0],o):l(n[0],i[0],e[0],1-o),l=t.__t<1?l(e[1],i[1],n[1],o):l(n[1],i[1],e[1],1-o),t.rotation=-Math.atan2(l,s)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==t.__lastT&&t.__lastT<t.__t?(t.scaleY=1.05*Pr.TK(r,a),1===o&&(a[0]=r[0]+(a[0]-r[0])/2,a[1]=r[1]+(a[1]-r[1])/2)):1===t.__lastT?t.scaleY=2*Pr.TK(e,a):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=a[0],t.y=a[1]},mI.prototype.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var n=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,n,e)};var vI,xI=mI;function _I(t,e,n){var i=vI.call(this)||this;return i._createPolyline(t,e,n),i}a(_I,vI=Dr.Z),_I.prototype._createPolyline=function(t,e,n){var i=t.getItemLayout(e);i=new Gr.Z({shape:{points:i}}),this.add(i),this._updateCommonStl(t,e,n)},_I.prototype.updateData=function(t,e,n){var i=t.hostModel;Se(this.childAt(0),{shape:{points:t.getItemLayout(e)}},i,e),this._updateCommonStl(t,e,n)},_I.prototype._updateCommonStl=function(t,e,n){var i=this.childAt(0),o=t.getItemModel(e),a=n&&n.emphasisLineStyle,r=n&&n.focus,s=n&&n.blurScope,l=n&&n.emphasisDisabled;n&&!t.hasItemOption||(a=(n=o.getModel("emphasis")).getModel("lineStyle").getLineStyle(),l=n.get("disabled"),r=n.get("focus"),s=n.get("blurScope")),i.useStyle(t.getItemVisual(e,"style")),i.style.fill=null,i.style.strokeNoScale=!0,i.ensureState("emphasis").style=a,ue(this,r,s,l)},_I.prototype.updateLayout=function(t,e){this.childAt(0).setShape("points",t.getItemLayout(e))};var SI,bI=_I;function wI(){var t=null!==SI&&SI.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}a(wI,SI=xI),wI.prototype.createLine=function(t,e,n){return new bI(t,e,n)},wI.prototype._updateAnimationPoints=function(t,e){this._points=e;for(var n=[0],i=0,o=1;o<e.length;o++){var a=e[o-1],r=e[o];i+=Pr.TK(a,r),n.push(i)}if(0===i)this._length=0;else{for(o=0;o<n.length;o++)n[o]/=i;this._offsets=n,this._length=i}},wI.prototype._getLineLength=function(){return this._length},wI.prototype._updateSymbolPosition=function(t){var e=t.__t<1?t.__t:2-t.__t,n=this._points,i=this._offsets,o=n.length;if(i){var a=this._lastFrame;if(e<this._lastFramePercent){for(var r=Math.min(a+1,o-1);0<=r&&!(i[r]<=e);r--);r=Math.min(r,o-2)}else{for(r=a;r<o&&!(i[r]>e);r++);r=Math.min(r-1,o-2)}a=(e-i[r])/(i[r+1]-i[r]);var s=n[r];n=n[r+1],t.x=s[0]*(1-a)+a*n[0],t.y=s[1]*(1-a)+a*n[1],a=t.__t<1?n[0]-s[0]:s[0]-n[0],s=t.__t<1?n[1]-s[1]:s[1]-n[1],t.rotation=-Math.atan2(s,a)-Math.PI/2,this._lastFrame=r,this._lastFramePercent=e,t.ignore=!1}};var MI,II=wI,DI=n(3055),TI=n(4763),CI=function(){this.polyline=!1,this.curveness=0,this.segs=[]},AI=(a(kI,MI=vt.ZP),kI.prototype.reset=function(){this.notClear=!1,this._off=0},kI.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},kI.prototype.getDefaultShape=function(){return new CI},kI.prototype.buildPath=function(t,e){var n,i=e.segs,o=e.curveness;if(e.polyline)for(n=this._off;n<i.length;){var a=i[n++];if(0<a){t.moveTo(i[n++],i[n++]);for(var r=1;r<a;r++)t.lineTo(i[n++],i[n++])}}else for(n=this._off;n<i.length;){var s=i[n++],l=i[n++],u=i[n++],c=i[n++];t.moveTo(s,l),0<o?t.quadraticCurveTo((s+u)/2-(l-c)*o,(l+c)/2-(u-s)*o,u,c):t.lineTo(u,c)}this.incremental&&(this._off=n,this.notClear=!0)},kI.prototype.findDataIndex=function(t,e){var n=this.shape,i=n.segs,o=n.curveness,a=this.style.lineWidth;if(n.polyline)for(var r=0,s=0;s<i.length;){var l=i[s++];if(0<l)for(var u=i[s++],c=i[s++],h=1;h<l;h++){var d=i[s++],p=i[s++];if(DI.m(u,c,d,p,a,t,e))return r}r++}else for(r=0,s=0;s<i.length;){if(u=i[s++],c=i[s++],d=i[s++],p=i[s++],0<o){if(TI.m(u,c,(u+d)/2-(c-p)*o,(c+p)/2-(d-u)*o,d,p,a,t,e))return r}else if(DI.m(u,c,d,p,a,t,e))return r;r++}return-1},kI.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect();return t=n[0],e=n[1],i.contain(t,e)?0<=(this.hoverDataIdx=this.findDataIndex(t,e)):!(this.hoverDataIdx=-1)},kI.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var e=this.shape.segs,n=1/0,i=1/0,o=-1/0,a=-1/0,r=0;r<e.length;){var s=e[r++],l=e[r++];n=Math.min(s,n),o=Math.max(s,o),i=Math.min(l,i),a=Math.max(l,a)}t=this._rect=new sn.Z(n,i,o,a)}return t},kI);function kI(t){return(t=MI.call(this,t)||this)._off=0,t.hoverDataIdx=-1,t}function LI(){this.group=new Dr.Z}LI.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},LI.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},LI.prototype.incrementalUpdate=function(t,e){var n,i,o=this._newAdded[0],a=e.getLayout("linesPoints"),r=o&&o.shape.segs;r&&r.length<2e4?(n=r.length,(i=new Float32Array(n+a.length)).set(r),i.set(a,n),o.setShape({segs:i})):(this._newAdded=[],(r=this._create()).incremental=!0,r.setShape({segs:a}),this._setCommon(r,e),r.__startIndex=t.start)},LI.prototype.remove=function(){this._clear()},LI.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},LI.prototype._create=function(){var t=new AI({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},LI.prototype._setCommon=function(t,e,n){var i=e.hostModel,o=(t.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),t.useStyle(i.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0,(e=e.getVisual("style"))&&e.stroke&&t.setStyle("stroke",e.stroke),t.setStyle("fill",null),yt(t));o.seriesIndex=i.seriesIndex,t.on("mousemove",(function(e){o.dataIndex=null;var n=t.hoverDataIdx;0<n&&(o.dataIndex=n+t.__startIndex)}))},LI.prototype._clear=function(){this._newAdded=[],this.group.removeAll()};var PI,RI=LI,NI={seriesType:"lines",plan:Ar(),reset:function(t){var e,n,i=t.coordinateSystem;if(i)return e=t.get("polyline"),n=t.pipelineContext.large,{progress:function(o,a){var r=[];if(n){var s=void 0,l=o.end-o.start;if(e){for(var u=0,c=o.start;c<o.end;c++)u+=t.getLineCoordsCount(c);s=new Float32Array(l+2*u)}else s=new Float32Array(4*l);var h=0,d=[];for(c=o.start;c<o.end;c++){var p=t.getLineCoords(c,r);e&&(s[h++]=p);for(var g=0;g<p;g++)d=i.dataToPoint(r[g],!1,d),s[h++]=d[0],s[h++]=d[1]}a.setLayout("linesPoints",s)}else for(c=o.start;c<o.end;c++){var f=a.getItemModel(c),y=(p=t.getLineCoords(c,r),[]);if(e)for(var m=0;m<p;m++)y.push(i.dataToPoint(r[m]));else y[0]=i.dataToPoint(r[0]),y[1]=i.dataToPoint(r[1]),+(f=f.get(["lineStyle","curveness"]))&&(y[2]=[(y[0][0]+y[1][0])/2-(y[0][1]-y[1][1])*f,(y[0][1]+y[1][1])/2-(y[1][0]-y[0][0])*f]);a.setItemLayout(c,y)}}}}};function OI(){var t=null!==PI&&PI.apply(this,arguments)||this;return t.type=OI.type,t}a(OI,PI=Os),OI.prototype.render=function(t,e,n){var i,o=t.getData(),a=this._updateLineDraw(o,t),r=t.get("zlevel"),s=t.get(["effect","trailLength"]);(i="svg"===(n=n.getZr()).painter.getType())||n.painter.getLayer(r).clear(!0),null==this._lastZlevel||i||n.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&0<s&&(i||n.configLayer(r,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(s/10+.9,1),0)})),a.updateData(o),(i=t.get("clip",!0)&&rd(t.coordinateSystem,!1,t))?this.group.setClipPath(i):this.group.removeClipPath(),this._lastZlevel=r,this._finished=!0},OI.prototype.incrementalPrepareRender=function(t,e,n){var i=t.getData();this._updateLineDraw(i,t).incrementalPrepareUpdate(i),this._clearLayer(n),this._finished=!1},OI.prototype.incrementalRender=function(t,e,n){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},OI.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},OI.prototype.updateTransform=function(t,e,n){var i=t.getData(),o=t.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};(o=NI.reset(t,e,n)).progress&&o.progress({start:0,end:i.count(),count:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(n)},OI.prototype._updateLineDraw=function(t,e){var n=this._lineDraw,i=this._showEffect(e),o=!!e.get("polyline");return e=e.pipelineContext.large,n&&i===this._hasEffet&&o===this._isPolyline&&e===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=e?new RI:new lS(o?i?II:bI:i?xI:nS),this._hasEffet=i,this._isPolyline=o,this._isLargeDraw=e),this.group.add(n.group),n},OI.prototype._showEffect=function(t){return!!t.get(["effect","show"])},OI.prototype._clearLayer=function(t){"svg"!==(t=t.getZr()).painter.getType()&&null!=this._lastZlevel&&t.painter.getLayer(this._lastZlevel).clear(!0)},OI.prototype.remove=function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},OI.prototype.dispose=function(t,e){this.remove(t,e)},OI.type="lines";var EI,VI=OI,zI="undefined"==typeof Uint32Array?Array:Uint32Array,BI="undefined"==typeof Float64Array?Array:Float64Array;function GI(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=(0,s.UI)(e,(function(t){var e={coords:[t[0].coord,t[1].coord]};return t[0].name&&(e.fromName=t[0].name),t[1].name&&(e.toName=t[1].name),(0,s.Jn)([e,t[0],t[1]])})))}function ZI(){var t=null!==EI&&EI.apply(this,arguments)||this;return t.type=ZI.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}a(ZI,EI=Ir),ZI.prototype.init=function(t){t.data=t.data||[],GI(t);var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),EI.prototype.init.apply(this,arguments)},ZI.prototype.mergeOption=function(t){var e;GI(t),t.data&&(e=this._processFlatCoordsArray(t.data),this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords)&&(t.data=new Float32Array(e.count)),EI.prototype.mergeOption.apply(this,arguments)},ZI.prototype.appendData=function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=(0,s.WW)(this._flatCoords,e.flatCoords),this._flatCoordsOffset=(0,s.WW)(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},ZI.prototype._getCoordsFromItemModel=function(t){return(t=this.getData().getItemModel(t)).option instanceof Array?t.option:t.getShallow("coords")},ZI.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},ZI.prototype.getLineCoords=function(t,e){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*t],i=this._flatCoordsOffset[2*t+1],o=0;o<i;o++)e[o]=e[o]||[],e[o][0]=this._flatCoords[n+2*o],e[o][1]=this._flatCoords[n+2*o+1];return i}var a=this._getCoordsFromItemModel(t);for(o=0;o<a.length;o++)e[o]=e[o]||[],e[o][0]=a[o][0],e[o][1]=a[o][1];return a.length},ZI.prototype._processFlatCoordsArray=function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),(0,s.hj)(t[0])){for(var n=t.length,i=new zI(n),o=new BI(n),a=0,r=0,l=0,u=0;u<n;){l++;var c=t[u++];i[r++]=a+e,i[r++]=c;for(var h=0;h<c;h++){var d=t[u++],p=t[u++];o[a++]=d,o[a++]=p}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,r),flatCoords:o,count:l}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},ZI.prototype.getInitialData=function(t,e){var n=new yh(["value"],this);return n.hasItemOption=!1,n.initData(t.data,[],(function(t,e,i,o){return t instanceof Array?NaN:(n.hasItemOption=!0,null!=(t=t.value)?t instanceof Array?t[o]:t:void 0)})),n},ZI.prototype.formatTooltip=function(t,e,n){var i,o=(t=this.getData().getItemModel(t)).get("name");return o||(o=t.get("fromName"),t=t.get("toName"),i=[],null!=o&&i.push(o),null!=t&&i.push(t),Qa("nameValue",{name:i.join(" > ")}))},ZI.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},ZI.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},ZI.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},ZI.prototype.getZLevelKey=function(){var t=this.getModel("effect"),e=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&0<e?e+"":""},ZI.type="series.lines",ZI.dependencies=["grid","polar","geo","calendar"],ZI.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}};var WI=ZI;function FI(t){return t instanceof Array?t:[t,t]}var HI={seriesType:"lines",reset:function(t){var e=FI(t.get("symbol")),n=FI(t.get("symbolSize"));return(t=t.getData()).setVisual("fromSymbol",e&&e[0]),t.setVisual("toSymbol",e&&e[1]),t.setVisual("fromSymbolSize",n&&n[0]),t.setVisual("toSymbolSize",n&&n[1]),{dataEach:t.hasItemOption?function(t,e){var n=FI((i=t.getItemModel(e)).getShallow("symbol",!0)),i=FI(i.getShallow("symbolSize",!0));n[0]&&t.setItemVisual(e,"fromSymbol",n[0]),n[1]&&t.setItemVisual(e,"toSymbol",n[1]),i[0]&&t.setItemVisual(e,"fromSymbolSize",i[0]),i[1]&&t.setItemVisual(e,"toSymbolSize",i[1])}:null}}};function UI(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=Bl.qW.createCanvas();this.canvas=t}UI.prototype.update=function(t,e,n,i,o,a){var r=this._getBrush(),s=this._getGradient(o,"inRange"),l=this._getGradient(o,"outOfRange"),u=this.pointSize+this.blurSize,c=(o=this.canvas).getContext("2d"),h=t.length;o.width=e,o.height=n;for(var d=0;d<h;++d){var p=t[d],g=p[0],f=p[1],y=i(p[2]);c.globalAlpha=y,c.drawImage(r,g-u,f-u)}if(o.width&&o.height){for(var m=(e=c.getImageData(0,0,o.width,o.height)).data,v=0,x=m.length,_=this.minOpacity,S=this.maxOpacity-_;v<x;){y=m[v+3]/256;var b,w=4*Math.floor(255*y);0<y?(b=a(y)?s:l,0<y&&(y=y*S+_),m[v++]=b[w],m[v++]=b[1+w],m[v++]=b[2+w],m[v++]=b[3+w]*y*256):v+=4}c.putImageData(e,0,0)}return o},UI.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=Bl.qW.createCanvas()),e=this.pointSize+this.blurSize,n=2*e,i=(t.width=n,t.height=n,t.getContext("2d"));return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-e,e,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),t},UI.prototype._getGradient=function(t,e){for(var n=this._gradientPixels,i=n[e]||(n[e]=new Uint8ClampedArray(1024)),o=[0,0,0,0],a=0,r=0;r<256;r++)t[e](r/255,!0,o),i[a++]=o[0],i[a++]=o[1],i[a++]=o[2],i[a++]=o[3];return i};var XI,YI=UI;function JI(t){return"lng"===(t=t.dimensions)[0]&&"lat"===t[1]}function jI(){var t=null!==XI&&XI.apply(this,arguments)||this;return t.type=jI.type,t}a(jI,XI=Os),jI.prototype.render=function(t,e,n){var i;e.eachComponent("visualMap",(function(e){e.eachTargetSeries((function(n){n===t&&(i=e)}))})),this._progressiveEls=null,this.group.removeAll(),"cartesian2d"===(e=t.coordinateSystem).type||"calendar"===e.type?this._renderOnCartesianAndCalendar(t,n,0,t.getData().count()):JI(e)&&this._renderOnGeo(e,t,i,n)},jI.prototype.incrementalPrepareRender=function(t,e,n){this.group.removeAll()},jI.prototype.incrementalRender=function(t,e,n,i){var o=e.coordinateSystem;o&&(JI(o)?this.render(e,n,i):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(e,i,t.start,t.end,!0)))},jI.prototype.eachRendered=function(t){Ds(this._progressiveEls||this.group,t)},jI.prototype._renderOnCartesianAndCalendar=function(t,e,n,i,o){for(var a,r,s,l,u,c=t.coordinateSystem,h=sd(c,"cartesian2d"),d=(h&&(x=c.getAxis("x"),a=c.getAxis("y"),r=x.getBandWidth()+.5,s=a.getBandWidth()+.5,l=x.scale.getExtent(),u=a.scale.getExtent()),this.group),p=t.getData(),g=t.getModel(["emphasis","itemStyle"]).getItemStyle(),f=t.getModel(["blur","itemStyle"]).getItemStyle(),y=t.getModel(["select","itemStyle"]).getItemStyle(),m=t.get(["itemStyle","borderRadius"]),v=Pe(t),x=t.getModel("emphasis"),_=x.get("focus"),S=x.get("blurScope"),b=x.get("disabled"),w=h?[p.mapDimension("x"),p.mapDimension("y"),p.mapDimension("value")]:[p.mapDimension("time"),p.mapDimension("value")],M=n;M<i;M++){var I=void 0,D=p.getItemVisual(M,"style");if(h){var T=p.get(w[0],M),C=p.get(w[1],M);if(isNaN(p.get(w[2],M))||isNaN(T)||isNaN(C)||T<l[0]||T>l[1]||C<u[0]||C>u[1])continue;T=c.dataToPoint([T,C]),I=new Zr.Z({shape:{x:T[0]-r/2,y:T[1]-s/2,width:r,height:s},style:D})}else{if(isNaN(p.get(w[1],M)))continue;I=new Zr.Z({z2:1,shape:c.dataToRect([p.get(w[0],M)]).contentShape,style:D})}p.hasItemOption&&(g=(T=(C=p.getItemModel(M)).getModel("emphasis")).getModel("itemStyle").getItemStyle(),f=C.getModel(["blur","itemStyle"]).getItemStyle(),y=C.getModel(["select","itemStyle"]).getItemStyle(),m=C.get(["itemStyle","borderRadius"]),_=T.get("focus"),S=T.get("blurScope"),b=T.get("disabled"),v=Pe(C)),I.shape.r=m;var A=t.getRawValue(M),k="-";A&&null!=A[2]&&(k=A[2]+""),Le(I,v,{labelFetcher:t,labelDataIndex:M,defaultOpacity:D.opacity,defaultText:k}),I.ensureState("emphasis").style=g,I.ensureState("blur").style=f,I.ensureState("select").style=y,ue(I,_,S,b),(I.incremental=o)&&(I.states.emphasis.hoverLayer=!0),d.add(I),p.setItemGraphicEl(M,I),this._progressiveEls&&this._progressiveEls.push(I)}},jI.prototype._renderOnGeo=function(t,e,n,i){var o,a,r,l,u,c,h,d=n.targetVisuals.inRange,p=n.targetVisuals.outOfRange,g=e.getData(),f=this._hmLayer||this._hmLayer||new YI,y=(f.blurSize=e.get("blurSize"),f.pointSize=e.get("pointSize"),f.minOpacity=e.get("minOpacity"),f.maxOpacity=e.get("maxOpacity"),e=t.getViewRect().clone(),t.getRoamTransform()),m=(e.applyTransform(y),Math.max(e.x,0)),v=Math.max(e.y,0),x=(y=Math.min(e.width+e.x,i.getWidth()),e=Math.min(e.height+e.y,i.getHeight()),i=y-m,y=e-v,e=[g.mapDimension("lng"),g.mapDimension("lat"),g.mapDimension("value")],g=g.mapArray(e,(function(e,n,i){return(e=t.dataToPoint([e,n]))[0]-=m,e[1]-=v,e.push(i),e})),e=n.getExtent(),"visualMap.continuous"===n.type?(h=n.option.range,x=e[1]-e[0],h=[(h[0]-e[0])/x,(h[1]-e[0])/x],function(t){return t>=h[0]&&t<=h[1]}):(o=e,a=n.getPieceList(),r=n.option.selected,l=o[1]-o[0],u=(a=s.UI(a,(function(t){return{interval:[(t.interval[0]-o[0])/l,(t.interval[1]-o[0])/l]}}))).length,c=0,function(t){for(var e,n=c;n<u;n++)if((e=a[n].interval)[0]<=t&&t<=e[1]){c=n;break}if(n===u)for(n=c-1;0<=n;n--)if((e=a[n].interval)[0]<=t&&t<=e[1]){c=n;break}return 0<=n&&n<u&&r[n]}));f.update(g,i,y,d.color.getNormalizer(),{inRange:d.color.getColorMapper(),outOfRange:p.color.getColorMapper()},x),e=new Nr.ZP({style:{width:i,height:y,x:m,y:v,image:f.canvas},silent:!0}),this.group.add(e)},jI.type="heatmap";var KI,qI=jI;function $I(){var t=null!==KI&&KI.apply(this,arguments)||this;return t.type=$I.type,t}a($I,KI=Ir),$I.prototype.getInitialData=function(t,e){return Mh(null,this,{generateCoord:"value"})},$I.prototype.preventIncremental=function(){var t=eo.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},$I.type="series.heatmap",$I.dependencies=["grid","geo","calendar"],$I.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}};var QI,tD=$I,eD=["itemStyle","borderWidth"],nD=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],iD=new Or.Z;function oD(){var t=null!==QI&&QI.apply(this,arguments)||this;return t.type=oD.type,t}function aD(t,e,n,i){var o=t.getItemLayout(e),a=n.get("symbolRepeat"),r=n.get("symbolClip"),l=n.get("symbolPosition")||"start",u=(n.get("symbolRotate")||0)*Math.PI/180||0,c=n.get("symbolPatternSize")||2,h=n.isAnimationEnabled(),d=(r={dataIndex:e,layout:o,itemModel:n,symbolType:t.getItemVisual(e,"symbol")||"circle",style:t.getItemVisual(e,"style"),symbolClip:r,symbolRepeat:a,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:h?n:null,hoverScale:h&&n.get(["emphasis","scale"]),z2:n.getShallow("z",!0)||0},h=n,a),g=o,f=r,y=(_=i).valueDim,m=(h=h.get("symbolBoundingData"),(x=_.coordSys.getOtherAxis(_.coordSys.getBaseAxis())).toGlobalCoord(x.dataToCoord(0))),v=1-(g[y.wh]<=0),x=(S=s.kJ(h)?((S=[rD(x,h[0])-m,rD(x,h[1])-m])[1]<S[0]&&S.reverse(),S[v]):null!=h?rD(x,h)-m:d?_.coordSysExtent[y.index][v]-m:g[y.wh],f.boundingLength=S,d&&(f.repeatCutLength=g[y.wh]),h="x"===y.xy,_=x.inverse,f.pxSign=h&&!_||!h&&_?0<=S?1:-1:0<S?1:-1,v=t,m=e,d=o,g=a,y=r.boundingLength,r.pxSign),_=(f=c,r),S=(h=i).valueDim,b=(t=h.categoryDim,d=Math.abs(d[t.wh]),v=v.getItemVisual(m,"symbolSize"),(m=s.kJ(v)?v.slice():null==v?["100%","100%"]:[v,v])[t.index]=p(m[t.index],d),m[S.index]=p(m[S.index],g?d:Math.abs(y)),_.symbolSize=m,(_.symbolScale=[m[0]/f,m[1]/f])[S.index]*=(h.isHorizontal?-1:1)*x,e=n,c=r.symbolScale,v=u,t=i,g=r,(e=e.get(eD)||0)&&(iD.attr({scaleX:c[0],scaleY:c[1],rotation:v}),iD.updateTransform(),e=(e/=iD.getLineScale())*c[t.valueDim.index]),g.valueLineWidth=e||0,d=r.symbolSize,y=Vl(n.get("symbolOffset"),d),_=n,m=d,f=o,h=a,x=y,u=l,v=r.valueLineWidth,c=r.boundingLength,t=r.repeatCutLength,e=r,n=(g=i).categoryDim,d=g.valueDim,o=e.pxSign,a=v=Math.max(m[d.index]+v,0),h&&(b=Math.abs(c),w=!1,(_=s.Jv(_.get("symbolMargin"),"15%")+"").lastIndexOf("!")===_.length-1&&(w=!0,_=_.slice(0,_.length-1)),_=p(_,m[d.index]),m=Math.max(v+2*_,0),y=w?0:2*_,m=v+2*(_=(b-(l=(M=C(h))?h:SD((b+y)/m))*v)/2/(w?l:Math.max(l-1,1))),y=w?0:2*_,M||"fixed"===h||(l=t?SD((Math.abs(t)+y)/m):0),a=l*m-y,e.repeatTimes=l,e.symbolMargin=_),o*(a/2)),w=((v=e.pathPosition=[])[n.index]=f[n.wh]/2,v[d.index]="start"===u?b:"end"===u?c-b:c/2,x&&(v[0]+=x[0],v[1]+=x[1]),e.bundlePosition=[]),M=(w[n.index]=f[n.xy],w[d.index]=f[d.xy],e.barRectShape=s.l7({},f));return M[d.wh]=o*Math.max(Math.abs(f[d.wh]),Math.abs(v[d.index]+b)),M[n.wh]=f[n.wh],(h=e.clipShape={})[n.xy]=-f[n.xy],h[n.wh]=g.ecSize[n.wh],h[d.xy]=0,h[d.wh]=f[d.wh],r}function rD(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function sD(t){var e=t.symbolPatternSize;return(t=Ol(t.symbolType,-e/2,-e/2,e,e)).attr({culling:!0}),"image"!==t.type&&t.setStyle({strokeNoScale:!0}),t}function lD(t,e,n,i){var o=t.__pictorialBundle,a=n.symbolSize,r=n.valueLineWidth,s=n.pathPosition,l=e.valueDim,u=n.repeatTimes||0,c=0,h=a[e.valueDim.index]+r+2*n.symbolMargin;for(vD(t,(function(t){t.__pictorialAnimationIndex=c,t.__pictorialRepeatTimes=u,c<u?xD(t,null,g(c),n,i):xD(t,null,{scaleX:0,scaleY:0},n,i,(function(){o.remove(t)})),c++}));c<u;c++){var d=sD(n),p=(d.__pictorialAnimationIndex=c,d.__pictorialRepeatTimes=u,o.add(d),g(c));xD(d,{x:p.x,y:p.y,scaleX:0,scaleY:0},{scaleX:p.scaleX,scaleY:p.scaleY,rotation:p.rotation},n,i)}function g(t){var e=s.slice(),i=n.pxSign,o=t;return("start"===n.symbolRepeatDirection?0<i:i<0)&&(o=u-1-t),e[l.index]=h*(o-u/2+.5)+s[l.index],{x:e[0],y:e[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function uD(t,e,n,i){var o=t.__pictorialBundle,a=t.__pictorialMainPath;a?xD(a,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,i):(a=t.__pictorialMainPath=sD(n),o.add(a),xD(a,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,i))}function cD(t,e,n){var i=s.l7({},e.barRectShape),o=t.__pictorialBarRect;o?xD(o,null,{shape:i},e,n):((o=t.__pictorialBarRect=new Zr.Z({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,t.add(o))}function hD(t,e,n,o){var a,r,l,u;n.symbolClip&&(a=t.__pictorialClipPath,u=s.l7({},n.clipShape),e=e.valueDim,r=n.animationModel,l=n.dataIndex,a?Se(a,{shape:u},r,l):(u[e.wh]=0,a=new Zr.Z({shape:u}),t.__pictorialBundle.setClipPath(a),t.__pictorialClipPath=a,(u={})[e.wh]=n.clipShape[e.wh],i[o?"updateProps":"initProps"](a,{shape:u},r,l)))}function dD(t,e){return(t=t.getItemModel(e)).getAnimationDelayParams=pD,t.isAnimationEnabled=gD,t}function pD(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function gD(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function fD(t,e,n,i){var o=new Dr.Z,a=new Dr.Z;return o.add(a),(o.__pictorialBundle=a).x=n.bundlePosition[0],a.y=n.bundlePosition[1],n.symbolRepeat?lD(o,e,n):uD(o,0,n),cD(o,n,i),hD(o,e,n,i),o.__pictorialShapeStr=mD(t,n),o.__pictorialSymbolMeta=n,o}function yD(t,e,n,i){var o=i.__pictorialBarRect,a=(o&&o.removeTextContent(),[]);vD(i,(function(t){a.push(t)})),i.__pictorialMainPath&&a.push(i.__pictorialMainPath),i.__pictorialClipPath&&(n=null),s.S6(a,(function(t){Me(t,{scaleX:0,scaleY:0},n,e,(function(){i.parent&&i.parent.remove(i)}))})),t.setItemGraphicEl(e,null)}function mD(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function vD(t,e,n){s.S6(t.__pictorialBundle.children(),(function(i){i!==t.__pictorialBarRect&&e.call(n,i)}))}function xD(t,e,n,o,a,r){e&&t.attr(e),o.symbolClip&&!a?n&&t.attr(n):n&&i[a?"updateProps":"initProps"](t,n,o.animationModel,o.dataIndex,r)}function _D(t,e,n){var i=n.dataIndex,o=n.itemModel,a=o.getModel("emphasis"),r=a.getModel("itemStyle").getItemStyle(),l=o.getModel(["blur","itemStyle"]).getItemStyle(),u=o.getModel(["select","itemStyle"]).getItemStyle(),c=o.getShallow("cursor"),h=a.get("focus"),d=a.get("blurScope"),p=a.get("scale"),g=(vD(t,(function(t){t instanceof Nr.ZP?(e=t.style,t.useStyle(s.l7({image:e.image,x:e.x,y:e.y,width:e.width,height:e.height},n.style))):t.useStyle(n.style);var e=t.ensureState("emphasis");e.style=r,p&&(e.scaleX=1.1*t.scaleX,e.scaleY=1.1*t.scaleY),t.ensureState("blur").style=l,t.ensureState("select").style=u,c&&(t.cursor=c),t.z2=n.z2})),e.valueDim.posDesc[+(0<n.boundingLength)]),f=t.__pictorialBarRect;f.ignoreClip=!0,Le(f,Pe(o),{labelFetcher:e.seriesModel,labelDataIndex:i,defaultText:Ch(e.seriesModel.getData(),i),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:g}),ue(t,h,d,a.get("disabled"))}function SD(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}a(oD,QI=Os),oD.prototype.render=function(t,e,n){var i=this.group,o=t.getData(),a=this._data,r=t.coordinateSystem,s=r.getBaseAxis().isHorizontal(),l=r.master.getRect(),u={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:t,coordSys:r,coordSysExtent:[[l.x,l.x+l.width],[l.y,l.y+l.height]],isHorizontal:s,valueDim:nD[+s],categoryDim:nD[1-+s]};return o.diff(a).add((function(t){var e,n;o.hasValue(t)&&(e=dD(o,t),e=aD(o,t,e,u),n=fD(o,u,e),o.setItemGraphicEl(t,n),i.add(n),_D(n,u,e))})).update((function(t,e){var n,r,s,l,c,h;e=a.getItemGraphicEl(e),o.hasValue(t)?(n=dD(o,t),n=aD(o,t,n,u),r=mD(o,n),e&&r!==e.__pictorialShapeStr&&(i.remove(e),o.setItemGraphicEl(t,null),e=null),e?(r=e,s=u,c=(l=n).animationModel,h=l.dataIndex,Se(r.__pictorialBundle,{x:l.bundlePosition[0],y:l.bundlePosition[1]},c,h),(l.symbolRepeat?lD:uD)(r,s,l,!0),cD(r,l,!0),hD(r,s,l,!0)):e=fD(o,u,n,!0),o.setItemGraphicEl(t,e),e.__pictorialSymbolMeta=n,i.add(e),_D(e,u,n)):i.remove(e)})).remove((function(t){var e=a.getItemGraphicEl(t);e&&yD(a,t,e.__pictorialSymbolMeta.animationModel,e)})).execute(),(n=t.get("clip",!0)?rd(t.coordinateSystem,!1,t):null)?i.setClipPath(n):i.removeClipPath(),this._data=o,this.group},oD.prototype.remove=function(t,e){var n=this.group,i=this._data;t.get("animation")?i&&i.eachItemGraphicEl((function(e){yD(i,yt(e).dataIndex,t,e)})):n.removeAll()},oD.type="pictorialBar";var bD,wD=oD;function MD(){var t=null!==bD&&bD.apply(this,arguments)||this;return t.type=MD.type,t.hasSymbolVisual=!0,t.defaultSymbol="roundRect",t}a(MD,bD=yr),MD.prototype.getInitialData=function(t){return t.stack=null,bD.prototype.getInitialData.apply(this,arguments)},MD.type="series.pictorialBar",MD.dependencies=["grid"],MD.defaultOption=rn(yr.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}});var ID,DD=MD;function TD(){var t=null!==ID&&ID.apply(this,arguments)||this;return t.type=TD.type,t._layers=[],t}a(TD,ID=Os),TD.prototype.render=function(t,e,n){var i=t.getData(),o=this,a=this.group,r=t.getLayerSeries(),l=(u=i.getLayout("layoutInfo")).rect,u=u.boundaryGap;function c(t){return t.name}a.x=0,a.y=l.y+u[0],l=new Hc(this._layersSeries||[],r,c,c);var h=[];function d(e,n,s){var l=o._layers;if("remove"===e)a.remove(l[n]);else{for(var u,c=[],d=[],p=r[n].indices,g=0;g<p.length;g++){var f=(m=i.getItemLayout(p[g])).x,y=m.y0,m=m.y;c.push(f,y),d.push(f,y+m),u=i.getItemVisual(p[g],"style")}var v,x,_,S,b,w=i.getItemLayout(p[0]),M=t.getModel("label").get("margin"),I=t.getModel("emphasis");"add"===e?(x=h[n]=new Dr.Z,v=new nd({shape:{points:c,stackedOnPoints:d,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),x.add(v),a.add(x),t.isAnimationEnabled()&&v.setClipPath((e=v.getBoundingRect(),_=t,S=function(){v.removeClipPath()},be(b=new Zr.Z({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}}),{shape:{x:e.x-50,width:e.width+100,height:e.height+20}},_,S),b))):(x=l[s],v=x.childAt(0),a.add(x),h[n]=x,Se(v,{shape:{points:c,stackedOnPoints:d}},t),Te(v)),Le(v,Pe(t),{labelDataIndex:p[g-1],defaultText:i.getName(p[g-1]),inheritColor:u.fill},{normal:{verticalAlign:"middle"}}),v.setTextConfig({position:null,local:!0}),(e=v.getTextContent())&&(e.x=w.x-M,e.y=w.y0+w.y/2),v.useStyle(u),i.setItemGraphicEl(n,v),pe(v,t),ue(v,I.get("focus"),I.get("blurScope"),I.get("disabled"))}}l.add((0,s.ak)(d,this,"add")).update((0,s.ak)(d,this,"update")).remove((0,s.ak)(d,this,"remove")).execute(),this._layersSeries=r,this._layers=h},TD.type="themeRiver";var CD,AD=TD;function kD(){var t=null!==CD&&CD.apply(this,arguments)||this;return t.type=kD.type,t}a(kD,CD=Ir),kD.prototype.init=function(t){CD.prototype.init.apply(this,arguments),this.legendVisualProvider=new Pp(s.ak(this.getData,this),s.ak(this.getRawData,this))},kD.prototype.fixData=function(t){for(var e=t.length,n={},i=Q(t,(function(t){return n.hasOwnProperty(t[0]+"")||(n[t[0]+""]=-1),t[2]})),o=[],a=(i.buckets.each((function(t,e){o.push({name:e,dataList:t})})),o.length),r=0;r<a;++r){for(var s=o[r].name,l=0;l<o[r].dataList.length;++l){var u=o[r].dataList[l][0]+"";n[u]=r}for(u in n)n.hasOwnProperty(u)&&n[u]!==r&&(n[u]=r,t[e]=[u,0,s],e++)}return t},kD.prototype.getInitialData=function(t,e){for(var n=this.getReferringComponents("singleAxis",j).models[0].get("type"),i=(t=s.hX(t.data,(function(t){return void 0!==t[2]})),this.fixData(t||[])),o=[],a=this.nameMap=s.kW(),r=0,l=0;l<i.length;++l)o.push(i[l][2]),a.get(i[l][2])||(a.set(i[l][2],r),r++);return t=mh(i,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Jc(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,(n=new yh(t,this)).initData(i),n},kD.prototype.getLayerSeries=function(){for(var t=this.getData(),e=t.count(),n=[],i=0;i<e;++i)n[i]=i;var o=t.mapDimension("single"),a=Q(n,(function(e){return t.get("name",e)})),r=[];return a.buckets.each((function(e,n){e.sort((function(e,n){return t.get(o,e)-t.get(o,n)})),r.push({name:n,indices:e})})),r},kD.prototype.getAxisTooltipData=function(t,e,n){s.kJ(t)||(t=t?[t]:[]);for(var i,o=this.getData(),a=this.getLayerSeries(),r=[],l=a.length,u=0;u<l;++u){for(var c=Number.MAX_VALUE,h=-1,d=a[u].indices.length,p=0;p<d;++p){var g=o.get(t[0],a[u].indices[p]),f=Math.abs(g-e);f<=c&&(i=g,c=f,h=a[u].indices[p])}r.push(h)}return{dataIndices:r,nestestValue:i}},kD.prototype.formatTooltip=function(t,e,n){var i=this.getData();return Qa("nameValue",{name:i.getName(t),value:i.get(i.mapDimension("value"),t)})},kD.type="series.themeRiver",kD.dependencies=["singleAxis"],kD.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}};var LD,PD=kD;function RD(t,e){t.eachSeriesByType("themeRiver",(function(t){var e=t.getData(),n={},i=(a=t.coordinateSystem).getRect(),o=(n.rect=i,t.get("boundaryGap")),a=a.getAxis();n.boundaryGap=o,"horizontal"===a.orient?(o[0]=p(o[0],i.height),o[1]=p(o[1],i.height),ND(e,t,i.height-o[0]-o[1])):(o[0]=p(o[0],i.width),o[1]=p(o[1],i.width),ND(e,t,i.width-o[0]-o[1])),e.setLayout("layoutInfo",n)}))}function ND(t,e,n){if(t.count())for(var i,o=e.coordinateSystem,a=e.getLayerSeries(),r=t.mapDimension("single"),l=t.mapDimension("value"),u=s.UI(a,(function(e){return s.UI(e.indices,(function(e){var n=o.dataToPoint(t.get(r,e));return n[1]=t.get(l,e),n}))})),c=(e=function(t){for(var e=t.length,n=t[0].length,i=[],o=[],a=0,r=0;r<n;++r){for(var s=0,l=0;l<e;++l)s+=t[l][r][1];a<s&&(a=s),i.push(s)}for(var u=0;u<n;++u)o[u]=(a-i[u])/2;for(var c=a=0;c<n;++c){var h=i[c]+o[c];a<h&&(a=h)}return{y0:o,max:a}}(u),e.y0),h=n/e.max,d=a.length,p=a[0].indices.length,g=0;g<p;++g){i=c[g]*h,t.setItemLayout(a[0].indices[g],{layerIndex:0,x:u[0][g][0],y0:i,y:u[0][g][1]*h});for(var f=1;f<d;++f)i+=u[f-1][g][1]*h,t.setItemLayout(a[f].indices[g],{layerIndex:f,x:u[f][g][0],y0:i,y:u[f][g][1]*h})}}function OD(t,e,n,i){var o=LD.call(this)||this,a=(o.z2=2,o.textConfig={inside:!0},yt(o).seriesIndex=e.seriesIndex,new ft.ZP({z2:4,silent:t.getModel().get(["label","silent"])}));return o.setTextContent(a),o.updateData(!0,t,e,n,i),o}a(OD,LD=Vr.C),OD.prototype.updateData=function(t,e,n,i,o){(this.node=e).piece=this,n=n||this._seriesModel,i=i||this._ecModel;var a=this,r=(yt(a).dataIndex=e.dataIndex,e.getModel()),l=r.getModel("emphasis"),u=e.getLayout(),c=s.l7({},u),h=(c.label=null,e.getVisual("style")),d=(h.lineJoin="bevel",(d=e.getVisual("decal"))&&(h.decal=Fl(d,o)),Fd(r.getModel("itemStyle"),c,!0));s.l7(c,d),s.S6(Dt,(function(t){var e=a.ensureState(t);t=r.getModel([t,"itemStyle"]),e.style=t.getItemStyle(),(t=Fd(t,c))&&(e.shape=t)})),t?(a.setShape(c),a.shape.r=u.r0,be(a,{shape:{r:u.r}},n,e.dataIndex)):(Se(a,{shape:c},n),Te(a)),a.useStyle(h),this._updateLabel(n),ue(this,"relative"===((o=r.getShallow("cursor"))&&a.attr("cursor",o),this._seriesModel=n||this._seriesModel,this._ecModel=i||this._ecModel,d=l.get("focus"))?s.WW(e.getAncestorsIndices(),e.getDescendantIndices()):"ancestor"===d?e.getAncestorsIndices():"descendant"===d?e.getDescendantIndices():d,l.get("blurScope"),l.get("disabled"))},OD.prototype._updateLabel=function(t){var e=this,n=this.node.getModel(),i=n.getModel("label"),o=this.node.getLayout(),a=o.endAngle-o.startAngle,r=(o.startAngle+o.endAngle)/2,l=Math.cos(r),u=Math.sin(r),c=this,h=c.getTextContent(),d=this.node.dataIndex,p=i.get("minAngle")/180*Math.PI;function g(t,e){return null==(t=t.get(e))?i.get(e):t}p=i.get("show")&&!(null!=p&&Math.abs(a)<p),h.ignore=!p,s.S6(Tt,(function(i){var p,f="normal"===i?n.getModel("label"):n.getModel([i,"label"]),y=(v="normal"===i)?h:h.ensureState(i),m=t.getFormattedLabel(d,i),v=(null==(v&&(m=m||e.node.name),y.style=Re(f,{},null,"normal"!==i,!0),m&&(y.style.text=m),m=f.get("show"))||v||(y.ignore=!m),m=g(f,"position"),i=(v=v?c:c.states[i]).style.fill,v.textConfig={outsideFill:"inherit"===f.get("color")?i:null,inside:"outside"!==m},g(f,"distance")||0),x=(i=g(f,"align"),g(f,"rotate")),S=.5*Math.PI,b=1.5*Math.PI,w=(S=S<(w=(0,nc.m)("tangential"===x?Math.PI/2-r:r))&&!_(w-S)&&w<b,"outside"===m?(p=o.r+v,i=S?"right":"left"):i&&"center"!==i?"left"===i?(p=o.r0+v,i=S?"right":"left"):"right"===i&&(p=o.r-v,i=S?"left":"right"):(p=a==2*Math.PI&&0===o.r0?0:(o.r+o.r0)/2,i="center"),y.style.align=i,y.style.verticalAlign=g(f,"verticalAlign")||"middle",y.x=p*l+o.cx,y.y=p*u+o.cy,0);"radial"===x?w=(0,nc.m)(-r)+(S?Math.PI:0):"tangential"===x?w=(0,nc.m)(Math.PI/2-r)+(S?Math.PI:0):s.hj(x)&&(w=x*Math.PI/180),y.rotation=(0,nc.m)(w)})),h.dirtyStyle()};var ED,VD=OD,zD="sunburstRootToNode",BD="sunburstHighlight";function GD(){var t=null!==ED&&ED.apply(this,arguments)||this;return t.type=GD.type,t}a(GD,ED=Os),GD.prototype.render=function(t,e,n,i){var o,a,r,l=this,u=(this.seriesModel=t,this.api=n,this.ecModel=e,t.getData()),c=u.tree.root,h=t.getViewRoot(),d=this.group,p=t.get("renderLabelForZeroData"),g=[],f=(h.eachNode((function(t){g.push(t)})),this._oldChildren||[]);function y(t){return t.getId()}function m(i,r){var s;i=null==i?null:o[i],r=null==r?null:a[r],(i=p||!i||i.getValue()?i:null)!==c&&r!==c&&(r&&r.piece?i?(r.piece.updateData(!1,i,t,e,n),u.setItemGraphicEl(i.dataIndex,r.piece)):(s=r)&&s.piece&&(d.remove(s.piece),s.piece=null):i&&(r=new VD(i,t,e,n),d.add(r),u.setItemGraphicEl(i.dataIndex,r)))}a=f,0===(o=g).length&&0===a.length||new Hc(a,o,y,y).add(m).update(m).remove(s.WA(m,null)).execute(),f=c,0<(r=h).depth?(l.virtualPiece?l.virtualPiece.updateData(!1,f,t,e,n):(l.virtualPiece=new VD(f,t,e,n),d.add(l.virtualPiece)),r.piece.off("click"),l.virtualPiece.on("click",(function(t){l._rootToNode(r.parentNode)}))):l.virtualPiece&&(d.remove(l.virtualPiece),l.virtualPiece=null),this._initEvents(),this._oldChildren=g},GD.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",(function(e){var n=!1;t.seriesModel.getViewRoot().eachNode((function(i){var o;!n&&i.piece&&i.piece===e.target&&("rootToNode"===(o=i.getModel().get("nodeClick"))?t._rootToNode(i):"link"===o&&(i=(o=i.getModel()).get("link"))&&Kn(i,o.get("target",!0)||"_blank"),n=!0)}))}))},GD.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:zD,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},GD.prototype.containPoint=function(t,e){var n;if(e=e.getData().getItemLayout(0))return n=t[0]-e.cx,t=t[1]-e.cy,(n=Math.sqrt(n*n+t*t))<=e.r&&n>=e.r0},GD.type="sunburst";var ZD,WD=GD;function FD(){var t=null!==ZD&&ZD.apply(this,arguments)||this;return t.type=FD.type,t.ignoreStyleOnData=!0,t}a(FD,ZD=Ir),FD.prototype.getInitialData=function(t,e){var n={name:t.name,children:t.data},i=(function t(e){var n=0;s.S6(e.children,(function(e){t(e),e=e.value,s.kJ(e)&&(e=e[0]),n+=e}));var i=e.value;s.kJ(i)&&(i=i[0]),null!=i&&!isNaN(i)||(i=n),i<0&&(i=0),s.kJ(e.value)?e.value[0]=i:e.value=i}(n),this._levelModels=s.UI(t.levels||[],(function(t){return new nn(t,this,e)}),this)),o=nx.createTree(n,this,(function(t){t.wrapMethod("getItemModel",(function(t,e){return e=o.getNodeByDataIndex(e),(e=i[e.depth])&&(t.parentModel=e),t}))}));return o.data},FD.prototype.optionUpdated=function(){this.resetViewRoot()},FD.prototype.getDataParams=function(t){var e=ZD.prototype.getDataParams.apply(this,arguments);return t=this.getData().tree.getNodeByDataIndex(t),e.treePathInfo=rx(t,this),e},FD.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},FD.prototype.getViewRoot=function(){return this._viewRoot},FD.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)},FD.prototype.enableAriaDecal=function(){gx(this)},FD.type="series.sunburst",FD.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"};var HD=FD,UD=Math.PI/180;function XD(t,e,n){e.eachSeriesByType(t,(function(t){var e=t.get("center"),i=t.get("radius"),o=(s.kJ(i)||(i=[0,i]),s.kJ(e)||(e=[e,e]),n.getWidth()),a=n.getHeight(),r=Math.min(o,a),l=p(e[0],o),u=p(e[1],a),c=p(i[0],r/2),h=(o=p(i[1],r/2),e=-t.get("startAngle")*UD,t.get("minAngle")*UD),d=t.getData().tree.root,g=(a=t.getViewRoot()).depth,f=(null!=(i=t.get("sort"))&&function t(e,n){var i=e.children||[];e.children=function(t,e){var n,i;return s.mf(e)?((n=s.UI(t,(function(t,e){var n=t.getValue();return{params:{depth:t.depth,height:t.height,dataIndex:t.dataIndex,getValue:function(){return n}},index:e}}))).sort((function(t,n){return e(t.params,n.params)})),s.UI(n,(function(e){return t[e.index]}))):(i="asc"===e,t.sort((function(t,e){var n=(t.getValue()-e.getValue())*(i?1:-1);return 0==n?(t.dataIndex-e.dataIndex)*(i?-1:1):n})))}(i,n),i.length&&s.S6(e.children,(function(e){t(e,n)}))}(a,i),0),y=(s.S6(a.children,(function(t){isNaN(t.getValue())||f++})),a.getValue()),m=Math.PI/(y||f)*2,v=0<a.depth,x=(i=a.height-(v?-1:1),(o-c)/(i||1)),_=t.get("clockwise"),S=t.get("stillShowZeroSum"),b=_?1:-1,w=function(e,n){var i,o,a,f,M,I,D,T;if(e)return i=n,e!==d&&(o=e.getValue(),i=n+b*(o=(o=0===y&&S?m:o*m)<h?h:o),f=e.depth-g-(v?-1:1),a=c+x*f,f=c+x*(1+f),(D=t.getLevelModel(e))&&(M=D.get("r0",!0),I=D.get("r",!0),null!=(D=D.get("radius",!0))&&(M=D[0],I=D[1]),null!=M&&(a=p(M,r/2)),null!=I)&&(f=p(I,r/2)),e.setLayout({angle:o,startAngle:n,endAngle:i,clockwise:_,cx:l,cy:u,r0:a,r:f})),e.children&&e.children.length&&(T=0,s.S6(e.children,(function(t){T+=w(t,n+T)}))),i-n};v&&(o=2*Math.PI,d.setLayout({angle:o,startAngle:e,endAngle:e+o,clockwise:_,cx:l,cy:u,r0:c,r:c+x})),w(a,e)}))}function YD(t){var e={};t.eachSeriesByType("sunburst",(function(t){var n=t.getData(),i=n.tree;i.eachNode((function(o){var a=o.getModel().getModel("itemStyle").getItemStyle();a.fill||(a.fill=function(t,n,i){for(var o=t;o&&1<o.depth;)o=o.parentNode;return n=n.getColorFromPalette(o.name||o.dataIndex+"",e),1<t.depth&&(0,s.HD)(n)?(0,mt.xb)(n,(t.depth-1)/(i-1)*.5):n}(o,t,i.root.height)),o=n.ensureUniqueItemVisual(o.dataIndex,"style"),(0,s.l7)(o,a)}))}))}var JD,jD={color:"fill",borderColor:"stroke"},KD={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},qD=U();function $D(){var t=null!==JD&&JD.apply(this,arguments)||this;return t.type=$D.type,t}a($D,JD=Ir),$D.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},$D.prototype.getInitialData=function(t,e){return Mh(null,this)},$D.prototype.getDataParams=function(t,e,n){return t=JD.prototype.getDataParams.call(this,t,e),n&&(t.info=qD(n).info),t},$D.type="series.custom",$D.dependencies=["grid","polar","geo","singleAxis","calendar"],$D.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1};var QD=$D;function tT(t,e){return e=e||[0,0],s.UI(["x","y"],(function(n,i){n=this.getAxis(n);var o=e[i];return i=t[i]/2,"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(o-i)-n.dataToCoord(o+i))}),this)}function eT(t,e){return e=e||[0,0],s.UI([0,1],(function(n){var i=e[n],o=t[n]/2,a=[],r=[];return a[n]=i-o,r[n]=i+o,a[1-n]=r[1-n]=e[1-n],Math.abs(this.dataToPoint(a)[n]-this.dataToPoint(r)[n])}),this)}function nT(t,e){var n=this.getAxis();return e=e instanceof Array?e[0]:e,t=(t instanceof Array?t[0]:t)/2,"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(e-t)-n.dataToCoord(e+t))}function iT(t,e){return e=e||[0,0],s.UI(["Radius","Angle"],(function(n,i){var o=this["get"+n+"Axis"](),a=e[i];return i=t[i]/2,o="category"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(a-i)-o.dataToCoord(a+i)),"Angle"===n?o*Math.PI/180:o}),this)}function oT(t,e,n,i){return t&&(t.legacy||!1!==t.legacy&&!n&&!i&&"tspan"!==e&&("text"===e||(0,s.RI)(t,"text")))}function aT(t,e,n){var i,o,a,r=t;return"text"===e?i=r:(i={},(0,s.RI)(r,"text")&&(i.text=r.text),(0,s.RI)(r,"rich")&&(i.rich=r.rich),(0,s.RI)(r,"textFill")&&(i.fill=r.textFill),(0,s.RI)(r,"textStroke")&&(i.stroke=r.textStroke),(0,s.RI)(r,"fontFamily")&&(i.fontFamily=r.fontFamily),(0,s.RI)(r,"fontSize")&&(i.fontSize=r.fontSize),(0,s.RI)(r,"fontStyle")&&(i.fontStyle=r.fontStyle),(0,s.RI)(r,"fontWeight")&&(i.fontWeight=r.fontWeight),o={type:"text",style:i,silent:!0},a={},e=(0,s.RI)(r,"textPosition"),n?a.position=e?r.textPosition:"inside":e&&(a.position=r.textPosition),(0,s.RI)(r,"textPosition")&&(a.position=r.textPosition),(0,s.RI)(r,"textOffset")&&(a.offset=r.textOffset),(0,s.RI)(r,"textRotation")&&(a.rotation=r.textRotation),(0,s.RI)(r,"textDistance")&&(a.distance=r.textDistance)),rT(i,t),(0,s.S6)(i.rich,(function(t){rT(t,t)})),{textConfig:a,textContent:o}}function rT(t,e){e&&(e.font=e.textFont||e.font,(0,s.RI)(e,"textStrokeWidth")&&(t.lineWidth=e.textStrokeWidth),(0,s.RI)(e,"textAlign")&&(t.align=e.textAlign),(0,s.RI)(e,"textVerticalAlign")&&(t.verticalAlign=e.textVerticalAlign),(0,s.RI)(e,"textLineHeight")&&(t.lineHeight=e.textLineHeight),(0,s.RI)(e,"textWidth")&&(t.width=e.textWidth),(0,s.RI)(e,"textHeight")&&(t.height=e.textHeight),(0,s.RI)(e,"textBackgroundColor")&&(t.backgroundColor=e.textBackgroundColor),(0,s.RI)(e,"textPadding")&&(t.padding=e.textPadding),(0,s.RI)(e,"textBorderColor")&&(t.borderColor=e.textBorderColor),(0,s.RI)(e,"textBorderWidth")&&(t.borderWidth=e.textBorderWidth),(0,s.RI)(e,"textBorderRadius")&&(t.borderRadius=e.textBorderRadius),(0,s.RI)(e,"textBoxShadowColor")&&(t.shadowColor=e.textBoxShadowColor),(0,s.RI)(e,"textBoxShadowBlur")&&(t.shadowBlur=e.textBoxShadowBlur),(0,s.RI)(e,"textBoxShadowOffsetX")&&(t.shadowOffsetX=e.textBoxShadowOffsetX),(0,s.RI)(e,"textBoxShadowOffsetY"))&&(t.shadowOffsetY=e.textBoxShadowOffsetY)}function sT(t,e,n){var i=t,o=(i.textPosition=i.textPosition||n.position||"inside",null!=n.offset&&(i.textOffset=n.offset),null!=n.rotation&&(i.textRotation=n.rotation),null!=n.distance&&(i.textDistance=n.distance),0<=i.textPosition.indexOf("inside")),a=t.fill||"#000",r=(lT(i,e),null==i.textFill);return o?r&&(i.textFill=n.insideFill||"#fff",!i.textStroke&&n.insideStroke&&(i.textStroke=n.insideStroke),i.textStroke||(i.textStroke=a),null==i.textStrokeWidth)&&(i.textStrokeWidth=2):(r&&(i.textFill=t.fill||n.outsideFill||"#000"),!i.textStroke&&n.outsideStroke&&(i.textStroke=n.outsideStroke)),i.text=e.text,i.rich=e.rich,(0,s.S6)(e.rich,(function(t){lT(t,t)})),i}function lT(t,e){e&&((0,s.RI)(e,"fill")&&(t.textFill=e.fill),(0,s.RI)(e,"stroke")&&(t.textStroke=e.fill),(0,s.RI)(e,"lineWidth")&&(t.textStrokeWidth=e.lineWidth),(0,s.RI)(e,"font")&&(t.font=e.font),(0,s.RI)(e,"fontStyle")&&(t.fontStyle=e.fontStyle),(0,s.RI)(e,"fontWeight")&&(t.fontWeight=e.fontWeight),(0,s.RI)(e,"fontSize")&&(t.fontSize=e.fontSize),(0,s.RI)(e,"fontFamily")&&(t.fontFamily=e.fontFamily),(0,s.RI)(e,"align")&&(t.textAlign=e.align),(0,s.RI)(e,"verticalAlign")&&(t.textVerticalAlign=e.verticalAlign),(0,s.RI)(e,"lineHeight")&&(t.textLineHeight=e.lineHeight),(0,s.RI)(e,"width")&&(t.textWidth=e.width),(0,s.RI)(e,"height")&&(t.textHeight=e.height),(0,s.RI)(e,"backgroundColor")&&(t.textBackgroundColor=e.backgroundColor),(0,s.RI)(e,"padding")&&(t.textPadding=e.padding),(0,s.RI)(e,"borderColor")&&(t.textBorderColor=e.borderColor),(0,s.RI)(e,"borderWidth")&&(t.textBorderWidth=e.borderWidth),(0,s.RI)(e,"borderRadius")&&(t.textBorderRadius=e.borderRadius),(0,s.RI)(e,"shadowColor")&&(t.textBoxShadowColor=e.shadowColor),(0,s.RI)(e,"shadowBlur")&&(t.textBoxShadowBlur=e.shadowBlur),(0,s.RI)(e,"shadowOffsetX")&&(t.textBoxShadowOffsetX=e.shadowOffsetX),(0,s.RI)(e,"shadowOffsetY")&&(t.textBoxShadowOffsetY=e.shadowOffsetY),(0,s.RI)(e,"textShadowColor")&&(t.textShadowColor=e.textShadowColor),(0,s.RI)(e,"textShadowBlur")&&(t.textShadowBlur=e.textShadowBlur),(0,s.RI)(e,"textShadowOffsetX")&&(t.textShadowOffsetX=e.textShadowOffsetX),(0,s.RI)(e,"textShadowOffsetY"))&&(t.textShadowOffsetY=e.textShadowOffsetY)}var uT=n(5315),cT={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},hT=(0,s.XP)(cT),dT=((0,s.u4)(Rr.dN,(function(t,e){return t[e]=1,t}),{}),Rr.dN.join(", "),["","style","shape","extra"]),pT=U();function gT(t,e,n,i,o){var a=t+"Animation";return i=xe(t,i,o)||{},o=pT(e).userDuring,0<i.duration&&(i.during=o?(0,s.ak)(ST,{el:e,userDuring:o}):null,i.setToFinal=!0,i.scope=t),(0,s.l7)(i,n[a]),i}function fT(t,e,n,i){for(var o,a=(i=i||{}).dataIndex,r=i.isInit,l=(i=i.clearStyle,n.isAnimationEnabled()),u=pT(t),c=e.style,h=(u.userDuring=e.during,u={},{}),d=e,p=h,g=0;g<hT.length;g++){var f=hT[g],y=cT[f];(f=d[f])&&(p[y[0]]=f[0],p[y[1]]=f[1])}for(g=0;g<Rr.dN.length;g++){var m=Rr.dN[g];null!=d[m]&&(p[m]=d[m])}if(wT("shape",e,h),wT("extra",e,h),!r&&l){for(var v=t,x=e,_=u,S=vT(x=e.transition)?Rr.dN:N(x||[]),b=0;b<S.length;b++){var w,M=S[b];"style"!==M&&"shape"!==M&&"extra"!==M&&(w=v[M],_[M]=w)}bT("shape",t,e,u),bT("extra",t,e,u),x=t;var I=e,D=c,T=u;if(D){var C,A=x.style;if(A){var k=D.transition;if(I=I.transition,k&&!vT(k)){var L=N(k);C=C||(T.style={});for(var P=0;P<L.length;P++){var R=L[P],O=A[R];C[R]=O}}else if(x.getAnimationStyleProps&&(vT(I)||vT(k)||0<=(0,s.cq)(I,"style"))){var E=(k=x.getAnimationStyleProps())?k.style:null;if(E){C=C||(T.style={});var V=(0,s.XP)(D);for(P=0;P<V.length;P++)E[R=V[P]]&&(O=A[R],C[R]=O)}}}}}h.style=c;var z=t;if(x=i,k=(I=h).style,!z.isGroup&&k){if(x){z.useStyle({});for(var B=z.animators,G=0;G<B.length;G++){var Z=B[G];"style"===Z.targetName&&Z.changeTarget(z.style)}}z.setStyle(k)}I&&(I.style=null,I&&z.attr(I),I.style=k),T=t,D=e,(0,s.RI)(D,"silent")&&(T.silent=D.silent),(0,s.RI)(D,"ignore")&&(T.ignore=D.ignore),T instanceof Am.ZP&&(0,s.RI)(D,"invisible")&&(T.invisible=D.invisible),T instanceof vt.ZP&&(0,s.RI)(D,"autoBatch")&&(T.autoBatch=D.autoBatch),l&&(r?(o={},(0,s.S6)(dT,(function(t){var n=t?e[t]:e;n&&n.enterFrom&&(t&&(o[t]=o[t]||{}),(0,s.l7)(t?o[t]:o,n.enterFrom))})),0<(h=gT("enter",t,e,n,a)).duration&&t.animateFrom(o,h)):(i=t,l=e,r=a||0,h=n,(a=u)&&0<(l=gT("update",i,l,h,r)).duration&&i.animateFrom(a,l))),yT(t,e),c?t.dirty():t.markRedraw()}function yT(t,e){for(var n=pT(t).leaveToProps,i=0;i<dT.length;i++){var o=dT[i],a=o?e[o]:e;a&&a.leaveTo&&(n=n||(pT(t).leaveToProps={}),o&&(n[o]=n[o]||{}),(0,s.l7)(o?n[o]:n,a.leaveTo))}}function mT(t,e,n,i){var o,a;t&&(o=t.parent,(a=pT(t).leaveToProps)?((e=gT("update",t,e,n,0)).done=function(){o.remove(t),i&&i()},t.animateTo(a,e)):(o.remove(t),i&&i()))}function vT(t){return"all"===t}var xT={},_T={setTransform:function(t,e){return xT.el[t]=e,this},getTransform:function(t){return xT.el[t]},setShape:function(t,e){var n=xT.el;return(n.shape||(n.shape={}))[t]=e,n.dirtyShape&&n.dirtyShape(),this},getShape:function(t){var e=xT.el.shape;if(e)return e[t]},setStyle:function(t,e){var n=xT.el,i=n.style;return i&&(i[t]=e,n.dirtyStyle)&&n.dirtyStyle(),this},getStyle:function(t){var e=xT.el.style;if(e)return e[t]},setExtra:function(t,e){return(xT.el.extra||(xT.el.extra={}))[t]=e,this},getExtra:function(t){var e=xT.el.extra;if(e)return e[t]}};function ST(){var t,e=this.el;e&&(pT(e).userDuring!==(t=this.userDuring)?this.el=this.userDuring=null:(xT.el=e,t(_T)))}function bT(t,e,n,i){var o=n[t];if(o){var a,r,l=e[t];if(l)if(e=n.transition,n=o.transition)if(d=d||(i[t]={}),vT(n))(0,s.l7)(d,l);else for(var u=N(n),c=0;c<u.length;c++){var h=l[g=u[c]];d[g]=h}else if(vT(e)||0<=(0,s.cq)(e,t)){var d=d||(i[t]={}),p=(0,s.XP)(l);for(c=0;c<p.length;c++){var g;h=l[g=p[c]],a=o[g],r=h,((0,s.zG)(a)?a!==r:null!=a&&isFinite(a))&&(d[g]=h)}}}}function wT(t,e,n){var i=e[t];if(i)for(var o=n[t]={},a=(0,s.XP)(i),r=0;r<a.length;r++){var l=a[r];o[l]=(0,uT.V)(i[l])}}var MT=U(),IT=["percent","easing","shape","style","extra"];function DT(t){t.stopAnimation("keyframe"),t.attr(MT(t))}function TT(t,e,n){var i,o,a,r;n.isAnimationEnabled()&&e&&((0,s.kJ)(e)?(0,s.S6)(e,(function(e){TT(t,e,n)})):(i=e.keyframes,a=e.duration,n&&null==a&&(o=xe("enter",n,0),a=o&&o.duration),i&&a&&(r=MT(t),(0,s.S6)(dT,(function(n){var o;n&&!t[n]||(i.sort((function(t,e){return t.percent-e.percent})),(0,s.S6)(i,(function(i){var l=t.animators,u=n?i[n]:i;if(u){var c=(0,s.XP)(u);if((c=n?c:(0,s.hX)(c,(function(t){return(0,s.cq)(IT,t)<0}))).length){o||((o=t.animate(n,e.loop,!0)).scope="keyframe");for(var h=0;h<l.length;h++)l[h]!==o&&l[h].targetName===o.targetName&&l[h].stopTracks(c);n&&(r[n]=r[n]||{});var d=n?r[n]:r;(0,s.S6)(c,(function(e){d[e]=((n?t[n]:t)||{})[e]})),o.whenWithKeys(a*i.percent,u,c,i.easing)}}})),o&&o.delay(e.delay||0).duration(a).start(e.easing))})))))}var CT,AT="emphasis",kT="normal",LT=[kT,AT,Cl="blur",Il="select"],PT={normal:["itemStyle"],emphasis:[AT,"itemStyle"],blur:[Cl,"itemStyle"],select:[Il,"itemStyle"]},RT={normal:["label"],emphasis:[AT,"label"],blur:[Cl,"label"],select:[Il,"label"]},NT=["x","y"],OT="e\0\0",ET={normal:{},emphasis:{},blur:{},select:{}},VT={cartesian2d:function(t){var e=t.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:s.ak(tT,t)}}},geo:function(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:t.getZoom()},api:{coord:function(e){return t.dataToPoint(e)},size:s.ak(eT,t)}}},single:function(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:(0,s.ak)(nT,t)}}},polar:function(t){var e=t.getRadiusAxis(),n=t.getAngleAxis(),i=e.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:i[1],r0:i[0]},api:{coord:function(i){var o=e.dataToRadius(i[0]),a=(i=n.dataToAngle(i[1]),t.coordToPoint([o,i]));return a.push(o,i*Math.PI/180),a},size:s.ak(iT,t)}}},calendar:function(t){var e=t.getRect(),n=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(e,n){return t.dataToPoint(e,n)}}}}};function zT(t){return t instanceof vt.ZP}function BT(t){return t instanceof Am.ZP}function GT(){var t=null!==CT&&CT.apply(this,arguments)||this;return t.type=GT.type,t}a(GT,CT=Os),GT.prototype.render=function(t,e,n,i){this._progressiveEls=null;var o=this._data,a=t.getData(),r=this.group,s=UT(t,a,e,n);o||r.removeAll(),a.diff(o).add((function(e){XT(n,null,e,s(e,i),t,r,a)})).remove((function(e){(e=o.getItemGraphicEl(e))&&mT(e,qD(e).option,t)})).update((function(e,l){l=o.getItemGraphicEl(l),XT(n,l,e,s(e,i),t,r,a)})).execute(),(e=t.get("clip",!0)?rd(t.coordinateSystem,!1,t):null)?r.setClipPath(e):r.removeClipPath(),this._data=a},GT.prototype.incrementalPrepareRender=function(t,e,n){this.group.removeAll(),this._data=null},GT.prototype.incrementalRender=function(t,e,n,i,o){var a=e.getData(),r=UT(e,a,n,i),s=this._progressiveEls=[];function l(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}for(var u=t.start;u<t.end;u++){var c=XT(null,null,u,r(u,o),e,this.group,a);c&&(c.traverse(l),s.push(c))}},GT.prototype.eachRendered=function(t){Ds(this._progressiveEls||this.group,t)},GT.prototype.filterForExposedEvent=function(t,e,n,i){var o=e.element;if(null==o||n.name===o)return!0;for(;(n=n.__hostTarget||n.parent)&&n!==this.group;)if(n.name===o)return!0;return!1},GT.type="custom";var ZT=GT;function WT(t){var e=t.type;if("path"===e){var n=t.shape,i=null!=n.width&&null!=n.height?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,o=eC(n);i=rs(o,null,i,n.layout||"center"),qD(i).customPathData=o}else if("image"===e)i=new Nr.ZP({}),qD(i).customImagePath=t.style.image;else if("text"===e)i=new ft.ZP({});else if("group"===e)i=new Dr.Z;else{if("compoundPath"===e)throw new Error('"compoundPath" is not supported yet.');(n=as(e))||ga(""),i=new n}return qD(i).customGraphicType=e,i.name=t.name,i.z2EmphasisLift=1,i.z2SelectLift=1,i}function FT(t,e,n,i,o,a,r){var l,u;DT(e),(o=o&&o.normal.cfg)&&e.setTextConfig(o),i&&null==i.transition&&(i.transition=NT),(o=i&&i.style)&&(u=void("text"===e.type&&((0,s.RI)(u=o,"textFill")&&(u.fill=u.textFill),(0,s.RI)(u,"textStroke"))&&(u.stroke=u.textStroke)),l=zT(e)?o.decal:null,t&&l&&(l.dirty=!0,u=Fl(l,t)),o.__decalPattern=u),BT(e)&&o&&(u=o.__decalPattern)&&(o.decal=u),fT(e,i,a,{dataIndex:n,isInit:r,clearStyle:!0}),TT(e,i.keyframeAnimation,a)}function HT(t,e,n,i,o){var a;e=e.isGroup?null:e,o=o&&o[t].cfg,e&&(a=e.ensureState(t),!1===i?(t=e.getState(t))&&(t.style=null):a.style=i||null,o&&(a.textConfig=o),Yt(e))}function UT(t,e,n,i){for(var o,a,r,l,u=t.get("renderItem"),c=t.coordinateSystem,h={},d=(c&&(h=c.prepareCustoms?c.prepareCustoms(c):VT[c.type](c)),(0,s.ce)({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function(t,n){return null==n&&(n=r),e.getStore().get(e.getDimensionIndex(t||0),n)},style:function(n,i){null==i&&(i=r);var o=(a=e.getItemVisual(i,"style"))&&a.fill,a=a&&a.opacity,l=S(i,kT).getItemStyle(),u=(null!=o&&(l.fill=o),null!=a&&(l.opacity=a),a={inheritColor:(0,s.HD)(o)?o:"#000"},Re(o=b(i,kT),null,a,!1,!0));return u.text=o.getShallow("show")?(0,s.pD)(t.getFormattedLabel(i,kT),Ch(e,i)):null,i=Ne(o,a,!1),M(n,l),l=sT(l,u,i),n&&w(l,n),l.legacy=!0,l},ordinalRawValue:function(t,n){null==n&&(n=r),t=t||0;var i,o=e.getDimensionInfo(t);return o?(i=e.get(o.name,n),(o=o&&o.ordinalMeta)?o.categories[i]:i):0<=(o=e.getDimensionIndex(t))?e.getStore().get(o,n):void 0},styleEmphasis:function(n,i){var o=S(i=null==i?r:i,AT).getItemStyle(),a=b(i,AT),l=Re(a,null,null,!0,!0);return l.text=a.getShallow("show")?(0,s.R1)(t.getFormattedLabel(i,AT),t.getFormattedLabel(i,kT),Ch(e,i)):null,i=Ne(a,null,!0),M(n,o),o=sT(o,l,i),n&&w(o,n),o.legacy=!0,o},visual:function(t,n){var i;return null==n&&(n=r),(0,s.RI)(jD,t)?(i=e.getItemVisual(n,"style"))?i[jD[t]]:null:(0,s.RI)(KD,t)?e.getItemVisual(n,t):void 0},barLayout:function(t){var e;if("cartesian2d"===c.type)return e=c.getBaseAxis(),function(t){var e=[],n=t.axis;if("category"===n.type){for(var i=n.getBandWidth(),o=0;o<t.count;o++)e.push((0,s.ce)({bandWidth:i,axisKey:"axis0",stackId:Md+o},t));var a=Ad(e),r=[];for(o=0;o<t.count;o++){var l=a.axis0[Md+o];l.offsetCenter=l.offset+l.width/2,r.push(l)}return r}}((0,s.ce)({axis:e},t))},currentSeriesIndices:function(){return n.getCurrentSeriesIndices()},font:function(t){return Be(t,n)}},h.api||{})),p={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:h.coordSys,dataInsideLength:e.count(),encode:(o=t.getData(),a={},(0,s.S6)(o.dimensions,(function(t){var e,n=o.getDimensionInfo(t);n.isExtraCoord||(e=n.coordDim,(a[e]=a[e]||[])[n.coordDimIndex]=o.getDimensionIndex(t))})),a)},g={},f={},y={},m={},v=0;v<LT.length;v++){var x=LT[v];y[x]=t.getModel(PT[x]),m[x]=t.getModel(RT[x])}function _(t){return t===r?l=l||e.getItemModel(t):e.getItemModel(t)}function S(t,n){return e.hasItemOption?t===r?g[n]||(g[n]=_(t).getModel(PT[n])):_(t).getModel(PT[n]):y[n]}function b(t,n){return e.hasItemOption?t===r?f[n]||(f[n]=_(t).getModel(RT[n])):_(t).getModel(RT[n]):m[n]}return function(t,n){return r=t,l=null,g={},f={},u&&u((0,s.ce)({dataIndexInside:t,dataIndex:e.getRawIndex(t),actionType:n?n.type:null},p),d)};function w(t,e){for(var n in e)(0,s.RI)(e,n)&&(t[n]=e[n])}function M(t,e){t&&(t.textFill&&(e.textFill=t.textFill),t.textPosition)&&(e.textPosition=t.textPosition)}}function XT(t,e,n,i,o,a,r){if(i)return(t=YT(t,e,n,i,o,a))&&r.setItemGraphicEl(n,t),t&&ue(t,i.focus,i.blurScope,i.emphasisDisabled),t;a.remove(e)}function YT(t,e,n,i,o,a){var r=-1,l=e,u=(e&&JT(e,i,o)&&(r=(0,s.cq)(a.childrenRef(),e),e=null),!e),c=e,h=(c?c.clearStates():(c=WT(i),l&&(e=l,(l=c).copyTransform(e),BT(l))&&BT(e)&&(l.setStyle(e.style),l.z=e.z,l.z2=e.z2,l.zlevel=e.zlevel,l.invisible=e.invisible,l.ignore=e.ignore,zT(l))&&zT(e)&&l.setShape(e.shape)),!1===i.morph?c.disableMorphing=!0:c.disableMorphing&&(c.disableMorphing=!1),ET.normal.cfg=ET.normal.conOpt=ET.emphasis.cfg=ET.emphasis.conOpt=ET.blur.cfg=ET.blur.conOpt=ET.select.cfg=ET.select.conOpt=null,ET.isLegacy=!1,l=c,e=n,i),d=o,p=u,g=ET;if(!l.isGroup){jT(h,null,g),jT(h,AT,g);var f=g.normal.conOpt,y=(h=g.emphasis.conOpt,g.blur.conOpt),m=g.select.conOpt;if(null!=f||null!=h||null!=m||null!=y){var v=l.getTextContent();if(!1===f)v&&l.removeTextContent();else{f=g.normal.conOpt=f||{type:"text"},v?v.clearStates():(v=WT(f),l.setTextContent(v)),FT(null,v,e,f,null,d,p),h=f&&f.style;for(var x=0;x<LT.length;x++){var _=LT[x];_!==kT&&HT(_,v,0,qT(f,g[_].conOpt,_),null)}h?v.dirty():v.markRedraw()}}}m=c,y=n,e=o,d=u,!1===(l=(l=i).clipPath)?m&&m.getClipPath()&&m.removeClipPath():l&&((p=(p=m.getClipPath())&&JT(p,l,e)?null:p)||(p=WT(l),m.setClipPath(p)),FT(null,p,y,l,null,e,d)),FT(t,c,n,i,ET,o,u),(0,s.RI)(i,"info")&&(qD(c).info=i.info);for(var S=0;S<LT.length;S++){var b=LT[S];b!==kT&&HT(b,c,0,qT(i,KT(i,b),b),ET)}if(function(t,e,n){if(!t.isGroup){var i=t;t=n.currentZ,n=n.currentZLevel,null!=(i.z=t,i.zlevel=n,t=e.z2)&&(i.z2=t||0);for(var o,a,r,s,l=0;l<LT.length;l++)o=i,a=e,null!=(a=(a=(s=(r=LT[l])===kT)?a:KT(a,r))?a.z2:null)&&((s?o:o.ensureState(r)).z2=a||0)}}(c,i,o),"group"===i.type){var w=t,M=c,I=n,D=o,T=(h=i).children,C=T?T.length:0;if(h="byName"===(p=h.$mergeChildren)||h.diffChildrenByName,p=!1===p,C||h||p)if(h)h={api:w,oldChildren:M.children()||[],newChildren:T||[],dataIndex:I,seriesModel:D,group:M},new Hc(h.oldChildren,h.newChildren,$T,$T,h).add(QT).update(QT).remove(tC).execute();else{p&&M.removeAll();for(var A=0;A<C;A++){var k=T[A],L=M.childAt(A);k?(null==k.ignore&&(k.ignore=!1),YT(w,L,I,k,D,M)):L.ignore=!0}for(var P=M.childCount()-1;A<=P;P--){var R=M.childAt(P);!function(t,e,n){e&&mT(e,qD(t).option,n)}(M,R,D)}}}return 0<=r?a.replaceAt(c,r):a.add(c),c}function JT(t,e,n){t=qD(t);var i=e.type,o=e.shape;return e=e.style,n.isUniversalTransitionEnabled()||null!=i&&i!==t.customGraphicType||"path"===i&&(n=o)&&((0,s.RI)(n,"pathData")||(0,s.RI)(n,"d"))&&eC(o)!==t.customPathData||"image"===i&&(0,s.RI)(e,"image")&&e.image!==t.customImagePath}function jT(t,e,n){var i=e?KT(t,e):t,o=e?qT(t,i,AT):t.style,a=t.type;i=i?i.textConfig:null,t=(t=t.textContent)?e?KT(t,e):t:null,(o&&(n.isLegacy||oT(o,a,!!i,!!t))&&(n.isLegacy=!0,o=aT(o,a,!e),!i&&o.textConfig&&(i=o.textConfig),!t)&&o.textContent&&(t=o.textContent),e||!t||(a=t).type||(a.type="text"),o=e?n[e]:n.normal).cfg=i,o.conOpt=t}function KT(t,e){return e?t?t[e]:null:t}function qT(t,e,n){return null==(e=e&&e.style)&&n===AT&&t?t.styleEmphasis:e}function $T(t,e){return null!=(t=t&&t.name)?t:OT+e}function QT(t,e){var n=this.context;t=null!=t?n.newChildren[t]:null,e=null!=e?n.oldChildren[e]:null,YT(n.api,e,n.dataIndex,t,n.seriesModel,n.group)}function tC(t){var e=this.context;(t=e.oldChildren[t])&&mT(t,qD(t).option,e.seriesModel)}function eC(t){return t&&(t.pathData||t.d)}var nC,iC=U(),oC=s.d9,aC=s.ak;function rC(){this._dragging=!1,this.animationThreshold=15}function sC(t,e,n,i){!function t(e,n){var i;return s.Kn(e)&&s.Kn(n)?(i=!0,s.S6(n,(function(n,o){i=i&&t(e[o],n)})),!!i):e===n}(iC(n).lastProp,i)&&(iC(n).lastProp=i,e?Se(n,i,t):(n.stopAnimation(),n.attr(i)))}function lC(t,e){t[e.get(["label","show"])?"show":"hide"]()}function uC(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function cC(t,e,n){var i=e.get("z"),o=e.get("zlevel");t&&t.traverse((function(t){"group"!==t.type&&(null!=i&&(t.z=i),null!=o&&(t.zlevel=o),t.silent=n)}))}function hC(t){var e,n=t.get("type");return t=t.getModel(n+"Style"),"line"===n?(e=t.getLineStyle()).fill=null:"shadow"===n&&((e=t.getAreaStyle()).stroke=null),e}function dC(t,e,n,i,o){var a,r=pC(n.get("value"),e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),s=(n=n.getModel("label"),Hn(n.get("padding")||0)),l=n.getFont(),u=Dl.lP(r,l),c=o.position,h=u.width+s[1]+s[3];u=u.height+s[0]+s[2],"bottom"===("right"===(a=o.align)&&(c[0]-=h),"center"===a&&(c[0]-=h/2),a=o.verticalAlign)&&(c[1]-=u),"middle"===a&&(c[1]-=u/2),o=c,a=h,h=u,i=(u=i).getWidth(),u=u.getHeight(),o[0]=Math.min(o[0]+a,i)-a,o[1]=Math.min(o[1]+h,u)-h,o[0]=Math.max(o[0],0),o[1]=Math.max(o[1],0),(i=n.get("backgroundColor"))&&"auto"!==i||(i=e.get(["axisLine","lineStyle","color"])),t.label={x:c[0],y:c[1],style:Re(n,{text:r,font:l,fill:n.getTextColor(),padding:s,backgroundColor:i}),z2:10}}function pC(t,e,n,i,o){t=e.scale.parse(t);var a,r=e.scale.getLabel({value:t},{precision:o.precision});return(o=o.formatter)&&(a={value:$g(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]},s.S6(i,(function(t){var e=n.getSeriesByIndex(t.seriesIndex);t=t.dataIndexInside,(e=e&&e.getDataParams(t))&&a.seriesData.push(e)})),s.HD(o)?r=o.replace("{value}",r):s.mf(o)&&(r=o(a))),r}function gC(t,e,n){var i=Lr.Ue();return Lr.U1(i,i,n.rotation),Lr.Iu(i,i,n.position),fs([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}function fC(t,e,n,i,o,a){var r=Zf.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=o.get(["label","margin"]),dC(e,i,o,a,{position:gC(i.axis,t,n),align:r.textAlign,verticalAlign:r.textVerticalAlign})}function yC(t,e,n){return{x1:t[n=n||0],y1:t[1-n],x2:e[n],y2:e[1-n]}}function mC(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}}function vC(t,e,n,i,o,a){return{cx:t,cy:e,r0:n,r:i,startAngle:o,endAngle:a,clockwise:!0}}function xC(){return null!==nC&&nC.apply(this,arguments)||this}function _C(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}rC.prototype.render=function(t,e,n,i){var o,a,r=e.get("value"),l=e.get("status");this._axisModel=t,this._axisPointerModel=e,this._api=n,!i&&this._lastValue===r&&this._lastStatus===l||(this._lastValue=r,this._lastStatus=l,i=this._group,o=this._handle,l&&"hide"!==l?(i&&i.show(),o&&o.show(),this.makeElOption(l={},r,t,e,n),(a=l.graphicKey)!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=a,a=this._moveAnimation=this.determineAnimation(t,e),i?(a=s.WA(sC,e,a),this.updatePointerEl(i,l,a),this.updateLabelEl(i,l,a,e)):(i=this._group=new Dr.Z,this.createPointerEl(i,l,t,e),this.createLabelEl(i,l,t,e),n.getZr().add(i)),cC(i,e,!0),this._renderHandle(r)):(i&&i.hide(),o&&o.hide()))},rC.prototype.remove=function(t){this.clear(t)},rC.prototype.dispose=function(t){this.clear(t)},rC.prototype.determineAnimation=function(t,e){var n,i=e.get("animation"),o=t.axis,a="category"===o.type;return!(!(e=e.get("snap"))&&!a)&&("auto"===i||null==i?(n=this.animationThreshold,a&&o.getBandWidth()>n||!!e&&(a=Ff(t).seriesDataCount,e=o.getExtent(),Math.abs(e[0]-e[1])/a>n)):!0===i)},rC.prototype.makeElOption=function(t,e,n,i,o){},rC.prototype.createPointerEl=function(t,e,n,o){var a=e.pointer;a&&(a=iC(t).pointerEl=new i[a.type](oC(e.pointer)),t.add(a))},rC.prototype.createLabelEl=function(t,e,n,i){e.label&&(e=iC(t).labelEl=new ft.ZP(oC(e.label)),t.add(e),lC(e,i))},rC.prototype.updatePointerEl=function(t,e,n){(t=iC(t).pointerEl)&&e.pointer&&(t.setStyle(e.pointer.style),n(t,{shape:e.pointer.shape}))},rC.prototype.updateLabelEl=function(t,e,n,i){(t=iC(t).labelEl)&&(t.setStyle(e.label.style),n(t,{x:e.label.x,y:e.label.y}),lC(t,i))},rC.prototype._renderHandle=function(t){var e,n,i,o,a,r;!this._dragging&&this.updateHandleTransform&&(e=this._axisPointerModel,n=this._api.getZr(),i=this._handle,o=e.getModel("handle"),r=e.get("status"),o.get("show")&&r&&"hide"!==r?(this._handle||(a=!0,i=this._handle=Ss(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){Gy.sT(t.event)},onmousedown:aC(this._onHandleDragMove,this,0,0),drift:aC(this._onHandleDragMove,this),ondragend:aC(this._onHandleDragEnd,this)}),n.add(i)),cC(i,e,!1),i.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"])),r=o.get("size"),s.kJ(r)||(r=[r,r]),i.scaleX=r[0]/2,i.scaleY=r[1]/2,Gs(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,a)):(i&&n.remove(i),this._handle=null))},rC.prototype._moveHandleToValue=function(t,e){sC(this._axisPointerModel,!e&&this._moveAnimation,this._handle,uC(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},rC.prototype._onHandleDragMove=function(t,e){var n=this._handle;n&&(this._dragging=!0,t=this.updateHandleTransform(uC(n),[t,e],this._axisModel,this._axisPointerModel),this._payloadInfo=t,n.stopAnimation(),n.attr(uC(t)),iC(n).lastProp=null,this._doDispatchAxisPointer())},rC.prototype._doDispatchAxisPointer=function(){var t,e;this._handle&&(t=this._payloadInfo,e=this._axisModel,this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]}))},rC.prototype._onHandleDragEnd=function(){var t;this._dragging=!1,this._handle&&(t=this._axisPointerModel.get("value"),this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"}))},rC.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null,t=t.getZr();var e=this._group,n=this._handle;t&&e&&(this._lastGraphicKey=null,e&&t.remove(e),n&&t.remove(n),this._group=null,this._handle=null,this._payloadInfo=null),Zs(this,"_doDispatchAxisPointer")},rC.prototype.doClear=function(){},rC.prototype.buildLabel=function(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}},a(xC,nC=kl=rC),xC.prototype.makeElOption=function(t,e,n,i,o){var a,r=(c=n.axis).grid,s=i.get("type"),l=_C(r,c).getOtherAxis(c).getGlobalExtent(),u=c.toGlobalCoord(c.dataToCoord(e,!0)),c=(s&&"none"!==s&&(a=hC(i),(s=SC[s](c,u,l)).style=a,t.graphicKey=s.type,t.pointer=s),wf(r.model,n));fC(e,t,c,n,i,o)},xC.prototype.getHandleTransform=function(t,e,n){var i=wf(e.axis.grid.model,e,{labelInside:!1});return{x:(i.labelMargin=n.get(["handle","margin"]),n=gC(e.axis,t,i))[0],y:n[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},xC.prototype.updateHandleTransform=function(t,e,n,i){var o=(n=n.axis).grid,a=n.getGlobalExtent(!0),r=(o=_C(o,n).getOtherAxis(n).getGlobalExtent(),n="x"===n.dim?0:1,[t.x,t.y]);return(a=[(r[n]+=e[n],r[n]=Math.min(a[1],r[n]),r[n]=Math.max(a[0],r[n]),e=(o[1]+o[0])/2),e])[n]=r[n],{x:r[0],y:r[1],rotation:t.rotation,cursorPoint:a,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][n]}};var SC={line:function(t,e,n){return{type:"Line",subPixelOptimize:!0,shape:yC([e,n[0]],[e,n[1]],bC(t))}},shadow:function(t,e,n){var i=Math.max(1,t.getBandWidth()),o=n[1]-n[0];return{type:"Rect",shape:mC([e-i/2,n[0]],[i,o],bC(t))}}};function bC(t){return"x"===t.dim?0:1}var wC,MC=xC;function IC(){var t=null!==wC&&wC.apply(this,arguments)||this;return t.type=IC.type,t}a(IC,wC=yi),IC.type="axisPointer",IC.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}};var DC,TC=IC,CC=U(),AC=s.S6;function kC(t,e,n){var i,o,a;function r(t,e){o.on(t,(function(t){n=a;var n,i,r={dispatchAction:function t(e){var o=i[e.type];o?o.push(e):(e.dispatchAction=t,n.dispatchAction(e))},pendings:i={showTip:[],hideTip:[]}};AC(CC(o).records,(function(n){n&&e(n,t,r.dispatchAction)}));var s,l=r.pendings,u=a,c=l.showTip.length,h=l.hideTip.length;c?s=l.showTip[c-1]:h&&(s=l.hideTip[h-1]),s&&(s.dispatchAction=null,u.dispatchAction(s))}))}l.Z.node||(i=e.getZr(),CC(i).records||(CC(i).records={}),a=e,CC(o=i).initialized||(CC(o).initialized=!0,r("click",s.WA(PC,"click")),r("mousemove",s.WA(PC,"mousemove")),r("globalout",LC)),(CC(i).records[t]||(CC(i).records[t]={})).handler=n)}function LC(t,e,n){t.handler("leave",null,n)}function PC(t,e,n,i){e.handler(t,n,i)}function RC(t,e){l.Z.node||(e=e.getZr(),(CC(e).records||{})[t]&&(CC(e).records[t]=null))}function NC(){var t=null!==DC&&DC.apply(this,arguments)||this;return t.type=NC.type,t}a(NC,DC=Cr),NC.prototype.render=function(t,e,n){e=e.getComponent("tooltip");var i=t.get("triggerOn")||e&&e.get("triggerOn")||"mousemove|click";kC("axisPointer",n,(function(t,e,n){"none"!==i&&("leave"===t||0<=i.indexOf(t))&&n({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})}))},NC.prototype.remove=function(t,e){RC("axisPointer",e)},NC.prototype.dispose=function(t,e){RC("axisPointer",e)},NC.type="axisPointer";var OC=NC;function EC(t,e){var n,i,o,a,r=[],l=t.seriesIndex;return null==l||!(e=e.getSeriesByIndex(l))||null==(l=H(n=e.getData(),t))||l<0||s.kJ(l)?{point:[]}:(i=n.getItemGraphicEl(l),o=e.coordinateSystem,e.getTooltipPosition?r=e.getTooltipPosition(l)||[]:o&&o.dataToPoint?r=t.isStacked?(e=o.getBaseAxis(),t=o.getOtherAxis(e).dim,e=e.dim,t="x"===t||"radius"===t?1:0,e=n.mapDimension(e),(a=[])[t]=n.get(e,l),a[1-t]=n.get(n.getCalculationInfo("stackResultDimension"),l),o.dataToPoint(a)||[]):o.dataToPoint(n.getValues(s.UI(o.dimensions,(function(t){return n.mapDimension(t)})),l))||[]:i&&((e=i.getBoundingRect().clone()).applyTransform(i.transform),r=[e.x+e.width/2,e.y+e.height/2]),{point:r,el:i})}var VC,zC=U();function BC(t,e,n){var i,o,a,r,l,u,c,h,d,p,g,f,y,m,v=t.currTrigger,x=[t.x,t.y],_=t,S=t.dispatchAction||(0,s.ak)(n.dispatchAction,n),b=e.getComponent("axisPointer").coordSysAxesInfo;if(b)return HC(x)&&(x=EC({seriesIndex:_.seriesIndex,dataIndex:_.dataIndex},e).point),i=HC(x),o=_.axesInfo,a=b.axesInfo,r="leave"===v||HC(x),l={},e={list:[],map:{}},c={showPointer:(0,s.WA)(ZC,u={}),showTooltip:(0,s.WA)(WC,e)},(0,s.S6)(b.coordSysMap,(function(t,e){var n=i||t.containPoint(x);(0,s.S6)(b.coordSysAxesInfo[e],(function(t,e){var a=t.axis,s=function(t,e){for(var n=0;n<(t||[]).length;n++){var i=t[n];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}(o,t);r||!n||o&&!s||null!=(s=null!=(s=s&&s.value)||i?s:a.pointToData(x))&&GC(t,s,c,!1,l)}))})),h={},(0,s.S6)(a,(function(t,e){var n=t.linkGroup;n&&!u[e]&&(0,s.S6)(n.axesInfo,(function(e,i){i=u[i],e!==t&&i&&(i=i.value,n.mapper&&(i=t.axis.scale.parse(n.mapper(i,FC(e),FC(t)))),h[t.key]=i)}))})),(0,s.S6)(h,(function(t,e){GC(a[e],t,c,!0,l)})),d=u,_=a,p=l.axesInfo=[],(0,s.S6)(_,(function(t,e){var n=t.axisPointerModel.option;(e=d[e])?(t.useHandle||(n.status="show"),n.value=e.value,n.seriesDataIndices=(e.payloadBatch||[]).slice()):t.useHandle||(n.status="hide"),"show"===n.status&&p.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:n.value})})),v=e,_=t,e=S,HC(t=x)||!v.list.length?e({type:"hideTip"}):(S=((v.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{},e({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:_.tooltipOption,position:_.position,dataIndexInside:S.dataIndexInside,dataIndex:S.dataIndex,seriesIndex:S.seriesIndex,dataByCoordSys:v.list})),e=a,_=(t=n).getZr(),S="axisPointerLastHighlights",g=zC(_)[S]||{},f=zC(_)[S]={},(0,s.S6)(e,(function(t,e){var n=t.axisPointerModel.option;"show"===n.status&&t.triggerEmphasis&&(0,s.S6)(n.seriesDataIndices,(function(t){var e=t.seriesIndex+" | "+t.dataIndex;f[e]=t}))})),y=[],m=[],(0,s.S6)(g,(function(t,e){f[e]||m.push(t)})),(0,s.S6)(f,(function(t,e){g[e]||y.push(t)})),m.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:m}),y.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:y}),l}function GC(t,e,n,i,o){var a,r,l,u,c,h,d,p,g,f,y=t.axis;!y.scale.isBlank()&&y.containData(e)&&(t.involveSeries?(r=e,l=t.axis,u=l.dim,c=r,h=[],d=Number.MAX_VALUE,p=-1,(0,s.S6)(t.seriesModels,(function(t,e){var n,i=t.getData().mapDimensionsAll(u);if(t.getAxisTooltipData)var o=(a=t.getAxisTooltipData(i,r,l)).dataIndices,a=a.nestestValue;else{if(!(o=t.getData().indicesOfNearest(i[0],r,"category"===l.type?.5:null)).length)return;a=t.getData().get(i[0],o[0])}null!=a&&isFinite(a)&&(i=r-a,(n=Math.abs(i))<=d)&&((n<d||0<=i&&p<0)&&(d=n,p=i,c=a,h.length=0),(0,s.S6)(o,(function(e){h.push({seriesIndex:t.seriesIndex,dataIndexInside:e,dataIndex:t.getData().getRawIndex(e)})})))})),f=(a={payloadBatch:h,snapToValue:c}).snapToValue,(g=a.payloadBatch)[0]&&null==o.seriesIndex&&(0,s.l7)(o,g[0]),!i&&t.snap&&y.containData(f)&&null!=f&&(e=f),n.showPointer(t,e,g),n.showTooltip(t,a,f)):n.showPointer(t,e))}function ZC(t,e,n,i){t[e.key]={value:n,payloadBatch:i}}function WC(t,e,n,i){n=n.payloadBatch;var o,a,r=e.axis,s=r.model,l=e.axisPointerModel;e.triggerTooltip&&n.length&&(o=Uf(e=e.coordSys.model),(a=t.map[o])||(a=t.map[o]={coordSysId:e.id,coordSysIndex:e.componentIndex,coordSysType:e.type,coordSysMainType:e.mainType,dataByAxis:[]},t.list.push(a)),a.dataByAxis.push({axisDim:r.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:i,valueLabelOpt:{precision:l.get(["label","precision"]),formatter:l.get(["label","formatter"])},seriesDataIndices:n.slice()}))}function FC(t){var e=t.axis.model,n={};return t=n.axisDim=t.axis.dim,n.axisIndex=n[t+"AxisIndex"]=e.componentIndex,n.axisName=n[t+"AxisName"]=e.name,n.axisId=n[t+"AxisId"]=e.id,n}function HC(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function UC(t){jf.registerAxisPointerClass("CartesianAxisPointer",MC),t.registerComponentModel(TC),t.registerComponentView(OC),t.registerPreprocessor((function(t){var e;t&&(t.axisPointer&&0!==t.axisPointer.length||(t.axisPointer={}),e=t.axisPointer.link)&&!(0,s.kJ)(e)&&(t.axisPointer.link=[e])})),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,(function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=function(t,e){var n,i,o,a,r,l,u,c={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return n=c,o=(i=t).getComponent("tooltip"),a=i.getComponent("axisPointer"),r=a.get("link",!0)||[],l=[],(0,s.S6)(e.getCoordinateSystems(),(function(t){var e,u,c,h,d;function p(o,c,h){var d,p,g=h.model.getModel("axisPointer",a),f=g.get("show");f&&("auto"!==f||o||Hf(g))&&(null==c&&(c=g.get("triggerTooltip")),f=(g=o?function(t,e,n,i,o,a){var r=e.getModel("axisPointer"),l={};return(0,s.S6)(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],(function(t){l[t]=(0,s.d9)(r.get(t))})),l.snap="category"!==t.type&&!!a,"cross"===r.get("type")&&(l.type="line"),null==(e=l.label||(l.label={})).show&&(e.show=!1),"cross"===o&&(o=r.get(["label","show"]),e.show=null==o||o,a||(o=l.lineStyle=r.get("crossStyle"))&&(0,s.ce)(e,o.textStyle)),t.model.getModel("axisPointer",new nn(l,n,i))}(h,u,a,i,o,c):g).get("snap"),o=g.get("triggerEmphasis"),d=Uf(h.model),p=c||f||"category"===h.type,c=n.axesInfo[d]={key:d,axis:h,coordSys:t,axisPointerModel:g,triggerTooltip:c,triggerEmphasis:o,involveSeries:p,snap:f,useHandle:Hf(g),seriesModels:[],linkGroup:null},e[d]=c,n.seriesInvolved=n.seriesInvolved||p,null!=(o=function(t,e){for(var n=e.model,i=e.dim,o=0;o<t.length;o++){var a=t[o]||{};if(Wf(a[i+"AxisId"],n.id)||Wf(a[i+"AxisIndex"],n.componentIndex)||Wf(a[i+"AxisName"],n.name))return o}}(r,h)))&&((f=l[o]||(l[o]={axesInfo:{}})).axesInfo[d]=c,f.mapper=r[o].mapper,c.linkGroup=f)}t.axisPointerEnabled&&(c=Uf(t.model),e=n.coordSysAxesInfo[c]={},u=(n.coordSysMap[c]=t).model.getModel("tooltip",o),(0,s.S6)(t.getAxes(),(0,s.WA)(p,!1,null)),t.getTooltipAxes)&&o&&u.get("show")&&(c="axis"===u.get("trigger"),h="cross"===u.get(["axisPointer","type"]),d=t.getTooltipAxes(u.get(["axisPointer","axis"])),(c||h)&&(0,s.S6)(d.baseAxes,(0,s.WA)(p,!h||"cross",c)),h)&&(0,s.S6)(d.otherAxes,(0,s.WA)(p,"cross",!1))})),c.seriesInvolved&&(u=c,t.eachSeries((function(t){var e=t.coordinateSystem,n=t.get(["tooltip","trigger"],!0),i=t.get(["tooltip","show"],!0);e&&"none"!==n&&!1!==n&&"item"!==n&&!1!==i&&!1!==t.get(["axisPointer","show"],!0)&&(0,s.S6)(u.coordSysAxesInfo[Uf(e.model)],(function(n){var i=n.axis;e.getAxis(i.dim)===i&&(n.seriesModels.push(t),null==n.seriesDataCount&&(n.seriesDataCount=0),n.seriesDataCount+=t.getData().count())}))}))),c}(t,e)})),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},BC)}function XC(){return null!==VC&&VC.apply(this,arguments)||this}a(XC,VC=kl),XC.prototype.makeElOption=function(t,e,n,i,o){var a,r=("angle"===(c=n.axis).dim&&(this.animationThreshold=Math.PI/18),c.polar),s=r.getOtherAxis(c).getExtent(),l=c.dataToCoord(e),u=i.get("type"),c=(u&&"none"!==u&&(a=hC(i),(u=JC[u](c,r,l,s)).style=a,t.graphicKey=u.type,t.pointer=u),i.get(["label","margin"]));dC(t,n,i,o,function(t,e,n,i){var o,a,r,s=e.axis,l=(t=s.dataToCoord(t),r=(r=n.getAngleAxis().getExtent()[0])/180*Math.PI,n.getRadiusAxis().getExtent());return l="radius"===s.dim?(s=Lr.Ue(),Lr.U1(s,s,r),Lr.Iu(s,s,[n.cx,n.cy]),o=fs([t,-i],s),s=e.getModel("axisLabel").get("rotate")||0,a=(e=Zf.innerTextLayout(r,s*Math.PI/180,-1)).textAlign,e.textVerticalAlign):(r=l[1],o=n.coordToPoint([r+i,t]),s=n.cx,e=n.cy,a=Math.abs(o[0]-s)/r<.3?"center":o[0]>s?"left":"right",Math.abs(o[1]-e)/r<.3?"middle":o[1]>e?"top":"bottom"),{position:o,align:a,verticalAlign:l}}(e,n,r,c))};var YC,JC={line:function(t,e,n,i){return"angle"===t.dim?{type:"Line",shape:yC(e.coordToPoint([i[0],n]),e.coordToPoint([i[1],n]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:n}}},shadow:function(t,e,n,i){var o=Math.max(1,t.getBandWidth()),a=Math.PI/180;return"angle"===t.dim?{type:"Sector",shape:vC(e.cx,e.cy,i[0],i[1],(-n-o/2)*a,(o/2-n)*a)}:{type:"Sector",shape:vC(e.cx,e.cy,n-o/2,n+o/2,0,2*Math.PI)}}},jC=XC;function KC(){var t=null!==YC&&YC.apply(this,arguments)||this;return t.type=KC.type,t}a(KC,YC=yi),KC.prototype.findAxisModel=function(t){var e;return this.ecModel.eachComponent(t,(function(t){t.getCoordSysModel()===this&&(e=t)}),this),e},KC.type="polar",KC.dependencies=["radiusAxis","angleAxis"],KC.defaultOption={z:0,center:["50%","50%"],radius:"80%"};var qC,$C=KC;function QC(){return null!==qC&&qC.apply(this,arguments)||this}a(QC,qC=yi),QC.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",j).models[0]},QC.type="polarAxis",Tl=QC,s.jB(Tl,qp),a(nA,tA=Tl),nA.type="angleAxis";var tA,eA=nA;function nA(){var t=null!==tA&&tA.apply(this,arguments)||this;return t.type=nA.type,t}a(rA,iA=Tl),rA.type="radiusAxis";var iA,oA,aA=rA;function rA(){var t=null!==iA&&iA.apply(this,arguments)||this;return t.type=rA.type,t}function sA(t,e){return oA.call(this,"radius",t,e)||this}a(sA,oA=Al),sA.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},(Qe=sA).prototype.dataToRadius=Al.prototype.dataToCoord,Qe.prototype.radiusToData=Al.prototype.coordToData;var lA,uA=Qe,cA=U();function hA(t,e){return lA.call(this,"angle",t,e||[0,360])||this}a(hA,lA=Al),hA.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},hA.prototype.calculateCategoryInterval=function(){var t,e,n=this.getLabelModel(),i=(o=this.scale).getExtent(),o=o.count();return i[1]-i[0]<1?0:(i=i[0],t=this.dataToCoord(i+1)-this.dataToCoord(i),t=Math.abs(t),i=Dl.lP(null==i?"":i+"",n.getFont(),"center","top"),n=Math.max(i.height,7)/t,isNaN(n)&&(n=1/0),i=Math.max(0,Math.floor(n)),n=(t=cA(this.model)).lastAutoInterval,e=t.lastTickCount,null!=n&&null!=e&&Math.abs(n-i)<=1&&Math.abs(e-o)<=1&&i<n?i=n:(t.lastTickCount=o,t.lastAutoInterval=i),i)},(Ye=hA).prototype.dataToAngle=Al.prototype.dataToCoord,Ye.prototype.angleToData=Al.prototype.coordToData;var dA=Ye,pA=["radius","angle"];function gA(t){this.dimensions=pA,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new uA,this._angleAxis=new dA,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}function fA(t){var e=t.seriesModel;return(t=t.polarModel)&&t.coordinateSystem||e&&e.coordinateSystem}gA.prototype.containPoint=function(t){return t=this.pointToCoord(t),this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},gA.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},gA.prototype.getAxis=function(t){return this["_"+t+"Axis"]},gA.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},gA.prototype.getAxesByScale=function(t){var e=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===t&&e.push(n),i.scale.type===t&&e.push(i),e},gA.prototype.getAngleAxis=function(){return this._angleAxis},gA.prototype.getRadiusAxis=function(){return this._radiusAxis},gA.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},gA.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},gA.prototype.getTooltipAxes=function(t){return{baseAxes:[t=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis()],otherAxes:[this.getOtherAxis(t)]}},gA.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},gA.prototype.pointToData=function(t,e){return t=this.pointToCoord(t),[this._radiusAxis.radiusToData(t[0],e),this._angleAxis.angleToData(t[1],e)]},gA.prototype.pointToCoord=function(t){for(var e=t[0]-this.cx,n=(t=t[1]-this.cy,this.getAngleAxis()),i=n.getExtent(),o=Math.min(i[0],i[1]),a=Math.max(i[0],i[1]),r=(e/=(n.inverse?o=a-360:a=o+360,i=Math.sqrt(e*e+t*t)),t/=i,Math.atan2(-t,e)/Math.PI*180),s=r<o?1:-1;r<o||a<r;)r+=360*s;return[i,r]},gA.prototype.coordToPoint=function(t){var e=t[0];return t=t[1]/180*Math.PI,[Math.cos(t)*e+this.cx,-Math.sin(t)*e+this.cy]},gA.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis().getExtent().slice(),n=(e[0]>e[1]&&e.reverse(),t.getExtent()),i=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:e[0],r:e[1],startAngle:-n[0]*i,endAngle:-n[1]*i,clockwise:t.inverse,contain:function(t,e){t=(t-=this.cx)*t+(e-=this.cy)*e,e=this.r;var n=this.r0;return e!==n&&t-1e-4<=e*e&&n*n<=1e-4+t}}},gA.prototype.convertToPixel=function(t,e,n){return fA(e)===this?this.dataToPoint(n):null},gA.prototype.convertFromPixel=function(t,e,n){return fA(e)===this?this.pointToData(n):null};var yA=gA;function mA(t,e){var n,i=this,o=i.getAngleAxis(),a=i.getRadiusAxis();o.scale.setExtent(1/0,-1/0),a.scale.setExtent(1/0,-1/0),t.eachSeries((function(t){var e;t.coordinateSystem===i&&(e=t.getData(),s.S6(ef(e,"radius"),(function(t){a.scale.unionExtentFromData(e,t)})),s.S6(ef(e,"angle"),(function(t){o.scale.unionExtentFromData(e,t)})))})),jg(o.scale,o.model),jg(a.scale,a.model),"category"!==o.type||o.onBand||(t=o.getExtent(),n=360/o.scale.count(),o.inverse?t[1]+=n:t[1]-=n,o.setExtent(t[0],t[1]))}function vA(t,e){var n,i;t.type=e.get("type"),t.scale=Kg(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,t.inverse=e.get("inverse"),"angleAxis"===e.mainType&&(t.inverse=t.inverse!==e.get("clockwise"),n=e.get("startAngle"),i=null!=(i=e.get("endAngle"))?i:n+(t.inverse?-360:360),t.setExtent(n,i)),(e.axis=t).model=e}var xA,_A={dimensions:pA,create:function(t,e){var n=[];return t.eachComponent("polar",(function(t,i){var o,a=((i=new yA(i+"")).update=mA,i.getRadiusAxis()),r=i.getAngleAxis(),l=t.findAxisModel("radiusAxis"),u=t.findAxisModel("angleAxis");vA(a,l),vA(r,u),a=i,l=e,u=(r=t).get("center"),o=l.getWidth(),l=l.getHeight(),a.cx=p(u[0],o),a.cy=p(u[1],l),u=a.getRadiusAxis(),a=Math.min(o,l)/2,null==(o=r.get("radius"))?o=[0,"100%"]:s.kJ(o)||(o=[0,o]),l=[p(o[0],a),p(o[1],a)],u.inverse?u.setExtent(l[1],l[0]):u.setExtent(l[0],l[1]),n.push(i),(t.coordinateSystem=i).model=t})),t.eachSeries((function(t){var e;"polar"===t.get("coordinateSystem")&&(e=t.getReferringComponents("polar",j).models[0],t.coordinateSystem=e.coordinateSystem)})),n}},SA=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function bA(t,e,n){e[1]>e[0]&&(e=e.slice().reverse());var i=t.coordToPoint([e[0],n]);return t=t.coordToPoint([e[1],n]),{x1:i[0],y1:i[1],x2:t[0],y2:t[1]}}function wA(t){return t.getRadiusAxis().inverse?0:1}function MA(t){var e=t[0],n=t[t.length-1];e&&n&&Math.abs(Math.abs(e.coord-n.coord)-360)<1e-4&&t.pop()}function IA(){var t=null!==xA&&xA.apply(this,arguments)||this;return t.type=IA.type,t.axisPointerClass="PolarAxisPointer",t}a(IA,xA=jf),IA.prototype.render=function(t,e){var n,i,o,a,r,l;this.group.removeAll(),t.get("show")&&(n=t.axis,i=n.polar,o=i.getRadiusAxis().getExtent(),a=n.getTicksCoords(),r=n.getMinorTicksCoords(),MA(l=s.UI(n.getViewLabels(),(function(t){t=s.d9(t);var e="ordinal"===(e=n.scale).type?e.getRawOrdinalNumber(t.tickValue):t.tickValue;return t.coord=n.dataToCoord(e),t}))),MA(a),s.S6(SA,(function(e){!t.get([e,"show"])||n.scale.isBlank()&&"axisLine"!==e||TA[e](this.group,t,i,a,r,o,l)}),this))},IA.type="angleAxis";var DA,TA={axisLine:function(t,e,n,o,a,r){e=e.getModel(["axisLine","lineStyle"]);var s=n.getAngleAxis(),l=Math.PI/180,u=s.getExtent(),c=wA(n),h=c?0:1,d=360===Math.abs(u[1]-u[0])?"Circle":"Arc";(d=0===r[h]?new i[d]({shape:{cx:n.cx,cy:n.cy,r:r[c],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:s.inverse},style:e.getLineStyle(),z2:1,silent:!0}):new zr.Z({shape:{cx:n.cx,cy:n.cy,r:r[c],r0:r[h]},style:e.getLineStyle(),z2:1,silent:!0})).style.fill=null,t.add(d)},axisTick:function(t,e,n,i,o,a){var r=e.getModel("axisTick"),l=(r.get("inside")?-1:1)*r.get("length"),u=a[wA(n)];a=s.UI(i,(function(t){return new Wr.Z({shape:bA(n,[u,u+l],t.coord)})})),t.add(us(a,{style:s.ce(r.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(t,e,n,i,o,a){if(o.length){for(var r=e.getModel("axisTick"),l=e.getModel("minorTick"),u=(r.get("inside")?-1:1)*l.get("length"),c=a[wA(n)],h=[],d=0;d<o.length;d++)for(var p=0;p<o[d].length;p++)h.push(new Wr.Z({shape:bA(n,[c,c+u],o[d][p].coord)}));t.add(us(h,{style:s.ce(l.getModel("lineStyle").getLineStyle(),s.ce(r.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(t,e,n,i,o,a,r){var l=e.getCategories(!0),u=e.getModel("axisLabel"),c=u.get("margin"),h=e.get("triggerEvent");s.S6(r,(function(i,o){var r=u,d=i.tickValue,p=a[wA(n)],g=n.coordToPoint([p+c,i.coord]),f=n.cx,y=n.cy;f=Math.abs(g[0]-f)/p<.3?"center":g[0]>f?"left":"right",p=Math.abs(g[1]-y)/p<.3?"middle":g[1]>y?"top":"bottom",l&&l[d]&&(y=l[d],s.Kn(y))&&y.textStyle&&(r=new nn(y.textStyle,u,u.ecModel)),d=new ft.ZP({silent:Zf.isLabelSilent(e),style:Re(r,{x:g[0],y:g[1],fill:r.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:i.formattedLabel,align:f,verticalAlign:p})}),t.add(d),h&&((y=Zf.makeAxisEventDataBase(e)).targetType="axisLabel",y.value=i.rawLabel,yt(d).eventData=y)}),this)},splitLine:function(t,e,n,i,o,a){for(var r=e.getModel("splitLine").getModel("lineStyle"),l=0,u=(u=r.get("color"))instanceof Array?u:[u],c=[],h=0;h<i.length;h++){var d=l++%u.length;c[d]=c[d]||[],c[d].push(new Wr.Z({shape:bA(n,a,i[h].coord)}))}for(h=0;h<c.length;h++)t.add(us(c[h],{style:s.ce({stroke:u[h%u.length]},r.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(t,e,n,i,o,a){if(o.length){for(var r=e.getModel("minorSplitLine").getModel("lineStyle"),s=[],l=0;l<o.length;l++)for(var u=0;u<o[l].length;u++)s.push(new Wr.Z({shape:bA(n,a,o[l][u].coord)}));t.add(us(s,{style:r.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(t,e,n,i,o,a){if(i.length){for(var r=e.getModel("splitArea").getModel("areaStyle"),l=0,u=(u=r.get("color"))instanceof Array?u:[u],c=[],h=Math.PI/180,d=-i[0].coord*h,p=Math.min(a[0],a[1]),g=Math.max(a[0],a[1]),f=e.get("clockwise"),y=1,m=i.length;y<=m;y++){var v=(y===m?i[0]:i[y]).coord,x=l++%u.length;c[x]=c[x]||[],c[x].push(new Vr.C({shape:{cx:n.cx,cy:n.cy,r0:p,r:g,startAngle:d,endAngle:-v*h,clockwise:f},silent:!0})),d=-v*h}for(y=0;y<c.length;y++)t.add(us(c[y],{style:s.ce({fill:u[y%u.length]},r.getAreaStyle()),silent:!0}))}}},CA=IA,AA=["axisLine","axisTickLabel","axisName"],kA=["splitLine","splitArea","minorSplitLine"];function LA(){var t=null!==DA&&DA.apply(this,arguments)||this;return t.type=LA.type,t.axisPointerClass="PolarAxisPointer",t}a(LA,DA=jf),LA.prototype.render=function(t,e){var n,i,o,a,r,l,u,c,h;this.group.removeAll(),t.get("show")&&(n=this._axisGroup,i=this._axisGroup=new Dr.Z,this.group.add(i),o=t.axis,h=(a=o.polar).getAngleAxis(),r=o.getTicksCoords(),l=o.getMinorTicksCoords(),u=h.getExtent()[0],c=o.getExtent(),h={position:[a.cx,a.cy],rotation:u/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1},h=new Zf(t,h),s.S6(AA,h.add,h),i.add(h.getGroup()),vs(n,i,t),s.S6(kA,(function(e){t.get([e,"show"])&&!o.scale.isBlank()&&PA[e](this.group,t,a,u,c,r,l)}),this))},LA.type="radiusAxis";var PA={splitLine:function(t,e,n,o,a,r){for(var l=e.getModel("splitLine").getModel("lineStyle"),u=l.get("color"),c=0,h=n.getAngleAxis(),d=Math.PI/180,p=h.getExtent(),g=360===Math.abs(p[1]-p[0])?"Circle":"Arc",f=(u=u instanceof Array?u:[u],[]),y=0;y<r.length;y++){var m=c++%u.length;f[m]=f[m]||[],f[m].push(new i[g]({shape:{cx:n.cx,cy:n.cy,r:Math.max(r[y].coord,0),startAngle:-p[0]*d,endAngle:-p[1]*d,clockwise:h.inverse}}))}for(y=0;y<f.length;y++)t.add(us(f[y],{style:s.ce({stroke:u[y%u.length],fill:null},l.getLineStyle()),silent:!0}))},minorSplitLine:function(t,e,n,i,o,a,r){if(r.length){e=e.getModel("minorSplitLine").getModel("lineStyle");for(var l=[],u=0;u<r.length;u++)for(var c=0;c<r[u].length;c++)l.push(new Or.Z({shape:{cx:n.cx,cy:n.cy,r:r[u][c].coord}}));t.add(us(l,{style:s.ce({fill:null},e.getLineStyle()),silent:!0}))}},splitArea:function(t,e,n,i,o,a){if(a.length){for(var r=e.getModel("splitArea").getModel("areaStyle"),l=0,u=(u=r.get("color"))instanceof Array?u:[u],c=[],h=a[0].coord,d=1;d<a.length;d++){var p=l++%u.length;c[p]=c[p]||[],c[p].push(new Vr.C({shape:{cx:n.cx,cy:n.cy,r0:h,r:a[d].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),h=a[d].coord}for(d=0;d<c.length;d++)t.add(us(c[d],{style:s.ce({fill:u[d%u.length]},r.getAreaStyle()),silent:!0}))}}},RA=LA;function NA(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function OA(t,e){return e.dim+t.model.componentIndex}function EA(t,e,n){var i,o,a,r={},l=(i=s.hX(e.getSeriesByType(t),(function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type})),o={},s.S6(i,(function(t,e){var n=t.getData(),i=(a=t.coordinateSystem).getBaseAxis(),a=OA(a,i),r=i.getExtent(),s=(i="category"===i.type?i.getBandWidth():Math.abs(r[1]-r[0])/n.count(),(n=(r=o[a]||{bandWidth:i,remainedWidth:i,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}}).stacks)[(o[a]=r,a=NA(t))]||r.autoWidthCount++,n[a]=n[a]||{width:0,maxWidth:0},p(t.get("barWidth"),i)),l=(i=p(t.get("barMaxWidth"),i),t.get("barGap"));t=t.get("barCategoryGap"),s&&!n[a].width&&(s=Math.min(r.remainedWidth,s),n[a].width=s,r.remainedWidth-=s),i&&(n[a].maxWidth=i),null!=l&&(r.gap=l),null!=t&&(r.categoryGap=t)})),a={},s.S6(o,(function(t,e){a[e]={};var n,i=t.stacks,o=t.bandWidth,r=(o=p(t.categoryGap,o),p(t.gap,1)),l=t.remainedWidth,u=t.autoWidthCount,c=(l-o)/(u+(u-1)*r),h=(c=Math.max(c,0),s.S6(i,(function(t,e){var n=t.maxWidth;n&&n<c&&(n=Math.min(n,l),t.width&&(n=Math.min(n,t.width)),l-=n,t.width=n,u--)})),c=(l-o)/(u+(u-1)*r),c=Math.max(c,0),0),d=(s.S6(i,(function(t,e){t.width||(t.width=c),h+=(n=t).width*(1+r)})),n&&(h-=n.width*r),-h/2);s.S6(i,(function(t,n){a[e][n]=a[e][n]||{offset:d,width:t.width},d+=t.width*(1+r)}))})),a);e.eachSeriesByType(t,(function(t){if("polar"===t.coordinateSystem.type)for(var e=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),o=OA(n,i),a=NA(t),s=(o=l[o][a]).offset,u=o.width,c=n.getOtherAxis(i),h=t.coordinateSystem.cx,d=t.coordinateSystem.cy,p=t.get("barMinHeight")||0,g=t.get("barMinAngle")||0,f=(r[a]=r[a]||[],e.mapDimension(c.dim)),y=e.mapDimension(i.dim),m=Sh(e,f),v="radius"!==i.dim||!t.get("roundCap",!0),x=(o=c.model.get("startValue"),c.dataToCoord(o||0)),_=0,S=e.count();_<S;_++){var b,w,M=e.get(f,_),I=e.get(y,_),D=0<=M?"p":"n",T=x,C=void(m&&(r[a][I]||(r[a][I]={p:x,n:x}),T=r[a][I][D])),A=void 0,k=void 0,L=void 0;"radius"===c.dim?(w=c.dataToCoord(M)-x,b=i.dataToCoord(I),A=(C=T)+(w=Math.abs(w)<p?(w<0?-1:1)*p:w),L=(k=b-s)-u,m&&(r[a][I][D]=A)):(w=c.dataToCoord(M,v)-x,A=(C=i.dataToCoord(I)+s)+u,L=(k=T)+(w=Math.abs(w)<g?(w<0?-1:1)*g:w),m&&(r[a][I][D]=L)),e.setItemLayout(_,{cx:h,cy:d,r0:C,r:A,startAngle:-k*Math.PI/180,endAngle:-L*Math.PI/180,clockwise:L<=k})}}))}var VA,zA={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},BA={splitNumber:5},GA=(a(ZA,VA=Cr),ZA.type="polar",ZA);function ZA(){var t=null!==VA&&VA.apply(this,arguments)||this;return t.type=ZA.type,t}function WA(t,e){e=e||{};var n=t.coordinateSystem,i={},o=(a=t.axis).position,a=a.orient,r={horizontal:{top:(n=[(n=n.getRect()).x,n.x+n.width,n.y,n.y+n.height])[2],bottom:n[3]},vertical:{left:n[0],right:n[1]}};return null==(i.position=["vertical"===a?r.vertical[o]:n[0],"horizontal"===a?r.horizontal[o]:n[3]],i.rotation=Math.PI/2*{horizontal:0,vertical:1}[a],i.labelDirection=i.tickDirection=i.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],t.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),s.Jv(e.labelInside,t.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection),r=e.rotate)&&(r=t.get(["axisLabel","rotate"])),i.labelRotation="top"===o?-r:r,i.z2=1,i}var FA,HA=["axisLine","axisTickLabel","axisName"],UA=["splitArea","splitLine"];function XA(){var t=null!==FA&&FA.apply(this,arguments)||this;return t.type=XA.type,t.axisPointerClass="SingleAxisPointer",t}a(XA,FA=jf),XA.prototype.render=function(t,e,n,i){var o=this.group,a=(o.removeAll(),this._axisGroup),r=(this._axisGroup=new Dr.Z,WA(t));r=new Zf(t,r),s.S6(HA,r.add,r),o.add(this._axisGroup),o.add(r.getGroup()),s.S6(UA,(function(e){t.get([e,"show"])&&JA[e](this,this.group,this._axisGroup,t)}),this),vs(a,this._axisGroup,t),FA.prototype.render.call(this,t,e,n,i)},XA.prototype.remove=function(){$f(this)},XA.type="singleAxis";var YA,JA={splitLine:function(t,e,n,i){var o=i.axis;if(!o.scale.isBlank()){for(var a=i.getModel("splitLine"),r=a.getModel("lineStyle"),l=(l=r.get("color"))instanceof Array?l:[l],u=r.get("width"),c=i.coordinateSystem.getRect(),h=o.isHorizontal(),d=[],p=0,g=o.getTicksCoords({tickModel:a}),f=[],y=[],m=0;m<g.length;++m){var v=o.toGlobalCoord(g[m].coord),x=(hs((h?(f[0]=v,f[1]=c.y,y[0]=v,y[1]=c.y+c.height):(f[0]=c.x,f[1]=v,y[0]=c.x+c.width,y[1]=v),v=new Wr.Z({shape:{x1:f[0],y1:f[1],x2:y[0],y2:y[1]},silent:!0})).shape,u),p++%l.length);d[x]=d[x]||[],d[x].push(v)}var _=r.getLineStyle(["color"]);for(m=0;m<d.length;++m)e.add(us(d[m],{style:s.ce({stroke:l[m%l.length]},_),silent:!0}))}},splitArea:function(t,e,n,i){qf(t,n,i,i)}},jA=XA;function KA(){var t=null!==YA&&YA.apply(this,arguments)||this;return t.type=KA.type,t}a(KA,YA=yi),KA.prototype.getCoordSysModel=function(){return this},KA.type="singleAxis",KA.layoutMode="box",KA.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},Js=KA,(0,s.jB)(Js,qp.prototype);var qA,$A=Js;function QA(t,e,n,i,o){return(t=qA.call(this,t,e,n)||this).type=i||"value",t.position=o||"bottom",t}a(QA,qA=Al),QA.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},QA.prototype.pointToData=function(t,e){return this.coordinateSystem.pointToData(t)[0]};var tk=QA,ek=["single"];function nk(t,e,n){this.type="single",this.dimension="single",this.dimensions=ek,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,n)}function ik(t){var e=t.seriesModel;return(t=t.singleAxisModel)&&t.coordinateSystem||e&&e.coordinateSystem}nk.prototype._init=function(t,e,n){var i=this.dimension,o="category"===(i=new tk(i,Kg(t),[0,0],t.get("type"),t.get("position"))).type;i.onBand=o&&t.get("boundaryGap"),i.inverse=t.get("inverse"),i.orient=t.get("orient"),(t.axis=i).model=t,(i.coordinateSystem=this)._axis=i},nk.prototype.update=function(t,e){t.eachSeries((function(t){var e;t.coordinateSystem===this&&(e=t.getData(),(0,s.S6)(e.mapDimensionsAll(this.dimension),(function(t){this._axis.scale.unionExtentFromData(e,t)}),this),jg(this._axis.scale,this._axis.model))}),this)},nk.prototype.resize=function(t,e){this._rect=ni({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},nk.prototype.getRect=function(){return this._rect},nk.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),i=n?[0,t.width]:[0,t.height],o=e.inverse?1:0;e.setExtent(i[o],i[1-o]),this._updateAxisTransform(e,n?t.x:t.y)},nk.prototype._updateAxisTransform=function(t,e){var n=(i=t.getExtent())[0]+i[1],i=t.isHorizontal();t.toGlobalCoord=i?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord=i?function(t){return t-e}:function(t){return n-t+e}},nk.prototype.getAxis=function(){return this._axis},nk.prototype.getBaseAxis=function(){return this._axis},nk.prototype.getAxes=function(){return[this._axis]},nk.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},nk.prototype.containPoint=function(t){var e=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},nk.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},nk.prototype.dataToPoint=function(t){var e=this.getAxis(),n=this.getRect(),i=[],o="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),i[o]=e.toGlobalCoord(e.dataToCoord(+t)),i[1-o]=0==o?n.y+n.height/2:n.x+n.width/2,i},nk.prototype.convertToPixel=function(t,e,n){return ik(e)===this?this.dataToPoint(n):null},nk.prototype.convertFromPixel=function(t,e,n){return ik(e)===this?this.pointToData(n):null};var ok,ak=nk,rk={create:function(t,e){var n=[];return t.eachComponent("singleAxis",(function(i,o){var a=new ak(i,t,e);a.name="single_"+o,a.resize(i,e),i.coordinateSystem=a,n.push(a)})),t.eachSeries((function(t){var e;"singleAxis"===t.get("coordinateSystem")&&(e=t.getReferringComponents("singleAxis",j).models[0],t.coordinateSystem=e&&e.coordinateSystem)})),n},dimensions:ek},sk=["x","y"],lk=["width","height"];function uk(){return null!==ok&&ok.apply(this,arguments)||this}a(uk,ok=kl),uk.prototype.makeElOption=function(t,e,n,i,o){var a,r=dk(s=(u=n.axis).coordinateSystem,1-hk(u)),s=s.dataToPoint(e)[0],l=i.get("type"),u=(l&&"none"!==l&&(a=hC(i),(l=ck[l](u,s,r)).style=a,t.graphicKey=l.type,t.pointer=l),WA(n));fC(e,t,u,n,i,o)},uk.prototype.getHandleTransform=function(t,e,n){var i=WA(e,{labelInside:!1});return{x:(i.labelMargin=n.get(["handle","margin"]),n=gC(e.axis,t,i))[0],y:n[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},uk.prototype.updateHandleTransform=function(t,e,n,i){var o,a=dk(o=(n=n.axis).coordinateSystem,n=hk(n)),r=[t.x,t.y];return(o=[a=((r[n]+=e[n],r[n]=Math.min(a[1],r[n]),r[n]=Math.max(a[0],r[n]),e=dk(o,1-n))[1]+e[0])/2,a])[n]=r[n],{x:r[0],y:r[1],rotation:t.rotation,cursorPoint:o,tooltipOption:{verticalAlign:"middle"}}};var ck={line:function(t,e,n){return{type:"Line",subPixelOptimize:!0,shape:yC([e,n[0]],[e,n[1]],hk(t))}},shadow:function(t,e,n){var i=t.getBandWidth(),o=n[1]-n[0];return{type:"Rect",shape:mC([e-i/2,n[0]],[i,o],hk(t))}}};function hk(t){return t.isHorizontal()?0:1}function dk(t,e){return[(t=t.getRect())[sk[e]],t[sk[e]]+t[lk[e]]]}var pk,gk,fk=uk,yk=(a(mk,pk=Cr),mk.type="single",mk);function mk(){var t=null!==pk&&pk.apply(this,arguments)||this;return t.type=mk.type,t}function vk(){var t=null!==gk&&gk.apply(this,arguments)||this;return t.type=vk.type,t}function xk(t,e){var n=t.cellSize,i=s.kJ(n)?n:t.cellSize=[n,n];1===i.length&&(i[1]=i[0]),n=s.UI([0,1],(function(t){var n,o;return(null!=(n=e)[Qn[o=t][0]]||null!=n[Qn[o][1]]&&null!=n[Qn[o][2]])&&(i[t]="auto"),null!=i[t]&&"auto"!==i[t]})),ai(t,e,{type:"box",ignoreSize:n})}a(vk,gk=yi),vk.prototype.init=function(t,e,n){var i=ri(t);gk.prototype.init.apply(this,arguments),xk(t,i)},vk.prototype.mergeOption=function(t){gk.prototype.mergeOption.apply(this,arguments),xk(this.option,t)},vk.prototype.getCellSize=function(){return this.option.cellSize},vk.type="calendar",vk.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}};var _k,Sk=vk;function bk(){var t=null!==_k&&_k.apply(this,arguments)||this;return t.type=bk.type,t}a(bk,_k=Cr),bk.prototype.render=function(t,e,n){var i=this.group,o=(i.removeAll(),a=t.coordinateSystem).getRangeInfo(),a=a.getOrient();e=e.getLocaleModel(),this._renderDayRect(t,o,i),this._renderLines(t,o,a,i),this._renderYearText(t,o,a,i),this._renderMonthText(t,e,a,i),this._renderWeekText(t,e,o,a,i)},bk.prototype._renderDayRect=function(t,e,n){for(var i=t.coordinateSystem,o=t.getModel("itemStyle").getItemStyle(),a=i.getCellWidth(),r=i.getCellHeight(),s=e.start.time;s<=e.end.time;s=i.getNextNDay(s,1).time){var l=i.dataToRect([s],!1).tl;l=new Zr.Z({shape:{x:l[0],y:l[1],width:a,height:r},cursor:"default",style:o}),n.add(l)}},bk.prototype._renderLines=function(t,e,n,i){for(var o=this,a=t.coordinateSystem,r=t.getModel(["splitLine","lineStyle"]).getLineStyle(),s=t.get(["splitLine","show"]),l=r.lineWidth,u=(this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[],e.start),c=0;u.time<=e.end.time;c++){d(u.formatedDate);var h=(u=0===c?a.getDateInfo(e.start.y+"-"+e.start.m):u).date;h.setMonth(h.getMonth()+1),u=a.getDateInfo(h)}function d(e){o._firstDayOfMonth.push(a.getDateInfo(e)),o._firstDayPoints.push(a.dataToRect([e],!1).tl),e=o._getLinePointsOfOneWeek(t,e,n),o._tlpoints.push(e[0]),o._blpoints.push(e[e.length-1]),s&&o._drawSplitline(e,r,i)}d(a.getNextNDay(e.end.time,1).formatedDate),s&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,l,n),r,i),s&&this._drawSplitline(o._getEdgesPoints(o._blpoints,l,n),r,i)},bk.prototype._getEdgesPoints=function(t,e,n){return n="horizontal"===n?0:1,(t=[t[0].slice(),t[t.length-1].slice()])[0][n]=t[0][n]-e/2,t[1][n]=t[1][n]+e/2,t},bk.prototype._drawSplitline=function(t,e,n){t=new Gr.Z({z2:20,shape:{points:t},style:e}),n.add(t)},bk.prototype._getLinePointsOfOneWeek=function(t,e,n){for(var i=t.coordinateSystem,o=i.getDateInfo(e),a=[],r=0;r<7;r++){var s=i.getNextNDay(o.time,r),l=i.dataToRect([s.time],!1);a[2*s.day]=l.tl,a[2*s.day+1]=l["horizontal"===n?"bl":"tr"]}return a},bk.prototype._formatterLabel=function(t,e){var n;return(0,s.HD)(t)&&t?(n=t,s.S6(e,(function(t,e){n=n.replace("{"+e+"}",t)})),n):(0,s.mf)(t)?t(e):e.nameMap},bk.prototype._yearTextPositionControl=function(t,e,n,i,o){var a=e[0],r=(e=e[1],["center","bottom"]);return"bottom"===i?(e+=o,r=["center","top"]):"left"===i?a-=o:"right"===i?(a+=o,r=["center","top"]):e-=o,o=0,{rotation:o="left"!==i&&"right"!==i?o:Math.PI/2,x:a,y:e,style:{align:r[0],verticalAlign:r[1]}}},bk.prototype._renderYearText=function(t,e,n,i){var o,a,r,s,l,u;(t=t.getModel("yearLabel")).get("show")&&(o=t.get("margin"),a=(a=t.get("position"))||("horizontal"!==n?"top":"left"),r=((u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]])[0][0]+u[1][0])/2,l=(u[0][1]+u[1][1])/2,r={top:[r,u[s="horizontal"===n?0:1][1]],bottom:[r,u[1-s][1]],left:[u[1-s][0],l],right:[u[s][0],l]},u=e.start.y,+e.end.y>+e.start.y&&(u=u+"-"+e.end.y),s=t.get("formatter"),l={start:e.start.y,end:e.end.y,nameMap:u},e=this._formatterLabel(s,l),(u=new ft.ZP({z2:30,style:Re(t,{text:e}),silent:t.get("silent")})).attr(this._yearTextPositionControl(u,r[a],n,a,o)),i.add(u))},bk.prototype._monthTextPositionControl=function(t,e,n,i,o){var a="left",r="top",s=t[0];return t=t[1],"horizontal"===n?(t+=o,e&&(a="center"),"start"===i&&(r="bottom")):(s+=o,e&&(r="middle"),"start"===i&&(a="right")),{x:s,y:t,align:a,verticalAlign:r}},bk.prototype._renderMonthText=function(t,e,n,i){var o=t.getModel("monthLabel");if(o.get("show"))for(var a=o.get("nameMap"),r=o.get("margin"),l=o.get("position"),u=(t=o.get("align"),[this._tlpoints,this._blpoints]),c=(a&&!(0,s.HD)(a)||(a=(e=a&&yn(a)||e).get(["time","monthAbbr"])||[]),"start"===l?0:1),h="horizontal"===n?0:1,d=(r="start"===l?-r:r,"center"===t),p=o.get("silent"),g=0;g<u[c].length-1;g++){var f=u[c][g].slice(),y=this._firstDayOfMonth[g],m=(d&&(m=this._firstDayPoints[g],f[h]=(m[h]+u[0][g+1][h])/2),o.get("formatter")),v=a[+y.m-1];y={yyyy:y.y,yy:(y.y+"").slice(2),MM:y.m,M:+y.m,nameMap:v},v=this._formatterLabel(m,y),y=new ft.ZP({z2:30,style:(0,s.l7)(Re(o,{text:v}),this._monthTextPositionControl(f,d,n,l,r)),silent:p}),i.add(y)}},bk.prototype._weekTextPositionControl=function(t,e,n,i,o){var a="center",r="middle",s=t[0];return t=t[1],n="start"===n,"horizontal"===e?(s=s+i+(n?1:-1)*o[0]/2,a=n?"right":"left"):(t=t+i+(n?1:-1)*o[1]/2,r=n?"bottom":"top"),{x:s,y:t,align:a,verticalAlign:r}},bk.prototype._renderWeekText=function(t,e,n,i,o){var a=t.getModel("dayLabel");if(a.get("show")){var r=t.coordinateSystem,l=a.get("position"),u=a.get("nameMap"),c=a.get("margin"),h=r.getFirstDayOfWeek(),d=(u&&!(0,s.HD)(u)||(u=(e=u&&yn(u)||e).get(["time","dayOfWeekShort"])||(0,s.UI)(e.get(["time","dayOfWeekAbbr"]),(function(t){return t[0]}))),r.getNextNDay(n.end.time,7-n.lweek).time),g=[r.getCellWidth(),r.getCellHeight()];c=p(c,Math.min(g[1],g[0])),"start"===l&&(d=r.getNextNDay(n.start.time,-(7+n.fweek)).time,c=-c);for(var f=a.get("silent"),y=0;y<7;y++){var m=r.getNextNDay(d,y),v=(m=r.dataToRect([m.time],!1).center,Math.abs((y+h)%7));v=new ft.ZP({z2:30,style:(0,s.l7)(Re(a,{text:u[v]}),this._weekTextPositionControl(m,i,l,c,g)),silent:f}),o.add(v)}}},bk.type="calendar";var wk=bk;function Mk(t,e,n){this.type="calendar",this.dimensions=Mk.dimensions,this.getDimensionsInfo=Mk.getDimensionsInfo,this._model=t}function Ik(t){var e=t.calendarModel;return t=t.seriesModel,e?e.coordinateSystem:t?t.coordinateSystem:null}Mk.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},Mk.prototype.getRangeInfo=function(){return this._rangeInfo},Mk.prototype.getModel=function(){return this._model},Mk.prototype.getRect=function(){return this._rect},Mk.prototype.getCellWidth=function(){return this._sw},Mk.prototype.getCellHeight=function(){return this._sh},Mk.prototype.getOrient=function(){return this._orient},Mk.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},Mk.prototype.getDateInfo=function(t){var e=(t=b(t)).getFullYear(),n=(n=t.getMonth()+1)<10?"0"+n:""+n,i=(i=t.getDate())<10?"0"+i:""+i,o=t.getDay();return{y:e+"",m:n,d:i,day:Math.abs((o+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+n+"-"+i,date:t}},Mk.prototype.getNextNDay=function(t,e){return 0!==(e=e||0)&&(t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t)},Mk.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],o=this._model.getCellSize().slice(),a=this._model.getBoxLayoutParams(),r="horizontal"===this._orient?[n,7]:[7,n],l=(s.S6([0,1],(function(t){u(o,t)&&(a[i[t]]=o[t]*r[t])})),n={width:e.getWidth(),height:e.getHeight()},this._rect=ni(a,n));function u(t,e){return null!=t[e]&&"auto"!==t[e]}s.S6([0,1],(function(t){u(o,t)||(o[t]=l[i[t]]/r[t])})),this._sw=o[0],this._sh=o[1]},Mk.prototype.dataToPoint=function(t,e){s.kJ(t)&&(t=t[0]),null==e&&(e=!0),t=this.getDateInfo(t);var n=this._rangeInfo,i=t.formatedDate;return!e||t.time>=n.start.time&&t.time<n.end.time+864e5?(e=t.day,t=this._getRangeInfo([n.start.time,i]).nthWeek,"vertical"===this._orient?[this._rect.x+e*this._sw+this._sw/2,this._rect.y+t*this._sh+this._sh/2]:[this._rect.x+t*this._sw+this._sw/2,this._rect.y+e*this._sh+this._sh/2]):[NaN,NaN]},Mk.prototype.pointToData=function(t){return(t=this.pointToDate(t))&&t.time},Mk.prototype.dataToRect=function(t,e){return{contentShape:{x:(t=this.dataToPoint(t,e))[0]-(this._sw-this._lineWidth)/2,y:t[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:t,tl:[t[0]-this._sw/2,t[1]-this._sh/2],tr:[t[0]+this._sw/2,t[1]-this._sh/2],br:[t[0]+this._sw/2,t[1]+this._sh/2],bl:[t[0]-this._sw/2,t[1]+this._sh/2]}},Mk.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=(t=Math.floor((t[1]-this._rect.y)/this._sh)+1,this._rangeInfo.range);return"vertical"===this._orient?this._getDateByWeeksAndDay(t,e-1,n):this._getDateByWeeksAndDay(e,t-1,n)},Mk.prototype.convertToPixel=function(t,e,n){return(e=Ik(e))===this?e.dataToPoint(n):null},Mk.prototype.convertFromPixel=function(t,e,n){return(e=Ik(e))===this?e.pointToData(n):null},Mk.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},Mk.prototype._initRangeOption=function(){var t,e,n,i,o=this._model.get("range");return s.kJ(o)&&1===o.length&&(o=o[0]),s.kJ(o)?n=o:(t=o.toString(),/^\d{4}$/.test(t)&&(n=[t+"-01-01",t+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(t)&&((e=(i=this.getDateInfo(t)).date).setMonth(e.getMonth()+1),e=this.getNextNDay(e,-1),n=[i.formatedDate,e.formatedDate]),/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(t)&&(n=[t,t])),n?((i=this._getRangeInfo(n)).start.time>i.end.time&&n.reverse(),n):o},Mk.prototype._getRangeInfo=function(t){var e,n,i=[this.getDateInfo(t[0]),this.getDateInfo(t[1])],o=(i[0].time>i[1].time&&(e=!0,i.reverse()),Math.floor(i[1].time/864e5)-Math.floor(i[0].time/864e5)+1),a=new Date(i[0].time),r=(t=a.getDate(),i[1].date.getDate());if(a.setDate(t+o-1),a.getDate()!==r)for(var s=0<a.getTime()-i[1].time?1:-1;(n=a.getDate())!==r&&0<(a.getTime()-i[1].time)*s;)o-=s,a.setDate(n-s);t=Math.floor((o+i[0].day+6)/7);var l=e?1-t:t-1;return e&&i.reverse(),{range:[i[0].formatedDate,i[1].formatedDate],start:i[0],end:i[1],allDay:o,weeks:t,nthWeek:l,fweek:i[0].day,lweek:i[1].day}},Mk.prototype._getDateByWeeksAndDay=function(t,e,n){return t>(n=this._getRangeInfo(n)).weeks||0===t&&e<n.fweek||t===n.weeks&&e>n.lweek?null:(t=7*(t-1)-n.fweek+e,(e=new Date(n.start.time)).setDate(+n.start.d+t),this.getDateInfo(e))},Mk.create=function(t,e){var n=[];return t.eachComponent("calendar",(function(t){var e=new Mk(t);n.push(e),t.coordinateSystem=e})),t.eachSeries((function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=n[t.get("calendarIndex")||0])})),n},Mk.dimensions=["time","value"];var Dk=Mk;function Tk(t,e){var n;return s.S6(e,(function(e){null!=t[e]&&"auto"!==t[e]&&(n=!0)})),n}var Ck=["transition","enterFrom","leaveTo"],Ak=Ck.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function kk(t,e,n){if(n&&(!t[n]&&e[n]&&(t[n]={}),t=t[n],e=e[n]),t&&e)for(var i=n?Ck:Ak,o=0;o<i.length;o++){var a=i[o];null==t[a]&&null!=e[a]&&(t[a]=e[a])}}a(Rk,Lk=yi),Rk.prototype.mergeOption=function(t,e){var n=this.option.elements;this.option.elements=null,Lk.prototype.mergeOption.call(this,t,e),this.option.elements=n},Rk.prototype.optionUpdated=function(t,e){var n=this.option,i=(t=(e?n:t).elements,n.elements=e?[]:n.elements),o=(e=[],this._flatten(t,e,null),t=z(i,e,"normalMerge"),this._elOptionsToUpdate=[]);s.S6(t,(function(t,e){var n,a,r,l,u,c=t.newOption;c&&(o.push(c),l=c,n=t.existing,l.id=t.keyInfo.id,!l.type&&n&&(l.type=n.type),null==l.parentId&&((t=l.parentOption)?l.parentId=t.id:n&&(l.parentId=n.parentId)),l.parentOption=null,t=i,n=e,l=c,u=s.l7({},l),a=t[n],"merge"===(r=l.$action||"merge")?a?(s.TS(a,u,!0),ai(a,u,{ignoreSize:!0}),si(l,a),kk(l,a),kk(l,a,"shape"),kk(l,a,"style"),kk(l,a,"extra"),l.clipPath=a.clipPath):t[n]=u:"replace"===r?t[n]=u:"remove"===r&&a&&(t[n]=null),u=c,l=i[e])&&(l.hv=u.hv=[Tk(u,["left","right"]),Tk(u,["top","bottom"])],"group"===l.type)&&(null==l.width&&(l.width=u.width=0),null==l.height)&&(l.height=u.height=0)}),this),n.elements=s.hX(i,(function(t){return t&&delete t.$action,null!=t}))},Rk.prototype._flatten=function(t,e,n){s.S6(t,(function(t){var i;t&&(n&&(t.parentOption=n),e.push(t),(i=t.children)&&i.length&&this._flatten(i,e,t),delete t.children)}),this)},Rk.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},Rk.type="graphic",Rk.defaultOption={elements:[]};var Lk,Pk=Rk;function Rk(){var t=null!==Lk&&Lk.apply(this,arguments)||this;return t.type=Rk.type,t.preventAutoZ=!0,t}var Nk,Ok={path:null,compoundPath:null,group:Dr.Z,image:Nr.ZP,text:ft.ZP},Ek=U(),Vk=(a(zk,Nk=Cr),zk.prototype.init=function(){this._elMap=s.kW()},zk.prototype.render=function(t,e,n){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,n)},zk.prototype._updateElements=function(t){var e,n,i,o,a=t.useElOptionsToUpdate();a&&(e=this._elMap,n=this.group,i=t.get("z"),o=t.get("zlevel"),s.S6(a,(function(a){var r,l,u,c=Z(a.id,null),h=null!=c?e.get(c):null,d=null!=(d=Z(a.parentId,null))?e.get(d):n,p=a.type,g=a.style,f=("text"===p&&g&&a.hv&&a.hv[1]&&(g.textVerticalAlign=g.textBaseline=g.verticalAlign=g.align=null),a.textContent),y=a.textConfig,m=(g&&oT(g,p,!!y,!!f)&&(g=aT(g,p,!0),!y&&g.textConfig&&(y=a.textConfig=g.textConfig),!f)&&g.textContent&&(f=g.textContent),r=a,r=s.l7({},r),s.S6(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat($n),(function(t){delete r[t]})),p=r,"merge"===(g=a.$action||"merge")),v="replace"===g;m?((u=!(l=h))?l=Gk(c,d,a.type,e):(l&&(Ek(l).isNew=!1),DT(l)),l&&(fT(l,p,t,{isInit:u}),Wk(l,a,i,o))):v?(Zk(h,a,e,t),(l=Gk(c,d,a.type,e))&&(fT(l,p,t,{isInit:!0}),Wk(l,a,i,o))):"remove"===g&&(yT(h,a),Zk(h,a,e,t)),(d=e.get(c))&&f&&(m?(p=d.getTextContent())?p.attr(f):d.setTextContent(new ft.ZP(f)):v&&d.setTextContent(new ft.ZP(f))),d&&((l=a.clipPath)&&(g=l.type,h=void 0,u=!1,m?h=(u=!(c=d.getClipPath())||Ek(c).type!==g)?Bk(g):c:v&&(u=!0,h=Bk(g)),d.setClipPath(h),fT(h,l,t,{isInit:u}),TT(h,l.keyframeAnimation,t)),p=Ek(d),d.setTextConfig(y),p.option=a,f=t,m=a,v=yt(c=d).eventData,(v=c.silent||c.ignore?v:v||(yt(c).eventData={componentType:"graphic",componentIndex:f.componentIndex,name:c.name}))&&(v.info=m.info),Ms({el:d,componentModel:t,itemName:d.name,itemTooltipOption:a.tooltip}),TT(d,a.keyframeAnimation,t))})))},zk.prototype._relocate=function(t,e){for(var n,i,o=t.option.elements,a=this.group,r=this._elMap,l=e.getWidth(),u=e.getHeight(),c=["x","y"],h=0;h<o.length;h++)(f=null!=(g=Z((d=o[h]).id,null))?r.get(g):null)&&f.isGroup&&(n=(y=f.parent)===a,i=Ek(f),m=Ek(y),i.width=p(i.option.width,n?l:m.width)||0,i.height=p(i.option.height,n?u:m.height)||0);var d,g,f;for(h=o.length-1;0<=h;h--)if(f=null!=(g=Z((d=o[h]).id,null))?r.get(g):null){var y=f.parent,m=Ek(y),v={},x=ii(f,d,y===a?{width:l,height:u}:{width:m.width,height:m.height},null,{hv:d.hv,boundingMode:d.bounding},v);if(!Ek(f).isNew&&x){for(var _=d.transition,S={},b=0;b<c.length;b++){var w=c[b],M=v[w];_&&(vT(_)||0<=s.cq(_,w))?S[w]=M:f[w]=M}Se(f,S,t,0)}else f.attr(v)}},zk.prototype._clear=function(){var t=this,e=this._elMap;e.each((function(n){Zk(n,Ek(n).option,e,t._lastGraphicModel)})),this._elMap=s.kW()},zk.prototype.dispose=function(){this._clear()},zk.type="graphic",zk);function zk(){var t=null!==Nk&&Nk.apply(this,arguments)||this;return t.type=zk.type,t}function Bk(t){var e=new(s.RI(Ok,t)?Ok[t]:as(t))({});return Ek(e).type=t,e}function Gk(t,e,n,i){return n=Bk(n),e.add(n),i.set(t,n),Ek(n).id=t,Ek(n).isNew=!0,n}function Zk(t,e,n,i){t&&t.parent&&("group"===t.type&&t.traverse((function(t){Zk(t,e,n,i)})),mT(t,e,i),n.removeKey(Ek(t).id))}function Wk(t,e,n,i){t.isGroup||s.S6([["cursor",Am.ZP.prototype.cursor],["zlevel",i||0],["z",n||0],["z2",0]],(function(n){var i=n[0];s.RI(e,i)?t[i]=s.pD(e[i],n[1]):null==t[i]&&(t[i]=n[1])})),s.S6(s.XP(e),(function(n){var i;0===n.indexOf("on")&&(i=e[n],t[n]=s.mf(i)?i:null)})),s.RI(e,"draggable")&&(t.draggable=e.draggable),null!=e.name&&(t.name=e.name),null!=e.id&&(t.id=e.id)}var Fk=["x","y","radius","angle","single"],Hk=["cartesian2d","polar","singleAxis"];function Uk(t){return t+"Axis"}function Xk(t){var e=t.ecModel,n={infoList:[],infoMap:(0,s.kW)()};return t.eachTargetAxis((function(t,i){var o,a;(t=e.getComponent(Uk(t),i))&&(i=t.getCoordSysModel())&&(o=i.uid,(a=n.infoMap.get(o))||(n.infoList.push(a={model:i,axisModels:[]}),n.infoMap.set(o,a)),a.axisModels.push(t))})),n}Kk.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)};var Yk,Jk,jk=Kk;function Kk(){this.indexList=[],this.indexMap=[]}function qk(){var t=null!==Yk&&Yk.apply(this,arguments)||this;return t.type=qk.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}function $k(t){var e={};return(0,s.S6)(["start","end","startValue","endValue","throttle"],(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e}function Qk(){var t=null!==Jk&&Jk.apply(this,arguments)||this;return t.type=Qk.type,t}a(qk,Yk=yi),qk.prototype.init=function(t,e,n){var i=$k(t);this.settledOption=i,this.mergeDefaultAndTheme(t,n),this._doInit(i)},qk.prototype.mergeOption=function(t){var e=$k(t);(0,s.TS)(this.option,t,!0),(0,s.TS)(this.settledOption,e,!0),this._doInit(e)},qk.prototype._doInit=function(t){var e=this.option,n=(this._setDefaultThrottle(t),this._updateRangeUse(t),this.settledOption);(0,s.S6)([["start","startValue"],["end","endValue"]],(function(t,i){"value"===this._rangePropMode[i]&&(e[t[0]]=n[t[0]]=null)}),this),this._resetTarget()},qk.prototype._resetTarget=function(){var t=this.get("orient",!0),e=this._targetAxisInfoMap=(0,s.kW)();this._fillSpecifiedTargetAxis(e)?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(e,this._orient)),this._noTarget=!0,e.each((function(t){t.indexList.length&&(this._noTarget=!1)}),this)},qk.prototype._fillSpecifiedTargetAxis=function(t){var e=!1;return(0,s.S6)(Fk,(function(n){var i,o=this.getReferringComponents(Uk(n),K);o.specified&&(e=!0,i=new jk,(0,s.S6)(o.models,(function(t){i.add(t.componentIndex)})),t.set(n,i))}),this),e},qk.prototype._fillAutoTargetAxisByOrient=function(t,e){var n,i=this.ecModel,o=!0;function a(e,n){var i,a,r=e[0];r&&((i=new jk).add(r.componentIndex),t.set(n,i),o=!1,"x"!==n&&"y"!==n||(a=r.getReferringComponents("grid",j).models[0])&&(0,s.S6)(e,(function(t){r.componentIndex!==t.componentIndex&&a===t.getReferringComponents("grid",j).models[0]&&i.add(t.componentIndex)})))}o&&a(i.findComponents({mainType:(n="vertical"===e?"y":"x")+"Axis"}),n),o&&a(i.findComponents({mainType:"singleAxis",filter:function(t){return t.get("orient",!0)===e}}),"single"),o&&(0,s.S6)(Fk,(function(e){var n,a;o&&(n=i.findComponents({mainType:Uk(e),filter:function(t){return"category"===t.get("type",!0)}}))[0]&&((a=new jk).add(n[0].componentIndex),t.set(e,a),o=!1)}),this)},qk.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis((function(e){t=t||e}),this),"y"===t?"vertical":"horizontal"},qk.prototype._setDefaultThrottle=function(t){t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle&&(t=this.ecModel.option,this.option.throttle=t.animation&&0<t.animationDurationUpdate?100:20)},qk.prototype._updateRangeUse=function(t){var e=this._rangePropMode,n=this.get("rangeMode");(0,s.S6)([["start","startValue"],["end","endValue"]],(function(i,o){var a=null!=t[i[0]];i=null!=t[i[1]],a&&!i?e[o]="percent":!a&&i?e[o]="value":n?e[o]=n[o]:a&&(e[o]="percent")}))},qk.prototype.noTarget=function(){return this._noTarget},qk.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis((function(e,n){null==t&&(t=this.ecModel.getComponent(Uk(e),n))}),this),t},qk.prototype.eachTargetAxis=function(t,e){this._targetAxisInfoMap.each((function(n,i){(0,s.S6)(n.indexList,(function(n){t.call(e,i,n)}))}))},qk.prototype.getAxisProxy=function(t,e){if(t=this.getAxisModel(t,e))return t.__dzAxisProxy},qk.prototype.getAxisModel=function(t,e){var n=this._targetAxisInfoMap.get(t);if(n&&n.indexMap[e])return this.ecModel.getComponent(Uk(t),e)},qk.prototype.setRawRange=function(t){var e=this.option,n=this.settledOption;(0,s.S6)([["start","startValue"],["end","endValue"]],(function(i){null==t[i[0]]&&null==t[i[1]]||(e[i[0]]=n[i[0]]=t[i[0]],e[i[1]]=n[i[1]]=t[i[1]])}),this),this._updateRangeUse(t)},qk.prototype.setCalculatedRange=function(t){var e=this.option;(0,s.S6)(["start","startValue","end","endValue"],(function(n){e[n]=t[n]}))},qk.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},qk.prototype.getValueRange=function(t,e){return null!=t||null!=e?this.getAxisProxy(t,e).getDataValueWindow():(t=this.findRepresentativeAxisProxy())?t.getDataValueWindow():void 0},qk.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var e,n=this._targetAxisInfoMap.keys(),i=0;i<n.length;i++)for(var o=n[i],a=this._targetAxisInfoMap.get(o),r=0;r<a.indexList.length;r++){var s=this.getAxisProxy(o,a.indexList[r]);if(s.hostedBy(this))return s;e=e||s}return e},qk.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},qk.prototype.getOrient=function(){return this._orient},qk.type="dataZoom",qk.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],qk.defaultOption={z:4,filterMode:"filter",start:0,end:100},a(Qk,Jk=e=qk),Qk.type="dataZoom.select";var tL,eL,nL=Qk;function iL(){var t=null!==tL&&tL.apply(this,arguments)||this;return t.type=iL.type,t}function oL(){var t=null!==eL&&eL.apply(this,arguments)||this;return t.type=oL.type,t}a(iL,tL=Cr),iL.prototype.render=function(t,e,n,i){this.dataZoomModel=t,this.ecModel=e,this.api=n},iL.type="dataZoom",a(oL,eL=vl=iL),oL.type="dataZoom.select";var aL=oL,rL=s.S6,sL=f;function lL(t,e,n,i){this._dimName=t,this._axisIndex=e,this.ecModel=i,this._dataZoomModel=n}lL.prototype.hostedBy=function(t){return this._dataZoomModel===t},lL.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},lL.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},lL.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries((function(e){var n;n=(n=e).get("coordinateSystem"),0<=(0,s.cq)(Hk,n)&&(n=Uk(this._dimName),n=e.getReferringComponents(n,j).models[0])&&this._axisIndex===n.componentIndex&&t.push(e)}),this),t},lL.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},lL.prototype.getMinMaxSpan=function(){return s.d9(this._minMaxSpan)},lL.prototype.calculateDataWindow=function(t){var e,n=this._dataExtent,i=this.getAxisModel().axis.scale,o=this._dataZoomModel.getRangePropMode(),a=[0,100],r=[],s=[],l=(rL(["start","end"],(function(l,u){var c=t[l];l=t[l+"Value"],"percent"===o[u]?l=i.parse(d(c=null==c?a[u]:c,a,n)):(e=!0,c=d(l=null==l?n[u]:i.parse(l),n,a)),s[u]=null==l||isNaN(l)?n[u]:l,r[u]=null==c||isNaN(c)?a[u]:c})),sL(s),sL(r),this._minMaxSpan);function u(t,e,n,o,a){var r=a?"Span":"ValueSpan";Db(0,t,n,"all",l["min"+r],l["max"+r]);for(var s=0;s<2;s++)e[s]=d(t[s],n,o,!0),a&&(e[s]=i.parse(e[s]))}return e?u(s,r,n,a,!1):u(r,s,a,n,!0),{valueWindow:s,percentWindow:r}},lL.prototype.reset=function(t){var e,n,i,o;t===this._dataZoomModel&&(o=this.getTargetSeriesModels(),this._dataExtent=(n=(e=this)._dimName,i=[1/0,-1/0],rL(o,(function(t){var e,o;e=i,o=t.getData(),t=n,o&&s.S6(ef(o,t),(function(t){(t=o.getApproximateExtent(t))[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])}))})),[(e=Xg((o=e.getAxisModel()).axis.scale,o,i).calculate()).min,e.max]),this._updateMinMaxSpan(),o=this.calculateDataWindow(t.settledOption),this._valueWindow=o.valueWindow,this._percentWindow=o.percentWindow,this._setAxisModel())},lL.prototype.filterData=function(t,e){var n,i,o,a;t===this._dataZoomModel&&(n=this._dimName,i=this.getTargetSeriesModels(),o=t.get("filterMode"),a=this._valueWindow,"none"!==o)&&rL(i,(function(t){var e,i,r=t.getData(),l=r.mapDimensionsAll(n);l.length&&("weakFilter"===o?(e=r.getStore(),i=s.UI(l,(function(t){return r.getDimensionIndex(t)}),r),r.filterSelf((function(t){for(var n,o,r,s=0;s<l.length;s++){var u=e.get(i[s],t),c=!isNaN(u),h=u<a[0];if(u=u>a[1],c&&!h&&!u)return!0;c&&(r=!0),h&&(n=!0),u&&(o=!0)}return r&&n&&o}))):rL(l,(function(e){var n;"empty"===o?t.setData(r=r.map(e,(function(t){return(e=t)>=a[0]&&e<=a[1]?t:NaN;var e}))):((n={})[e]=a,r.selectRange(n))})),rL(l,(function(t){r.setApproximateExtent(a,t)})))}))},lL.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,n=this._dataExtent;rL(["min","max"],(function(i){var o=e.get(i+"Span"),a=e.get(i+"ValueSpan");null!=(a=null!=a?this.getAxisModel().axis.scale.parse(a):a)?o=d(n[0]+a,n,[0,100],!0):null!=o&&(a=d(o,[0,100],n,!0)-n[0]),t[i+"Span"]=o,t[i+"ValueSpan"]=a}),this)},lL.prototype._setAxisModel=function(){var t,e=this.getAxisModel(),n=this._percentWindow,i=this._valueWindow;n&&(t=m(i,[0,500]),t=Math.min(t,20),e=e.axis.scale.rawExtentInfo,0!==n[0]&&e.setDeterminedMinMax("min",+i[0].toFixed(t)),100!==n[1]&&e.setDeterminedMinMax("max",+i[1].toFixed(t)),e.freeze())};var uL=lL,cL={getTargetSeries:function(t){function e(e){t.eachComponent("dataZoom",(function(n){n.eachTargetAxis((function(i,o){var a=t.getComponent(Uk(i),o);e(i,o,a,n)}))}))}e((function(t,e,n,i){n.__dzAxisProxy=null}));var n=[],i=(e((function(e,i,o,a){o.__dzAxisProxy||(o.__dzAxisProxy=new uL(e,i,a,t),n.push(o.__dzAxisProxy))})),(0,s.kW)());return(0,s.S6)(n,(function(t){(0,s.S6)(t.getTargetSeriesModels(),(function(t){i.set(t.uid,t)}))})),i},overallReset:function(t,e){t.eachComponent("dataZoom",(function(t){t.eachTargetAxis((function(e,n){t.getAxisProxy(e,n).reset(t)})),t.eachTargetAxis((function(n,i){t.getAxisProxy(n,i).filterData(t,e)}))})),t.eachComponent("dataZoom",(function(t){var e,n=t.findRepresentativeAxisProxy();n&&(e=n.getDataPercentWindow(),n=n.getDataValueWindow(),t.setCalculatedRange({start:e[0],end:e[1],startValue:n[0],endValue:n[1]}))}))}},hL=!1;function dL(t){hL||(hL=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,cL),t.registerAction("dataZoom",(function(t,e){e=function(t,e){var n,i=(0,s.kW)(),o=[],a=(0,s.kW)();for(t.eachComponent({mainType:"dataZoom",query:e},(function(t){a.get(t.uid)||l(t)}));n=!1,t.eachComponent("dataZoom",r),n;);function r(t){var e;!a.get(t.uid)&&(e=!1,t.eachTargetAxis((function(t,n){(t=i.get(t))&&t[n]&&(e=!0)})),e)&&(l(t),n=!0)}function l(t){a.set(t.uid,!0),o.push(t),t.eachTargetAxis((function(t,e){(i.get(t)||i.set(t,[]))[e]=!0}))}return o}(e,t),(0,s.S6)(e,(function(e){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})}))})),t.registerSubTypeDefaulter("dataZoom",(function(){return"slider"})))}function pL(t){t.registerComponentModel(nL),t.registerComponentView(aL),dL(t)}function gL(){}var fL,yL={};function mL(t,e){yL[t]=e}function vL(t){return yL[t]}function xL(){var t=null!==fL&&fL.apply(this,arguments)||this;return t.type=xL.type,t}a(xL,fL=yi),xL.prototype.optionUpdated=function(){fL.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;s.S6(this.option.feature,(function(e,n){(n=vL(n))&&(n.getDefaultOption&&(n.defaultOption=n.getDefaultOption(t)),s.TS(e,n.defaultOption))}))},xL.type="toolbox",xL.layoutMode={type:"box",ignoreSize:!0},xL.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}};var _L,SL=xL;function bL(t,e){var n=Hn(e.get("padding")),i=e.getItemStyle(["color","opacity"]);return i.fill=e.get("backgroundColor"),new Zr.Z({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get("borderRadius")},style:i,silent:!0,z2:-1})}function wL(){return null!==_L&&_L.apply(this,arguments)||this}a(wL,_L=Cr),wL.prototype.render=function(t,e,n,i){var o,a,r,l,u,c,h,d,p,g,f,y=this.group;function m(c,h){c=u[c],h=u[h];var d,p,g,f,m,v,x,_,S=r[c],b=new nn(S,t,t.ecModel);if(i&&null!=i.newTitle&&i.featureName===c&&(S.title=i.newTitle),c&&!h){if(0===c.indexOf("my"))d={onclick:b.option.onclick,featureName:c};else{if(!(S=vL(c)))return;d=new S}l[c]=d}else if(!(d=l[h]))return;d.uid=an("toolbox-feature"),d.model=b,d.ecModel=e,d.api=n,S=d instanceof gL,!c&&h?S&&d.dispose&&d.dispose(e,n):!b.get("show")||S&&d.unusable?S&&d.remove&&d.remove(e,n):(g=d,h=c,v=(p=b).getModel("iconStyle"),x=p.getModel(["emphasis","iconStyle"]),S=g instanceof gL&&g.getIcons?g.getIcons():p.get("icon"),c=p.get("title")||{},s.HD(S)?(f={})[h]=S:f=S,s.HD(c)?(m={})[h]=c:m=c,_=p.iconPaths={},s.S6(f,(function(i,r){var l=Ss(i,{},{x:-o/2,y:-o/2,width:o,height:o});l.setStyle(v.getItemStyle()),l.ensureState("emphasis").style=x.getItemStyle();var u=new ft.ZP({style:{text:m[r],align:x.get("textAlign"),borderRadius:x.get("textBorderRadius"),padding:x.get("textPadding"),fill:null,font:Be({fontStyle:x.get("textFontStyle"),fontFamily:x.get("textFontFamily"),fontSize:x.get("textFontSize"),fontWeight:x.get("textFontWeight")},e)},ignore:!0});l.setTextContent(u),Ms({el:l,componentModel:t,itemName:r,formatterParamsExtra:{title:m[r]}}),l.__title=m[r],l.on("mouseover",(function(){var e=x.getItemStyle(),i=a?null==t.get("right")&&"right"!==t.get("left")?"right":"left":null==t.get("bottom")&&"bottom"!==t.get("top")?"bottom":"top";u.setStyle({fill:x.get("textFill")||e.fill||e.stroke||"#000",backgroundColor:x.get("textBackgroundColor")}),l.setTextConfig({position:x.get("textPosition")||i}),u.ignore=!t.get("showTitle"),n.enterEmphasis(this)})).on("mouseout",(function(){"emphasis"!==p.get(["iconStatus",r])&&n.leaveEmphasis(this),u.hide()})),("emphasis"===p.get(["iconStatus",r])?Kt:qt)(l),y.add(l),l.on("click",s.ak(g.onclick,g,e,n,r)),_[r]=l})),b.setIconStatus=function(t,e){var n=this.option,i=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[t]=e,i[t]&&("emphasis"===e?Kt:qt)(i[t])},d instanceof gL&&d.render&&d.render(b,e,n,i))}y.removeAll(),t.get("show")&&(o=+t.get("itemSize"),a="vertical"===t.get("orient"),r=t.get("feature")||{},l=this._features||(this._features={}),u=[],s.S6(r,(function(t,e){u.push(e)})),new Hc(this._featureNames||[],u).add(m).update(m).remove(s.WA(m,null)).execute(),this._featureNames=u,c=y,d=n,p=(h=t).getBoxLayoutParams(),g=h.get("padding"),f=ni(p,d={width:d.getWidth(),height:d.getHeight()},g),ei(h.get("orient"),c,h.get("itemGap"),f.width,f.height),ii(c,p,d,g),y.add(bL(y.getBoundingRect(),t)),a||y.eachChild((function(t){var e,i,a,r=t.__title,l=(l=t.ensureState("emphasis")).textConfig||(l.textConfig={});(a=(a=t.getTextContent())&&a.ensureState("emphasis"))&&!s.mf(a)&&r&&(a=a.style||(a.style={}),r=Dl.lP(r,ft.ZP.makeFont(a)),e=t.x+y.x,i=!1,t.y+y.y+o+r.height>n.getHeight()&&(l.position="top",i=!0),t=i?-5-r.height:o+10,e+r.width/2>n.getWidth()?(l.position=["100%",t],a.align="right"):e-r.width/2<0&&(l.position=[0,t],a.align="left"))})))},wL.prototype.updateView=function(t,e,n,i){s.S6(this._features,(function(t){t instanceof gL&&t.updateView&&t.updateView(t.model,e,n,i)}))},wL.prototype.remove=function(t,e){s.S6(this._features,(function(n){n instanceof gL&&n.remove&&n.remove(t,e)})),this.group.removeAll()},wL.prototype.dispose=function(t,e){s.S6(this._features,(function(n){n instanceof gL&&n.dispose&&n.dispose(t,e)}))},wL.type="toolbox";var ML,IL=wL;function DL(){return null!==ML&&ML.apply(this,arguments)||this}n(3429),a(DL,ML=gL),DL.prototype.onclick=function(t,e){var n=this.model,i=n.get("name")||t.get("title.0.text")||"echarts",o=(s="svg"===e.getZr().painter.getType())?"svg":n.get("type",!0)||"png";if(e=e.getConnectedDataURL({type:o,backgroundColor:n.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")}),t=l.Z.browser,"function"!=typeof MouseEvent||!t.newEdge&&(t.ie||t.edge))if(window.navigator.msSaveOrOpenBlob||s){var a=-1<(t=e.split(","))[0].indexOf("base64"),r=s?decodeURIComponent(t[1]):t[1],s=(a&&(r=window.atob(r)),i+"."+o);if(window.navigator.msSaveOrOpenBlob){for(var u=r.length,c=new Uint8Array(u);u--;)c[u]=r.charCodeAt(u);t=new Blob([c]),window.navigator.msSaveOrOpenBlob(t,s)}else{a=document.createElement("iframe");var h=(document.body.appendChild(a),t=a.contentWindow).document;h.open("image/svg+xml","replace"),h.write(r),h.close(),t.focus(),h.execCommand("SaveAs",!0,s),document.body.removeChild(a)}}else h='<body style="margin:0;"><img src="'+e+'" style="max-width:100%;" title="'+((t=n.get("lang"))&&t[0]||"")+'" /></body>',(s=window.open()).document.write(h),s.document.title=i;else(a=document.createElement("a")).download=i+"."+o,a.target="_blank",a.href=e,n=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1}),a.dispatchEvent(n)},DL.getDefaultOption=function(t){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])}};var TL,CL=DL,AL="__ec_magicType_stack__",kL=[["line","bar"],["stack"]];function LL(){return null!==TL&&TL.apply(this,arguments)||this}a(LL,TL=gL),LL.prototype.getIcons=function(){var t=this.model,e=t.get("icon"),n={};return s.S6(t.get("type"),(function(t){e[t]&&(n[t]=e[t])})),n},LL.getDefaultOption=function(t){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},LL.prototype.onclick=function(t,e,n){var i,o,a=this.model,r=a.get(["seriesIndex",n]);PL[n]&&(i={series:[]},s.S6(kL,(function(t){0<=s.cq(t,n)&&s.S6(t,(function(t){a.setIconStatus(t,"normal")}))})),a.setIconStatus(n,"emphasis"),t.eachComponent({mainType:"series",query:null==r?null:{seriesIndex:r}},(function(t){var e=t.subType,o=t.id;if((e=PL[n](e,o,t,a))&&(s.ce(e,t.option),i.series.push(e)),(o=t.coordinateSystem)&&"cartesian2d"===o.type&&("line"===n||"bar"===n)&&(e=o.getAxesByScale("ordinal")[0])){var r=e.dim+"Axis",l=t.getReferringComponents(r,j).models[0].componentIndex;i[r]=i[r]||[];for(var u=0;u<=l;u++)i[r][l]=i[r][l]||{};i[r][l].boundaryGap="bar"===n}})),"stack"===(t=n)&&(o=s.TS({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),"emphasis"!==a.get(["iconStatus",n]))&&(t="tiled"),e.dispatchAction({type:"changeMagicType",currentType:t,newOption:i,newTitle:o,featureName:"magicType"}))},je=LL;var PL={line:function(t,e,n,i){if("bar"===t)return s.TS({id:e,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(t,e,n,i){if("line"===t)return s.TS({id:e,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(t,e,n,i){if(n=n.get("stack")===AL,"line"===t||"bar"===t)return i.setIconStatus("stack",n?"normal":"emphasis"),s.TS({id:e,stack:n?"":AL},i.get(["option","stack"])||{},!0)}},RL=(Yu({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(t,e){e.mergeOption(t.newOption)})),je),NL=new Array(60).join("-"),OL="\t";function EL(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var VL,zL=new RegExp("[\t]+","g");function BL(){return null!==VL&&VL.apply(this,arguments)||this}a(BL,VL=gL),BL.prototype.onclick=function(t,e){setTimeout((function(){e.dispatchAction({type:"hideTip"})}));var n=e.getDom(),i=this.model,o=(this._dom&&n.removeChild(this._dom),document.createElement("div")),a=(o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=i.get("backgroundColor")||"#fff",document.createElement("h4")),r=i.get("lang")||[],l=(a.innerHTML=r[0]||i.get("title"),a.style.cssText="margin:10px 20px",a.style.color=i.get("textColor"),document.createElement("div")),u=document.createElement("textarea"),c=(l.style.cssText="overflow:auto",i.get("optionToContent")),h=i.get("contentToOption"),d=(t=function(t){var e,n,i,o,a;return e={},n=[],i=[],t.eachRawSeries((function(t){var o,a,r=t.coordinateSystem;(!r||"cartesian2d"!==r.type&&"polar"!==r.type||"category"!==(o=r.getBaseAxis()).type?n:(a=o.dim+"_"+o.index,e[a]||(e[a]={categoryAxis:o,valueAxis:r.getOtherAxis(o),series:[]},i.push({axisDim:o.dim,axisIndex:o.index})),e[a].series)).push(t)})),t={seriesGroupByCategoryAxis:e,other:n,meta:i},{value:s.hX([(o=t.seriesGroupByCategoryAxis,a=[],s.S6(o,(function(t,e){for(var n=t.categoryAxis,i=t.valueAxis.dim,o=[" "].concat(s.UI(t.series,(function(t){return t.name}))),r=[n.model.getCategories()],l=(s.S6(t.series,(function(t){var e=t.getRawData();r.push(t.getRawData().mapArray(e.mapDimension(i),(function(t){return t})))})),[o.join(OL)]),u=0;u<r[0].length;u++){for(var c=[],h=0;h<r.length;h++)c.push(r[h][u]);l.push(c.join(OL))}a.push(l.join("\n"))})),a.join("\n\n"+NL+"\n\n")),(o=t.other,s.UI(o,(function(t){var e=t.getRawData(),n=[t.name],i=[];return e.each(e.dimensions,(function(){for(var t=arguments.length,o=e.getName(arguments[t-1]),a=0;a<t-1;a++)i[a]=arguments[a];n.push((o?o+OL:"")+i.join(OL))})),n.join("\n")})).join("\n\n"+NL+"\n\n"))],(function(t){return!!t.replace(/[\n\t\s]/g,"")})).join("\n\n"+NL+"\n\n"),meta:t.meta}}(t),s.mf(c)?(p=c(e.getOption()),s.HD(p)?l.innerHTML=p:s.Mh(p)&&l.appendChild(p)):(u.readOnly=i.get("readOnly"),(p=u.style).cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",p.color=i.get("textColor"),p.borderColor=i.get("textareaBorderColor"),p.backgroundColor=i.get("textareaColor"),u.value=t.value,l.appendChild(u)),t.meta),p=document.createElement("div"),g=(p.style.cssText="position:absolute;bottom:5px;left:0;right:0",t="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",document.createElement("div")),f=document.createElement("div"),y=(t=(t+=";background-color:"+i.get("buttonColor"))+";color:"+i.get("buttonTextColor"),this);function m(){n.removeChild(o),y._dom=null}(0,Gy.Oo)(g,"click",m),(0,Gy.Oo)(f,"click",(function(){if(!(null==h&&null!=c||null!=h&&null==c)){var t;try{t=s.mf(h)?h(l,e.getOption()):function(t,e){t=t.split(new RegExp("\n*"+NL+"\n*","g"));var n={series:[]};return s.S6(t,(function(t,i){var o,a;0<=t.slice(0,t.indexOf("\n")).indexOf(OL)?(a=function(t){for(var e=t.split(/\n+/g),n=(t=EL(e.shift()).split(zL),[]),i=s.UI(t,(function(t){return{name:t,data:[]}})),o=0;o<e.length;o++){var a=EL(e[o]).split(zL);n.push(a.shift());for(var r=0;r<a.length;r++)i[r]&&(i[r].data[o]=a[r])}return{series:i,categories:n}}(t),o=(i=e[i]).axisDim+"Axis",i&&(n[o]=n[o]||[],n[o][i.axisIndex]={data:a.categories},n.series=n.series.concat(a.series))):(a=function(t){for(var e=t.split(/\n+/g),n=(t=EL(e.shift()),[]),i=0;i<e.length;i++)if(s=EL(e[i])){for(var o,a=s.split(zL),r=void 0,s=!1,l=(r=isNaN(a[0])?(s=!0,o=a[0],a=a.slice(1),n[i]={name:o,value:[]},n[i].value):n[i]=[],0);l<a.length;l++)r.push(+a[l]);1===r.length&&(s?n[i].value=r[0]:n[i]=r[0])}return{name:t,data:n}}(t),n.series.push(a))})),n}(u.value,d)}catch(t){throw m(),new Error("Data view format error "+t)}t&&e.dispatchAction({type:"changeDataView",newOption:t})}m()})),g.innerHTML=r[1],f.innerHTML=r[2],f.style.cssText=g.style.cssText=t,i.get("readOnly")||p.appendChild(f),p.appendChild(g),o.appendChild(a),o.appendChild(l),o.appendChild(p),l.style.height=n.clientHeight-80+"px",n.appendChild(o),this._dom=o},BL.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},BL.prototype.dispose=function(t,e){this.remove(t,e)},BL.getDefaultOption=function(t){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},ml=BL,Yu({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(t,e){var n=[];s.S6(t.newOption.series,(function(t){var i,o,a=e.getSeriesByName(t.name)[0];a?(a=a.get("data"),n.push({name:t.name,data:(i=t.data,o=a,s.UI(i,(function(t,e){var n;return e=o&&o[e],s.Kn(e)&&!s.kJ(e)&&(s.Kn(t)&&!s.kJ(t)||(t={value:t}),n=null!=e.name&&null==t.name,t=s.ce(t,e),n)&&delete t.name,t})))})):n.push(s.l7({type:"scatter"},t))})),e.mergeOption(s.ce({series:n},t.newOption))}));var GL,ZL=ml,WL=s.S6,FL=U();function HL(t){return(t=FL(t)).snapshots||(t.snapshots=[{}]),t.snapshots}function UL(){return null!==GL&&GL.apply(this,arguments)||this}a(UL,GL=gL),UL.prototype.onclick=function(t,e){FL(t).snapshots=null,e.dispatchAction({type:"restore",from:this.uid})},UL.getDefaultOption=function(t){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])}},dt=UL,Yu({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(t,e){e.resetOption("recreate")}));var XL=dt,YL=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function JL(t,e,n){var i=this,o=(this._targetInfoList=[],KL(e,t));(0,s.S6)(qL,(function(t,e){n&&n.include&&!(0<=(0,s.cq)(n.include,e))||t(o,i._targetInfoList)}))}function jL(t){return t[0]>t[1]&&t.reverse(),t}function KL(t,e){return Y(t,e,{includeMainTypes:YL})}JL.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,(function(t,e,n){(t.coordRanges||(t.coordRanges=[])).push(e),t.coordRange||(t.coordRange=e,n=tP[t.brushType](0,n,e),t.__rangeOffset={offset:nP[t.brushType](n.values,t.range,[1,1]),xyMinMax:n.xyMinMax})})),t},JL.prototype.matchOutputRanges=function(t,e,n){(0,s.S6)(t,(function(t){var i=this.findTargetInfo(t,e);i&&!0!==i&&(0,s.S6)(i.coordSyses,(function(i){var o=tP[t.brushType](1,i,t.range,!0);n(t,o.values,i,e)}))}),this)},JL.prototype.setInputRanges=function(t,e){(0,s.S6)(t,(function(t){var n,i=this.findTargetInfo(t,e);t.range=t.range||[],i&&!0!==i&&(t.panelId=i.panelId,i=tP[t.brushType](0,i.coordSys,t.coordRange),n=t.__rangeOffset,t.range=n?nP[t.brushType](i.values,n.offset,function(t,e){return t=oP(t),e=oP(e),t=[t[0]/e[0],t[1]/e[1]],isNaN(t[0])&&(t[0]=1),isNaN(t[1])&&(t[1]=1),t}(i.xyMinMax,n.xyMinMax)):i.values)}),this)},JL.prototype.makePanelOpts=function(t,e){return(0,s.UI)(this._targetInfoList,(function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e?e(n):null,clipPath:Nw(i),isTargetByCursor:Ew(i,t,n.coordSysModel),getLinearBrushOtherExtent:Ow(i)}}))},JL.prototype.controlSeries=function(t,e,n){return!0===(t=this.findTargetInfo(t,n))||t&&0<=(0,s.cq)(t.coordSyses,e.coordinateSystem)},JL.prototype.findTargetInfo=function(t,e){for(var n=this._targetInfoList,i=KL(e,t),o=0;o<n.length;o++){var a=n[o],r=t.panelId;if(r){if(a.panelId===r)return a}else for(var s=0;s<$L.length;s++)if($L[s](i,a))return a}return!0},yr=JL;var qL={grid:function(t,e){var n=t.xAxisModels,i=t.yAxisModels,o=(t=t.gridModels,(0,s.kW)()),a={},r={};(n||i||t)&&((0,s.S6)(n,(function(t){t=t.axis.grid.model,o.set(t.id,t),a[t.id]=!0})),(0,s.S6)(i,(function(t){t=t.axis.grid.model,o.set(t.id,t),r[t.id]=!0})),(0,s.S6)(t,(function(t){o.set(t.id,t),a[t.id]=!0,r[t.id]=!0})),o.each((function(t){var o=t.coordinateSystem,l=[];(0,s.S6)(o.getCartesians(),(function(t,e){(0<=(0,s.cq)(n,t.getAxis("x").model)||0<=(0,s.cq)(i,t.getAxis("y").model))&&l.push(t)})),e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:l[0],coordSyses:l,getPanelRect:QL.grid,xAxisDeclared:a[t.id],yAxisDeclared:r[t.id]})})))},geo:function(t,e){(0,s.S6)(t.geoModels,(function(t){var n=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:n,coordSyses:[n],getPanelRect:QL.geo})}))}},$L=[function(t,e){var n=t.xAxisModel,i=t.yAxisModel;return(t=!(t=!(t=t.gridModel)&&n?n.axis.grid.model:t)&&i?i.axis.grid.model:t)&&t===e.gridModel},function(t,e){return(t=t.geoModel)&&t===e.geoModel}],QL={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(gs(t)),e}},tP={lineX:(0,s.WA)(eP,0),lineY:(0,s.WA)(eP,1),rect:function(t,e,n,i){var o=t?e.pointToData([n[0][0],n[1][0]],i):e.dataToPoint([n[0][0],n[1][0]],i);return t=t?e.pointToData([n[0][1],n[1][1]],i):e.dataToPoint([n[0][1],n[1][1]],i),{values:e=[jL([o[0],t[0]]),jL([o[1],t[1]])],xyMinMax:e}},polygon:function(t,e,n,i){var o=[[1/0,-1/0],[1/0,-1/0]];return{values:(0,s.UI)(n,(function(n){return n=t?e.pointToData(n,i):e.dataToPoint(n,i),o[0][0]=Math.min(o[0][0],n[0]),o[1][0]=Math.min(o[1][0],n[1]),o[0][1]=Math.max(o[0][1],n[0]),o[1][1]=Math.max(o[1][1],n[1]),n})),xyMinMax:o}}};function eP(t,e,n,i){var o=n.getAxis(["x","y"][t]),a=(n=jL((0,s.UI)([0,1],(function(t){return e?o.coordToData(o.toLocalCoord(i[t]),!0):o.toGlobalCoord(o.dataToCoord(i[t]))}))),[]);return a[t]=n,a[1-t]=[NaN,NaN],{values:n,xyMinMax:a}}var nP={lineX:(0,s.WA)(iP,0),lineY:(0,s.WA)(iP,1),rect:function(t,e,n){return[[t[0][0]-n[0]*e[0][0],t[0][1]-n[0]*e[0][1]],[t[1][0]-n[1]*e[1][0],t[1][1]-n[1]*e[1][1]]]},polygon:function(t,e,n){return(0,s.UI)(t,(function(t,i){return[t[0]-n[0]*e[i][0],t[1]-n[1]*e[i][1]]}))}};function iP(t,e,n,i){return[e[0]-i[t]*n[0],e[1]-i[t]*n[1]]}function oP(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var aP,rP=yr,sP=s.S6;function lP(){return null!==aP&&aP.apply(this,arguments)||this}a(lP,aP=gL),lP.prototype.render=function(t,e,n,i){this._brushController||(this._brushController=new Rw(n.getZr()),this._brushController.on("brush",s.ak(this._onBrush,this)).mount());var o=t,a=e,r=this,l=r._isZoomActive;i&&"takeGlobalCursor"===i.type&&(l="dataZoomSelect"===i.key&&i.dataZoomSelectActive),r._isZoomActive=l,o.setIconStatus("zoom",l?"emphasis":"normal"),i=new rP(cP(o),a,{include:["grid"]}).makePanelOpts(n,(function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"})),r._brushController.setPanels(i).enableBrush(!(!l||!i.length)&&{brushType:"auto",brushStyle:o.getModel("brushStyle").getItemStyle()}),t.setIconStatus("back",1<function(t){return HL(t).length}(e)?"emphasis":"normal")},lP.prototype.onclick=function(t,e,n){uP[n].call(this)},lP.prototype.remove=function(t,e){this._brushController&&this._brushController.unmount()},lP.prototype.dispose=function(t,e){this._brushController&&this._brushController.dispose()},lP.prototype._onBrush=function(t){var e,n,i,o,a=t.areas;function r(t,i,o){var a,r,s,l=(i=i.getAxis(t)).model;null==(l=(a=t,r=l,n.eachComponent({mainType:"dataZoom",subType:"select"},(function(t){t.getAxisModel(a,r.componentIndex)&&(s=t)})),t=s).findRepresentativeAxisProxy(l).getMinMaxSpan()).minValueSpan&&null==l.maxValueSpan||(o=Db(0,o.slice(),i.scale.getExtent(),0,l.minValueSpan,l.maxValueSpan)),t&&(e[t.id]={dataZoomId:t.id,startValue:o[0],endValue:o[1]})}t.isEnd&&a.length&&(e={},n=this.ecModel,this._brushController.updateCovers([]),new rP(cP(this.model),n,{include:["grid"]}).matchOutputRanges(a,n,(function(t,e,n){"cartesian2d"===n.type&&("rect"===(t=t.brushType)?(r("x",n,e[0]),r("y",n,e[1])):r({lineX:"x",lineY:"y"}[t],n,e))})),t=e,o=HL(i=n),WL(t,(function(t,e){for(var n,a=o.length-1;0<=a&&!o[a][e];a--);a<0&&(n=i.queryComponents({mainType:"dataZoom",subType:"select",id:e})[0])&&(n=n.getPercentRange(),o[0][e]={dataZoomId:e,start:n[0],end:n[1]})})),o.push(t),this._dispatchZoomAction(e))},lP.prototype._dispatchZoomAction=function(t){var e=[];sP(t,(function(t,n){e.push(s.d9(t))})),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},lP.getDefaultOption=function(t){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},Cl=lP;var uP={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){var t,e,n;this._dispatchZoomAction((t=this.ecModel,t=(e=HL(t))[e.length-1],1<e.length&&e.pop(),n={},WL(t,(function(t,i){for(var o=e.length-1;0<=o;o--)if(t=e[o][i]){n[i]=t;break}})),n))}};function cP(t){return null==(t={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)}).xAxisIndex&&null==t.xAxisId&&(t.xAxisIndex="all"),null==t.yAxisIndex&&null==t.yAxisId&&(t.yAxisIndex="all"),t}Il="dataZoom",Tl=function(t){var e,n,i=t.getComponent("toolbox",0),o=["feature","dataZoom"];if(i&&null!=i.get(o))return e=i.getModel(o),n=[],i=Y(t,cP(e)),sP(i.xAxisModels,(function(t){return a(t,"xAxis","xAxisIndex")})),sP(i.yAxisModels,(function(t){return a(t,"yAxis","yAxisIndex")})),n;function a(t,i,o){t=t.componentIndex,(i={type:"select",$fromToolbox:!0,filterMode:e.get("filterMode",!0)||"filter",id:"\0_ec_\0toolbox-dataZoom_"+i+t})[o]=t,n.push(i)}},(0,s.hu)(null==Vi.get(Il)&&Tl),Vi.set(Il,Tl);var hP,dP=Cl;function pP(){var t=null!==hP&&hP.apply(this,arguments)||this;return t.type=pP.type,t}a(pP,hP=yi),pP.type="tooltip",pP.dependencies=["axisPointer"],pP.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}};var gP=pP;function fP(t){var e=t.get("confine");return null!=e?e:"richText"===t.get("renderMode")}function yP(t){if(l.Z.domSupported)for(var e=document.documentElement.style,n=0,i=t.length;n<i;n++)if(t[n]in e)return t[n]}var mP=yP(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function vP(t,e){if(!t)return e;e=Fn(e,!0);var n=t.indexOf(e);return(t=-1===n?e:"-"+t.slice(0,n)+"-"+e).toLowerCase()}var xP=vP(yP(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),_P=vP(mP,"transform"),SP="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(l.Z.transform3dSupported?"will-change:transform;":"");function bP(t,e,n){var i;return t=t.toFixed(0)+"px",e=e.toFixed(0)+"px",l.Z.transformSupported?(i="translate"+((i=l.Z.transform3dSupported)?"3d":"")+"("+t+","+e+(i?",0":"")+")",n?"top:0;left:0;"+_P+":"+i+";":[["top",0],["left",0],[mP,i]]):n?"top:"+e+";left:"+t+";":[["top",e],["left",t]]}function wP(t,e,n,i,o){var a,r=e&&e.painter;n?(a=r&&r.getViewportRoot())&&(0,ln.YB)(t,a,n,i,o):(t[0]=i,t[1]=o,(a=r&&r.getViewportRootOffset())&&(t[0]+=a.offsetLeft,t[1]+=a.offsetTop)),t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}function MP(t,e){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,l.Z.wxa)return null;var n=document.createElement("div"),i=(n.domBelongToZr=!0,this.el=n,this._zr=t.getZr()),o=(e=(e=e.appendTo)&&((0,s.HD)(e)?document.querySelector(e):(0,s.Mh)(e)?e:(0,s.mf)(e)&&e(t.getDom())),wP(this._styleCoord,i,e,t.getWidth()/2,t.getHeight()/2),(e||t.getDom()).appendChild(n),this._api=t,this._container=e,this);n.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},n.onmousemove=function(t){var e,n;t=t||window.event,o._enterable||(e=i.handler,n=i.painter.getViewportRoot(),(0,Gy.OD)(n,t,!0),e.dispatch("mousemove",t))},n.onmouseleave=function(){o._inContent=!1,o._enterable&&o._show&&o.hideLater(o._hideDelay)}}MP.prototype.update=function(t){this._container||(n="position",n=(e=(e=i=this._api.getDom()).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e))?n?e[n]:e:null,"absolute"!==(e=i.style).position&&"absolute"!==n&&(e.position="relative"));var e,n,i=t.get("alwaysShowContent");i&&this._moveIfResized(),this._alwaysShowContent=i,this.el.className=t.get("className")||""},MP.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,o=this._styleCoord;n.innerHTML?i.cssText=SP+function(t,e,n){var i,o,a=[],r=t.get("transitionDuration"),u=t.get("backgroundColor"),c=t.get("shadowBlur"),h=t.get("shadowColor"),d=t.get("shadowOffsetX"),p=t.get("shadowOffsetY"),g=t.getModel("textStyle"),f=lr(t,"html");return a.push("box-shadow:"+d+"px "+p+"px "+c+"px "+h),e&&r&&a.push((h="opacity"+(c=" "+(d=r)/2+"s "+(p="cubic-bezier(0.23,1,0.32,1)"))+",visibility"+c,n||(c=" "+d+"s "+p,h+=l.Z.transformSupported?","+_P+c:",left"+c+",top"+c),xP+":"+h)),u&&a.push("background-color:"+u),(0,s.S6)(["width","color","radius"],(function(e){var n="border-"+e,i=Fn(n);null!=(i=t.get(i))&&a.push(n+":"+i+("color"===e?"":"px"))})),a.push((o=[],e=(i=g).get("fontSize"),(r=i.getTextColor())&&o.push("color:"+r),o.push("font:"+i.getFont()),r=(0,s.pD)(i.get("lineHeight"),Math.round(3*e/2)),e&&o.push("line-height:"+r+"px"),e=i.get("textShadowColor"),r=i.get("textShadowBlur")||0,n=i.get("textShadowOffsetX")||0,d=i.get("textShadowOffsetY")||0,e&&r&&o.push("text-shadow:"+n+"px "+d+"px "+r+"px "+e),(0,s.S6)(["decoration","align"],(function(t){var e=i.get(t);e&&o.push("text-"+t+":"+e)})),o.join(";"))),null!=f&&a.push("padding:"+Hn(f).join("px ")+"px"),a.join(";")+";"}(t,!this._firstShow,this._longHide)+bP(o[0],o[1],!0)+"border-color:"+jn(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},MP.prototype.setContent=function(t,e,n,i,o){var a=this.el;if(null==t)a.innerHTML="";else{var r,l,u,c,h,d="";if((0,s.HD)(o)&&"item"===n.get("trigger")&&!fP(n)&&(d=(0,s.HD)(o)&&"inside"!==o?(r=n.get("backgroundColor"),n=n.get("borderWidth"),i=jn(i),o=o="left"===o?"right":"right"===o?"left":"top"===o?"bottom":"top",p=Math.max(1.5*Math.round(n),6),u=_P+":",-1<(l="",s.cq)(["left","right"],o)?(l+="top:50%",u+="translateY(-50%) rotate("+(h="left"==o?-225:-45)+"deg)"):(l+="left:50%",u+="translateX(-50%) rotate("+(h="top"==o?225:45)+"deg)"),h=h*Math.PI/180,h=(c=p+n)*Math.abs(Math.cos(h))+c*Math.abs(Math.sin(h)),i=i+" solid "+n+"px;",'<div style="'+["position:absolute;width:"+p+"px;height:"+p+"px;z-index:-1;",(l+=";"+o+":-"+Math.round(100*((h-Math.SQRT2*n)/2+Math.SQRT2*n-(h-c)/2))/100+"px")+";"+u+";","border-bottom:"+i,"border-right:"+i,"background-color:"+r+";"].join("")+'"></div>'):""),(0,s.HD)(t))a.innerHTML=t+d;else if(t){(a.innerHTML="",s.kJ)(t)||(t=[t]);for(var p,g=0;g<t.length;g++)(0,s.Mh)(t[g])&&t[g].parentNode!==a&&a.appendChild(t[g]);d&&a.childNodes.length&&((p=document.createElement("div")).innerHTML=d,a.appendChild(p))}}},MP.prototype.setEnterable=function(t){this._enterable=t},MP.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},MP.prototype.moveTo=function(t,e){var n,i;this.el&&(wP(n=this._styleCoord,this._zr,this._container,t,e),null!=n[0])&&null!=n[1]&&(i=this.el.style,t=bP(n[0],n[1]),(0,s.S6)(t,(function(t){i[t[0]]=t[1]})))},MP.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},MP.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",l.Z.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout((function(){return t._longHide=!0}),500)},MP.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout((0,s.ak)(this.hide,this),t)):this.hide())},MP.prototype.isShow=function(){return this._show},MP.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this.el.parentNode;t&&t.removeChild(this.el),this.el=this._container=null};var IP=MP;function DP(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),AP(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}function TP(t){return Math.max(0,t)}function CP(t){var e=TP(t.shadowBlur||0),n=TP(t.shadowOffsetX||0);return t=TP(t.shadowOffsetY||0),{left:TP(e-n),right:TP(e+n),top:TP(e-t),bottom:TP(e+t)}}function AP(t,e,n,i){t[0]=n,t[1]=i,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}DP.prototype.update=function(t){(t=t.get("alwaysShowContent"))&&this._moveIfResized(),this._alwaysShowContent=t},DP.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},DP.prototype.setContent=function(t,e,n,i,o){var a=this,r=(s.Kn(t)&&ga(""),this.el&&this._zr.remove(this.el),n.getModel("textStyle")),l=(this.el=new ft.ZP({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:r.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:lr(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),s.S6(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],(function(t){a.el.style[t]=n.get(t)})),s.S6(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],(function(t){a.el.style[t]=r.get(t)||0})),this._zr.add(this.el),this);this.el.on("mouseover",(function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0})),this.el.on("mouseout",(function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1}))},DP.prototype.setEnterable=function(t){this._enterable=t},DP.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect();return t=CP(t.style),[e.width+t.left+t.right,e.height+t.top+t.bottom]},DP.prototype.moveTo=function(t,e){var n,i,o=this.el;o&&(AP(i=this._styleCoord,this._zr,t,e),t=i[0],e=i[1],n=TP((i=o.style).borderWidth||0),i=CP(i),o.x=t+n+i.left,o.y=e+n+i.top,o.markRedraw())},DP.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},DP.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},DP.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(s.ak(this.hide,this),t)):this.hide())},DP.prototype.isShow=function(){return this._show},DP.prototype.dispose=function(){this._zr.remove(this.el)};var kP,LP=DP,PP=new Zr.Z({shape:{x:-1,y:-1,width:2,height:2}});function RP(){var t=null!==kP&&kP.apply(this,arguments)||this;return t.type=RP.type,t}function NP(t,e,n){for(var i=e.ecModel,o=n?(o=new nn(n,i,i),new nn(e.option,o,i)):e,a=t.length-1;0<=a;a--){var r=t[a];r&&(r instanceof nn&&(r=r.get("tooltip",!0)),r=(0,s.HD)(r)?{formatter:r}:r)&&(o=new nn(r,o,i))}return o}function OP(t,e){return t.dispatchAction||(0,s.ak)(e.dispatchAction,e)}function EP(t){return"center"===t||"middle"===t}a(RP,kP=Cr),RP.prototype.init=function(t,e){var n;!l.Z.node&&e.getDom()&&(t=t.getComponent("tooltip"),n=this._renderMode="auto"===(n=t.get("renderMode"))?l.Z.domSupported?"html":"richText":n||"html",this._tooltipContent="richText"===n?new LP(e):new IP(e,{appendTo:t.get("appendToBody",!0)?"body":t.get("appendTo",!0)}))},RP.prototype.render=function(t,e,n){!l.Z.node&&n.getDom()&&(this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=n,(e=this._tooltipContent).update(t),e.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&t.get("transitionDuration")?Gs(this,"_updatePosition",50,"fixRate"):Zs(this,"_updatePosition"))},RP.prototype._initGlobalListener=function(){var t=this._tooltipModel.get("triggerOn");kC("itemTooltip",this._api,(0,s.ak)((function(e,n,i){"none"!==t&&(0<=t.indexOf(e)?this._tryShow(n,i):"leave"===e&&this._hide(i))}),this))},RP.prototype._keepShow=function(){var t,e=this._tooltipModel,n=this._ecModel,i=this._api,o=e.get("triggerOn");null!=this._lastX&&null!=this._lastY&&"none"!==o&&"click"!==o&&(t=this,clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){i.isDisposed()||t.manuallyShowTip(e,n,i,{x:t._lastX,y:t._lastY,dataByCoordSys:t._lastDataByCoordSys})})))},RP.prototype.manuallyShowTip=function(t,e,n,i){var o,a,r,s;i.from!==this.uid&&!l.Z.node&&n.getDom()&&(o=OP(i,n),this._ticket="",s=i.dataByCoordSys,(a=function(t,e,n){var i,o=J(t).queryOptionMap,a=o.keys()[0];if(a&&"series"!==a&&(e=q(e,a,o.get(a),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0])&&(n.getViewOfComponentModel(e).group.traverse((function(e){var n=yt(e).tooltipConfig;if(n&&n.name===t.name)return i=e,!0})),i))return{componentMainType:a,componentIndex:e.componentIndex,el:i}}(i,e,n))?((r=a.el.getBoundingRect().clone()).applyTransform(a.el.transform),this._tryShow({offsetX:r.x+r.width/2,offsetY:r.y+r.height/2,target:a.el,position:i.position,positionDefault:"bottom"},o)):i.tooltip&&null!=i.x&&null!=i.y?((r=PP).x=i.x,r.y=i.y,r.update(),yt(r).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:r},o)):s?this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:s,tooltipOption:i.tooltipOption},o):null!=i.seriesIndex?this._manuallyAxisShowTip(t,e,n,i)||(r=(a=EC(i,e)).point[0],s=a.point[1],null!=r&&null!=s&&this._tryShow({offsetX:r,offsetY:s,target:a.el,position:i.position,positionDefault:"bottom"},o)):null!=i.x&&null!=i.y&&(n.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target},o)))},RP.prototype.manuallyHideTip=function(t,e,n,i){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(OP(i,n))},RP.prototype._manuallyAxisShowTip=function(t,e,n,i){var o=i.seriesIndex,a=i.dataIndex,r=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=a&&null!=r&&(r=e.getSeriesByIndex(o))&&"axis"===(e=NP([r.getData().getItemModel(a),r,(r.coordinateSystem||{}).model],this._tooltipModel)).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:a,position:i.position}),!0},RP.prototype._tryShow=function(t,e){var n,i,o,a=t.target;this._tooltipModel&&(this._lastX=t.offsetX,this._lastY=t.offsetY,(n=t.dataByCoordSys)&&n.length?this._showAxisTooltip(n,t):a?"legend"!==yt(a).ssrType&&(Ml(a,(function(t){return null!=yt(t).dataIndex?(i=t,1):null!=yt(t).tooltipConfig&&(o=t,1)}),!(this._lastDataByCoordSys=null)),i?this._showSeriesItemTooltip(t,i,e):o?this._showComponentItemTooltip(t,o,e):this._hide(e)):(this._lastDataByCoordSys=null,this._hide(e)))},RP.prototype._showOrMove=function(t,e){t=t.get("showDelay"),e=(0,s.ak)(e,this),clearTimeout(this._showTimout),0<t?this._showTimout=setTimeout(e,t):e()},RP.prototype._showAxisTooltip=function(t,e){var n=this._ecModel,i=this._tooltipModel,o=[e.offsetX,e.offsetY],a=NP([e.tooltipOption],i),r=this._renderMode,l=[],u=Qa("section",{blocks:[],noHeader:!0}),c=[],h=new ur,d=((0,s.S6)(t,(function(t){(0,s.S6)(t.dataByAxis,(function(t){var e,o,a=n.getComponent(t.axisDim+"Axis",t.axisIndex),d=t.value;a&&null!=d&&(e=pC(d,a.axis,n,t.seriesDataIndices,t.valueLabelOpt),o=Qa("section",{header:e,noHeader:!(0,s.fy)(e),sortBlocks:!0,blocks:[]}),u.blocks.push(o),(0,s.S6)(t.seriesDataIndices,(function(u){var p,g=n.getSeriesByIndex(u.seriesIndex),f=(u=u.dataIndexInside,g.getDataParams(u));f.dataIndex<0||(f.axisDim=t.axisDim,f.axisIndex=t.axisIndex,f.axisType=t.axisType,f.axisId=t.axisId,f.axisValue=$g(a.axis,{value:d}),f.axisValueLabel=e,f.marker=h.makeTooltipMarker("item",jn(f.color),r),(p=(u=ea(g.formatTooltip(u,!0,null))).frag)&&(g=NP([g],i).get("valueFormatter"),o.blocks.push(g?(0,s.l7)({valueFormatter:g},p):p)),u.text&&c.push(u.text),l.push(f))})))}))})),u.blocks.reverse(),c.reverse(),e.position),p=(e=a.get("order"),(e=or(u,h,r,e,n.get("useUTC"),a.get("textStyle")))&&c.unshift(e),e="richText"===r?"\n\n":"<br/>",c.join(e));this._showOrMove(a,(function(){this._updateContentNotChangedOnAxis(t,l)?this._updatePosition(a,d,o[0],o[1],this._tooltipContent,l):this._showTooltipContent(a,p,l,Math.random()+"",o[0],o[1],d,null,h)}))},RP.prototype._showSeriesItemTooltip=function(t,e,n){var i,o,a,r,l,u=this._ecModel,c=(e=yt(e)).seriesIndex,h=u.getSeriesByIndex(c),d=e.dataModel||h,p=e.dataIndex,g=(e=e.dataType,d.getData(e)),f=this._renderMode,y=t.positionDefault,m=NP([g.getItemModel(p),d,h&&(h.coordinateSystem||{}).model],this._tooltipModel,y?{position:y}:null);null!=(h=m.get("trigger"))&&"item"!==h||(i=d.getDataParams(p,e),o=new ur,i.marker=o.makeTooltipMarker("item",jn(i.color),f),y=ea(d.formatTooltip(p,!1,e)),h=m.get("order"),e=m.get("valueFormatter"),a=y.frag,r=a?or(e?(0,s.l7)({valueFormatter:e},a):a,o,f,h,u.get("useUTC"),m.get("textStyle")):y.text,l="item_"+d.name+"_"+p,this._showOrMove(m,(function(){this._showTooltipContent(m,r,i,l,t.offsetX,t.offsetY,t.position,t.target,o)})),n({type:"showTip",dataIndexInside:p,dataIndex:g.getRawIndex(p),seriesIndex:c,from:this.uid}))},RP.prototype._showComponentItemTooltip=function(t,e,n){var i="html"===this._renderMode,o=(r=yt(e)).tooltipConfig.option||{},a=o.encodeHTMLContent,r=((0,s.HD)(o)&&(o={content:o,formatter:o},a=!0),a&&i&&o.content&&((o=(0,s.d9)(o)).content=(0,ln.F1)(o.content)),a=[o],(i=this._ecModel.getComponent(r.componentMainType,r.componentIndex))&&a.push(i),a.push({formatter:o.content}),t.positionDefault),l=NP(a,this._tooltipModel,r?{position:r}:null),u=l.get("content"),c=Math.random()+"",h=new ur;this._showOrMove(l,(function(){var n=(0,s.d9)(l.get("formatterParams")||{});this._showTooltipContent(l,u,n,c,t.offsetX,t.offsetY,t.position,e,h)})),n({type:"showTip",from:this.uid})},RP.prototype._showTooltipContent=function(t,e,n,i,o,a,r,l,u){var c,h,d,p,g;this._ticket="",t.get("showContent")&&t.get("show")&&((c=this._tooltipContent).setEnterable(t.get("enterable")),h=t.get("formatter"),r=r||t.get("position"),d=this._getNearestPoint([o,a],n,t.get("trigger"),t.get("borderColor")).color,h&&(e=(0,s.HD)(h)?(p=t.ecModel.get("useUTC"),e=h,Jn(e=(g=(0,s.kJ)(n)?n[0]:n)&&g.axisType&&0<=g.axisType.indexOf("time")?Dn(g.axisValue,e,p):e,n,!0)):(0,s.mf)(h)?(g=(0,s.ak)((function(e,i){e===this._ticket&&(c.setContent(i,u,t,d,r),this._updatePosition(t,r,o,a,c,n,l))}),this),this._ticket=i,h(n,i,g)):h),c.setContent(e,u,t,d,r),c.show(t,d),this._updatePosition(t,r,o,a,c,n,l))},RP.prototype._getNearestPoint=function(t,e,n,i){return"axis"===n||(0,s.kJ)(e)?{color:i||("html"===this._renderMode?"#fff":"none")}:(0,s.kJ)(e)?void 0:{color:i||e.color||e.borderColor}},RP.prototype._updatePosition=function(t,e,n,i,o,a,r){var l,u=this._api.getWidth(),c=this._api.getHeight(),h=(e=e||t.get("position"),o.getSize()),d=t.get("align"),g=t.get("verticalAlign"),f=r&&r.getBoundingRect().clone();r&&f.applyTransform(r.transform),(0,s.mf)(e)&&(e=e([n,i],a,o.el,f,{viewSize:[u,c],contentSize:h.slice()})),(0,s.kJ)(e)?(n=p(e[0],u),i=p(e[1],c)):(0,s.Kn)(e)?((a=e).width=h[0],a.height=h[1],n=(a=ni(a,{width:u,height:c})).x,i=a.y,g=d=null):(n=(l=(0,s.HD)(e)&&r?function(t,e,n,i){var o=n[0],a=n[1],r=Math.ceil(Math.SQRT2*i)+8,s=0,l=0,u=e.width,c=e.height;switch(t){case"inside":s=e.x+u/2-o/2,l=e.y+c/2-a/2;break;case"top":s=e.x+u/2-o/2,l=e.y-a-r;break;case"bottom":s=e.x+u/2-o/2,l=e.y+c+r;break;case"left":s=e.x-o-r,l=e.y+c/2-a/2;break;case"right":s=e.x+u+r,l=e.y+c/2-a/2}return[s,l]}(e,f,h,t.get("borderWidth")):function(t,e,n,i,o,a,r){var s=(n=n.getSize())[0];return n=n[1],null!=a&&(i<t+s+a+2?t-=s+a:t+=a),null!=r&&(o<e+n+r?e-=n+r:e+=r),[t,e]}(n,i,o,u,c,d?null:20,g?null:20))[0],i=l[1]),d&&(n-=EP(d)?h[0]/2:"right"===d?h[0]:0),g&&(i-=EP(g)?h[1]/2:"bottom"===g?h[1]:0),fP(t)&&(a=n,r=i,e=u,f=c,g=(d=(d=o).getSize())[0],d=d[1],a=Math.min(a+g,e)-g,r=Math.min(r+d,f)-d,n=(l=[a=Math.max(a,0),r=Math.max(r,0)])[0],i=l[1]),o.moveTo(n,i)},RP.prototype._updateContentNotChangedOnAxis=function(t,e){var n=this._lastDataByCoordSys,i=this._cbParamsList,o=!!n&&n.length===t.length;return o&&(0,s.S6)(n,(function(n,a){n=n.dataByAxis||[];var r=(t[a]||{}).dataByAxis||[];(o=o&&n.length===r.length)&&(0,s.S6)(n,(function(t,n){n=r[n]||{};var a=t.seriesDataIndices||[],l=n.seriesDataIndices||[];(o=o&&t.value===n.value&&t.axisType===n.axisType&&t.axisId===n.axisId&&a.length===l.length)&&(0,s.S6)(a,(function(t,e){e=l[e],o=o&&t.seriesIndex===e.seriesIndex&&t.dataIndex===e.dataIndex})),i&&(0,s.S6)(t.seriesDataIndices,(function(t){t=t.seriesIndex;var n=e[t];t=i[t],n&&t&&t.data!==n.data&&(o=!1)}))}))})),this._lastDataByCoordSys=t,this._cbParamsList=e,!!o},RP.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},RP.prototype.dispose=function(t,e){!l.Z.node&&e.getDom()&&(Zs(this,"_updatePosition"),this._tooltipContent.dispose(),RC("itemTooltip",e))},RP.type="tooltip";var VP=RP,zP=["rect","polygon","keep","clear"];function BP(t,e){var n,i,o,a=N(t?t.brush:[]);a.length&&(n=[],s.S6(a,(function(t){(t=t.hasOwnProperty("toolbox")?t.toolbox:[])instanceof Array&&(n=n.concat(t))})),a=t&&t.toolbox,(a=s.kJ(a)?a[0]:a)||(t.toolbox=[a={feature:{}}]),(t=(a=(t=a.feature||(a.feature={})).brush||(t.brush={})).type||(a.type=[])).push.apply(t,n),i=t,o={},s.S6(i,(function(t){o[t]=1})),i.length=0,s.S6(o,(function(t,e){i.push(e)})),e)&&!t.length&&t.push.apply(t,zP)}var GP=s.S6;function ZP(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return 1}function WP(t,e,n){var i={};return GP(e,(function(e){var o=i[e]=(a.prototype.__hidden=a.prototype,new a);function a(){}GP(t[e],(function(t,i){Kx.isValidType(i)&&(t={type:i,visual:t},n&&n(t,e),o[i]=new Kx(t),"opacity"===i)&&((t=s.d9(t)).type="colorAlpha",o.__hidden.__alphaForOpacity=new Kx(t))}))})),i}function FP(t,e,n){var i;s.S6(n,(function(t){e.hasOwnProperty(t)&&ZP(e[t])&&(i=!0)})),i&&s.S6(n,(function(n){e.hasOwnProperty(n)&&ZP(e[n])?t[n]=s.d9(e[n]):delete t[n]}))}var HP={lineX:UP(0),lineY:UP(1),rect:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])},rect:function(t,e,n){return t&&n.boundingRect.intersect(t)}},polygon:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])&&em.X(n.range,t[0],t[1])},rect:function(t,e,n){var i,o,a,r,s;return n=n.range,!(!t||n.length<=1)&&(i=t.x,o=t.y,a=t.width,r=t.height,s=n[0],!!(em.X(n,i,o)||em.X(n,i+a,o)||em.X(n,i,o+r)||em.X(n,i+a,o+r)||sn.Z.create(t).contain(s[0],s[1])||bs(i,o,i+a,o,n)||bs(i,o,i,o+r,n)||bs(i+a,o,i+a,o+r,n)||bs(i,o+r,i+a,o+r,n))||void 0)}}};function UP(t){var e=["x","y"],n=["width","height"];return{point:function(e,n,i){if(e)return i=i.range,XP(e[t],i)},rect:function(i,o,a){if(i)return a=a.range,(i=[i[e[t]],i[e[t]]+i[n[t]]])[1]<i[0]&&i.reverse(),XP(i[0],a)||XP(i[1],a)||XP(a[0],i)||XP(a[1],i)}}}function XP(t,e){return e[0]<=t&&t<=e[1]}var YP=["inBrush","outOfBrush"],JP="__ecBrushSelect",jP="__ecInBrushSelectEvent";function KP(t){t.eachComponent({mainType:"brush"},(function(e){(e.brushTargetManager=new rP(e.option,t)).setInputRanges(e.areas,t)}))}function qP(t,e,n){var i,o,a,r,l,u,c=[];t.eachComponent({mainType:"brush"},(function(t){n&&"takeGlobalCursor"===n.type&&t.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1})})),KP(t),t.eachComponent({mainType:"brush"},(function(e,n){var a={brushId:e.id,brushIndex:n,brushName:e.name,areas:s.d9(e.areas),selected:[]},r=(c.push(a),e.option),l=r.brushLink,u=[],h=[],d=[],p=!1,g=(n||(i=r.throttleType,o=r.throttleDelay),s.UI(e.areas,(function(t){var e,n,i,o=eR[t.brushType];return(o=s.ce({boundingRect:o?o(t):void 0},t)).selectors=(n=(e=o).brushType,i={point:function(t){return HP[n].point(t,i,e)},rect:function(t){return HP[n].rect(t,i,e)}}),o}))),f=WP(e.option,YP,(function(t){t.mappingMethod="fixed"}));function y(t){return"all"===l||u[t]}function m(t){return!!t.length}s.kJ(l)&&s.S6(l,(function(t){u[t]=1})),t.eachSeries((function(n,i){var o,a,r,l,u,c,f=d[i]=[];"parallel"===n.subType?(u=i,c=(l=n).coordinateSystem,p=p||c.hasAxisBrushed(),y(u)&&c.eachActiveState(l.getData(),(function(t,e){"active"===t&&(h[e]=1)}))):(u=i,a=f,(o=n).brushSelector&&!function(t,e){return null!=(t=t.option.seriesIndex)&&"all"!==t&&(s.kJ(t)?s.cq(t,e)<0:e!==t)}(e,u)&&(s.S6(g,(function(n){e.brushTargetManager.controlSeries(n,o,t)&&a.push(n),p=p||m(a)})),y(u))&&m(a)&&(r=o.getData()).each((function(t){QP(o,a,r,t)&&(h[t]=1)})))})),t.eachSeries((function(t,e){var n,i,o,r,l,u={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]},c=(a.selected.push(u),d[e]),g=t.getData(),v=y(e)?function(t){return h[t]?(u.dataIndex.push(g.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(e){return QP(t,c,g,e)?(u.dataIndex.push(g.getRawIndex(e)),"inBrush"):"outOfBrush"};function x(t){return xl(i,r,t)}function _(t,e){Sl(i,r,t,e)}(y(e)?p:m(c))&&(n=f,i=g,o=v,l={},s.S6(YP,(function(t){var e=Kx.prepareVisualTypes(n[t]);l[t]=e})),i.each((function(t,e){if(r=t,!(e=i.getRawDataItem(r))||!1!==e.visualMap){e=o.call(void 0,t);for(var a=n[e],s=l[e],u=0,c=s.length;u<c;u++){var h=s[u];a[h]&&a[h].applyVisual(t,x,_)}}})))}))})),a=i,r=o,l=c,(u=n)&&!(u=e.getZr())[jP]&&(u[JP]||(u[JP]=$P),Gs(u,JP,r,a)(e,l))}function $P(t,e){var n;t.isDisposed()||((n=t.getZr())[jP]=!0,t.dispatchAction({type:"brushSelect",batch:e}),n[jP]=!1)}function QP(t,e,n,i){for(var o=0,a=e.length;o<a;o++){var r=e[o];if(t.brushSelector(i,n,r.selectors,r))return 1}}var tR,eR={rect:function(t){return nR(t.range)},polygon:function(t){for(var e=t.range,n=0,i=e.length;n<i;n++){var o=o||[[1/0,-1/0],[1/0,-1/0]],a=e[n];a[0]<o[0][0]&&(o[0][0]=a[0]),a[0]>o[0][1]&&(o[0][1]=a[0]),a[1]<o[1][0]&&(o[1][0]=a[1]),a[1]>o[1][1]&&(o[1][1]=a[1])}return o&&nR(o)}};function nR(t){return new sn.Z(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}function iR(){var t=null!==tR&&tR.apply(this,arguments)||this;return t.type=iR.type,t}a(iR,tR=Cr),iR.prototype.init=function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new Rw(e.getZr())).on("brush",s.ak(this._onBrush,this)).mount()},iR.prototype.render=function(t,e,n,i){this.model=t,this._updateController(t,e,n,i)},iR.prototype.updateTransform=function(t,e,n,i){KP(e),this._updateController(t,e,n,i)},iR.prototype.updateVisual=function(t,e,n,i){this.updateTransform(t,e,n,i)},iR.prototype.updateView=function(t,e,n,i){this._updateController(t,e,n,i)},iR.prototype._updateController=function(t,e,n,i){i&&i.$from===t.id||this._brushController.setPanels(t.brushTargetManager.makePanelOpts(n)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},iR.prototype.dispose=function(){this._brushController.dispose()},iR.prototype._onBrush=function(t){var e=this.model.id,n=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);t.isEnd&&!t.removeOnClick||this.api.dispatchAction({type:"brush",brushId:e,areas:s.d9(n),$from:e}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:e,areas:s.d9(n),$from:e})},iR.type="brush";var oR,aR=iR;function rR(){var t=null!==oR&&oR.apply(this,arguments)||this;return t.type=rR.type,t.areas=[],t.brushOption={},t}function sR(t,e){return s.TS({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new nn(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}a(rR,oR=yi),rR.prototype.optionUpdated=function(t,e){var n=this.option;e||FP(n,t,["inBrush","outOfBrush"]),e=n.inBrush=n.inBrush||{},n.outOfBrush=n.outOfBrush||{color:"#ddd"},e.hasOwnProperty("liftZ")||(e.liftZ=5)},rR.prototype.setAreas=function(t){t&&(this.areas=s.UI(t,(function(t){return sR(this.option,t)}),this))},rR.prototype.setBrushOption=function(t){this.brushOption=sR(this.option,t),this.brushType=this.brushOption.brushType},rR.type="brush",rR.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],rR.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4};var lR,uR=rR,cR=["rect","polygon","lineX","lineY","keep","clear"];function hR(){return null!==lR&&lR.apply(this,arguments)||this}a(hR,lR=gL),hR.prototype.render=function(t,e,n){var i,o,a;e.eachComponent({mainType:"brush"},(function(t){i=t.brushType,o=t.brushOption.brushMode||"single",a=a||!!t.areas.length})),this._brushType=i,this._brushMode=o,s.S6(t.get("type",!0),(function(e){t.setIconStatus(e,("keep"===e?"multiple"===o:"clear"===e?a:e===i)?"emphasis":"normal")}))},hR.prototype.updateView=function(t,e,n){this.render(t,e,n)},hR.prototype.getIcons=function(){var t=this.model,e=t.get("icon",!0),n={};return s.S6(t.get("type",!0),(function(t){e[t]&&(n[t]=e[t])})),n},hR.prototype.onclick=function(t,e,n){var i=this._brushType,o=this._brushMode;"clear"===n?(e.dispatchAction({type:"axisAreaSelect",intervals:[]}),e.dispatchAction({type:"brush",command:"clear",areas:[]})):e.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?i:i!==n&&n,brushMode:"keep"===n?"multiple"===o?"single":"multiple":o}})},hR.getDefaultOption=function(t){return{show:!0,type:cR.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])}};var dR=hR;a(fR,pR=yi),fR.type="title",fR.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}};var pR,gR=fR;function fR(){var t=null!==pR&&pR.apply(this,arguments)||this;return t.type=fR.type,t.layoutMode={type:"box",ignoreSize:!0},t}a(_R,yR=Cr),_R.prototype.render=function(t,e,n){var i,o,a,r,l,u,c,h,d;this.group.removeAll(),t.get("show")&&(i=this.group,c=t.getModel("textStyle"),o=t.getModel("subtextStyle"),h=t.get("textAlign"),d=s.pD(t.get("textBaseline"),t.get("textVerticalAlign")),l=(c=new ft.ZP({style:Re(c,{text:t.get("text"),fill:c.getTextColor()},{disableBox:!0}),z2:10})).getBoundingRect(),u=t.get("subtext"),o=new ft.ZP({style:Re(o,{text:u,fill:o.getTextColor(),y:l.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),a=t.get("link"),r=t.get("sublink"),l=t.get("triggerEvent",!0),c.silent=!a&&!l,o.silent=!r&&!l,a&&c.on("click",(function(){Kn(a,"_"+t.get("target"))})),r&&o.on("click",(function(){Kn(r,"_"+t.get("subtarget"))})),yt(c).eventData=yt(o).eventData=l?{componentType:"title",componentIndex:t.componentIndex}:null,i.add(c),u&&i.add(o),l=i.getBoundingRect(),(u=t.getBoxLayoutParams()).width=l.width,u.height=l.height,u=ni(u,{width:n.getWidth(),height:n.getHeight()},t.get("padding")),h||("right"===(h="middle"===(h=t.get("left")||t.get("right"))?"center":h)?u.x+=u.width:"center"===h&&(u.x+=u.width/2)),d||("bottom"===(d="center"===(d=t.get("top")||t.get("bottom"))?"middle":d)?u.y+=u.height:"middle"===d&&(u.y+=u.height/2),d=d||"top"),i.x=u.x,i.y=u.y,i.markRedraw(),c.setStyle(n={align:h,verticalAlign:d}),o.setStyle(n),l=i.getBoundingRect(),c=u.margin,(h=t.getItemStyle(["color","opacity"])).fill=t.get("backgroundColor"),d=new Zr.Z({shape:{x:l.x-c[3],y:l.y-c[0],width:l.width+c[1]+c[3],height:l.height+c[0]+c[2],r:t.get("borderRadius")},style:h,subPixelOptimize:!0,silent:!0}),i.add(d))},_R.type="title";var yR,mR,vR,xR=_R;function _R(){var t=null!==yR&&yR.apply(this,arguments)||this;return t.type=_R.type,t}function SR(){var t=null!==mR&&mR.apply(this,arguments)||this;return t.type=SR.type,t.layoutMode="box",t}function bR(){var t=null!==vR&&vR.apply(this,arguments)||this;return t.type=bR.type,t}a(SR,mR=yi),SR.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),this._initData()},SR.prototype.mergeOption=function(t){mR.prototype.mergeOption.apply(this,arguments),this._initData()},SR.prototype.setCurrentIndex=function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t=e<=t?e-1:t)<0&&(t=0),this.option.currentIndex=t},SR.prototype.getCurrentIndex=function(){return this.option.currentIndex},SR.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},SR.prototype.setPlayState=function(t){this.option.autoPlay=!!t},SR.prototype.getPlayState=function(){return!!this.option.autoPlay},SR.prototype._initData=function(){var t,e=(n=this.option).data||[],n=n.axisType,i=this._names=[];"category"===n?(t=[],(0,s.S6)(e,(function(e,n){var o,a=Z(V(e),"");(0,s.Kn)(e)?(o=(0,s.d9)(e)).value=n:o=n,t.push(o),i.push(a)}))):t=e,e={category:"ordinal",time:"time",value:"number"}[n]||"number",(this._data=new yh([{name:"value",type:e}],this)).initData(t,i)},SR.prototype.getData=function(){return this._data},SR.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},SR.type="timeline",SR.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},a(bR,vR=Qe=SR),bR.type="timeline.slider",bR.defaultOption=rn(Qe.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),Ye=bR,(0,s.jB)(Ye,Qo.prototype);var wR,MR,IR=Ye;function DR(){var t=null!==wR&&wR.apply(this,arguments)||this;return t.type=DR.type,t}function TR(t,e,n,i){return(t=MR.call(this,t,e,n)||this).type=i||"value",t}a(DR,wR=Cr),DR.type="timeline",Js=DR,a(TR,MR=Al),TR.prototype.getLabelModel=function(){return this.model.getModel("label")},TR.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")};var CR,AR=TR,kR=Math.PI,LR=U();function PR(){var t=null!==CR&&CR.apply(this,arguments)||this;return t.type=PR.type,t}function RR(t,e,n,i,o,a){var r=e.get("color");return o?(o.setColor(r),n.add(o),a&&a.onUpdate(o)):((o=Ol(t.get("symbol"),-1,-1,2,2,r)).setStyle("strokeNoScale",!0),n.add(o),a&&a.onCreate(o)),r=e.getItemStyle(["color"]),o.setStyle(r),i=(0,s.TS)({rectHover:!0,z2:100},i,!0),n=El(t.get("symbolSize")),i.scaleX=n[0]/2,i.scaleY=n[1]/2,(a=Vl(t.get("symbolOffset"),n))&&(i.x=(i.x||0)+a[0],i.y=(i.y||0)+a[1]),e=t.get("symbolRotate"),i.rotation=(e||0)*Math.PI/180||0,o.attr(i),o.updateTransform(),o}function NR(t,e,n,i,o,a){var r;t.dragging||(r=o.getModel("checkpointStyle"),i=i.dataToCoord(o.getData().get("value",n)),a||!r.get("animation",!0)?(t.attr({x:i,y:0}),e&&e.attr({shape:{x2:i}})):(o={duration:r.get("animationDuration",!0),easing:r.get("animationEasing",!0)},t.stopAnimation(null,!0),t.animateTo({x:i,y:0},o),e&&e.animateTo({shape:{x2:i}},o)))}a(PR,CR=Js),PR.prototype.init=function(t,e){this.api=e},PR.prototype.render=function(t,e,n){var i,o,a;this.model=t,this.api=n,this.ecModel=e,this.group.removeAll(),t.get("show",!0)&&(i=this._layout(t,n),o=this._createGroup("_mainGroup"),e=this._createGroup("_labelGroup"),a=this._axis=this._createAxis(i,t),t.formatTooltip=function(t){return Qa("nameValue",{noName:!0,value:a.scale.getLabel({value:t})})},(0,s.S6)(["AxisLine","AxisTick","Control","CurrentPointer"],(function(e){this["_render"+e](i,o,a,t)}),this),this._renderAxisLabel(i,e,a,t),this._position(i,t)),this._doPlayStop(),this._updateTicksStatus()},PR.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},PR.prototype.dispose=function(){this._clearTimer()},PR.prototype._layout=function(t,e){var n,i,o,a=t.get(["label","position"]),r=t.get("orient"),l=(l=e,ni((u=t).getBoxLayoutParams(),{width:l.getWidth(),height:l.getHeight()},u.get("padding"))),u=null==a||"auto"===a?"horizontal"===r?l.y+l.height/2<e.getHeight()/2?"-":"+":l.x+l.width/2<e.getWidth()/2?"+":"-":(0,s.HD)(a)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[r][a]:a,c=(e={horizontal:"center",vertical:0<=u||"+"===u?"left":"right"},a={horizontal:0<=u||"+"===u?"top":"bottom",vertical:"middle"},{horizontal:0,vertical:kR/2}),h="vertical"===r?l.height:l.width,d=(x=(_=t.getModel("controlStyle")).get("show",!0))?_.get("itemSize"):0,p=x?_.get("itemGap"):0,g=d+p,f=(t.get(["label","rotate"])||0)*kR/180,y=_.get("position",!0),m=x&&_.get("showPlayBtn",!0),v=x&&_.get("showPrevBtn",!0),x=x&&_.get("showNextBtn",!0),_=0,S=h;return"left"===y||"bottom"===y?(m&&(n=[0,0],_+=g),v&&(i=[_,0],_+=g)):(m&&(n=[S-d,0],S-=g),v&&(i=[0,0],_+=g)),x&&(o=[S-d,0],S-=g),y=[_,S],t.get("inverse")&&y.reverse(),{viewRect:l,mainLength:h,orient:r,rotation:c[r],labelRotation:f,labelPosOpt:u,labelAlign:t.get(["label","align"])||e[r],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||a[r],playPosition:n,prevBtnPosition:i,nextBtnPosition:o,axisExtent:y,controlSize:d,controlGap:p}},PR.prototype._position=function(t,e){var n,i=this._mainGroup,o=this._labelGroup,a=t.viewRect,r=("vertical"===t.orient&&(c=Lr.Ue(),l=a.x,u=a.y+a.height,Lr.Iu(c,c,[-l,-u]),Lr.U1(c,c,-kR/2),Lr.Iu(c,c,[l,u]),(a=a.clone()).applyTransform(c)),p(a)),l=p(i.getBoundingRect()),u=p(o.getBoundingRect()),c=[i.x,i.y],h=((a=[o.x,o.y])[0]=c[0]=r[0][0],t.labelPosOpt);function d(t){t.originX=r[0][0]-t.x,t.originY=r[1][0]-t.y}function p(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function g(t,e,n,i,o){t[i]+=n[i][o]-e[i][o]}null==h||(0,s.HD)(h)?(g(c,l,r,1,n="+"===h?0:1),g(a,u,r,1,1-n)):(g(c,l,r,1,n=0<=h?0:1),a[1]=c[1]+h),i.setPosition(c),o.setPosition(a),i.rotation=o.rotation=t.rotation,d(i),d(o)},PR.prototype._createAxis=function(t,e){var n=e.getData(),i=e.get("axisType"),o=function(t,e){if(e=e||t.get("type"))switch(e){case"category":return new bg({ordinalMeta:t.getCategories(),extent:[1/0,-1/0]});case"time":return new Lg({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new Dg}}(e,i),a=(o.getTicks=function(){return n.mapArray(["value"],(function(t){return{value:t}}))},n.getDataExtent("value"));return(o.setExtent(a[0],a[1]),o.calcNiceTicks(),a=new AR("value",o,t.axisExtent,i)).model=e,a},PR.prototype._createGroup=function(t){return t=this[t]=new Dr.Z,this.group.add(t),t},PR.prototype._renderAxisLine=function(t,e,n,i){var o;n=n.getExtent(),i.get(["lineStyle","show"])&&(o=new Wr.Z({shape:{x1:n[0],y1:0,x2:n[1],y2:0},style:(0,s.l7)({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}),e.add(o),n=this._progressLine=new Wr.Z({shape:{x1:n[0],x2:this._currentPointer?this._currentPointer.x:n[0],y1:0,y2:0},style:(0,s.ce)({lineCap:"round",lineWidth:o.style.lineWidth},i.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1}),e.add(n))},PR.prototype._renderAxisTick=function(t,e,n,i){var o=this,a=i.getData(),r=n.scale.getTicks();this._tickSymbols=[],(0,s.S6)(r,(function(t){var r=n.dataToCoord(t.value),l=a.getItemModel(t.value),u=l.getModel("itemStyle"),c=l.getModel(["emphasis","itemStyle"]),h=l.getModel(["progress","itemStyle"]);r={x:r,y:0,onclick:(0,s.ak)(o._changeTimeline,o,t.value)},(u=RR(l,u,e,r)).ensureState("emphasis").style=c.getItemStyle(),u.ensureState("progress").style=h.getItemStyle(),le(u),r=yt(u),l.get("tooltip")?(r.dataIndex=t.value,r.dataModel=i):r.dataIndex=r.dataModel=null,o._tickSymbols.push(u)}))},PR.prototype._renderAxisLabel=function(t,e,n,i){var o,a=this;n.getLabelModel().get("show")&&(o=i.getData(),i=n.getViewLabels(),this._tickLabels=[],(0,s.S6)(i,(function(i){var r=i.tickValue,l=(c=o.getItemModel(r)).getModel("label"),u=c.getModel(["emphasis","label"]),c=c.getModel(["progress","label"]),h=n.dataToCoord(i.tickValue);(h=new ft.ZP({x:h,y:0,rotation:t.labelRotation-t.rotation,onclick:(0,s.ak)(a._changeTimeline,a,r),silent:!1,style:Re(l,{text:i.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})})).ensureState("emphasis").style=Re(u),h.ensureState("progress").style=Re(c),e.add(h),le(h),LR(h).dataIndex=r,a._tickLabels.push(h)})))},PR.prototype._renderControl=function(t,e,n,i){var o=t.controlSize,a=t.rotation,r=i.getModel("controlStyle").getItemStyle(),l=i.getModel(["emphasis","controlStyle"]).getItemStyle(),u=i.getPlayState(),c=i.get("inverse",!0);function h(t,n,u,c){var h;t&&(h=(0,Dl.GM)((0,s.pD)(i.get(["controlStyle",n+"BtnSize"]),o),o),(n=function(t,e,n,i){var o=i.style;return t=Ss(t.get(["controlStyle",e]),i||{},new sn.Z(n[0],n[1],n[2],n[3])),o&&t.setStyle(o),t}(i,n+"Icon",[0,-h/2,h,h],{x:t[0],y:t[1],originX:o/2,originY:0,rotation:c?-a:0,rectHover:!0,style:r,onclick:u})).ensureState("emphasis").style=l,e.add(n),le(n))}h(t.nextBtnPosition,"next",(0,s.ak)(this._changeTimeline,this,c?"-":"+")),h(t.prevBtnPosition,"prev",(0,s.ak)(this._changeTimeline,this,c?"+":"-")),h(t.playPosition,u?"stop":"play",(0,s.ak)(this._handlePlayClick,this,!u),!0)},PR.prototype._renderCurrentPointer=function(t,e,n,i){var o=i.getData(),a=i.getCurrentIndex(),r=(o=o.getItemModel(a).getModel("checkpointStyle"),this);this._currentPointer=RR(o,o,this._mainGroup,{},this._currentPointer,{onCreate:function(t){t.draggable=!0,t.drift=(0,s.ak)(r._handlePointerDrag,r),t.ondragend=(0,s.ak)(r._handlePointerDragend,r),NR(t,r._progressLine,a,n,i,!0)},onUpdate:function(t){NR(t,r._progressLine,a,n,i)}})},PR.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},PR.prototype._handlePointerDrag=function(t,e,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},PR.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},PR.prototype._pointerChangeTimeline=function(t,e){var n=((t=(t=this._toAxisCoord(t)[0])>(n=f(this._axis.getExtent().slice()))[1]?n[1]:t)<n[0]&&(t=n[0]),this._currentPointer.x=t,this._currentPointer.markRedraw(),(n=this._progressLine)&&(n.shape.x2=t,n.dirty()),this._findNearestTick(t));t=this.model,(e||n!==t.getCurrentIndex()&&t.get("realtime"))&&this._changeTimeline(n)},PR.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout((function(){var e=t.model;t._changeTimeline(e.getCurrentIndex()+(e.get("rewind",!0)?-1:1))}),this.model.get("playInterval")))},PR.prototype._toAxisCoord=function(t){return fs(t,this._mainGroup.getLocalTransform(),!0)},PR.prototype._findNearestTick=function(t){var e,n=this.model.getData(),i=1/0,o=this._axis;return n.each(["value"],(function(n,a){n=o.dataToCoord(n),(n=Math.abs(n-t))<i&&(i=n,e=a)})),e},PR.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},PR.prototype._changeTimeline=function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},PR.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),e=this._tickSymbols,n=this._tickLabels;if(e)for(var i=0;i<e.length;i++)e&&e[i]&&e[i].toggleState("progress",i<t);if(n)for(i=0;i<n.length;i++)n&&n[i]&&n[i].toggleState("progress",LR(n[i]).dataIndex<=t)},PR.type="timeline.slider";var OR=PR;function ER(t){t=t&&t.timeline,s.kJ(t)||(t=t?[t]:[]),s.S6(t,(function(t){var e,n;t&&((n={number:"value",time:"time"})[e=t.type]&&(t.axisType=n[e],delete t.type),VR(t),zR(t,"controlPosition")&&(zR(n=t.controlStyle||(t.controlStyle={}),"position")||(n.position=t.controlPosition),"none"!==n.position||zR(n,"show")||(n.show=!1,delete n.position),delete t.controlPosition),s.S6(t.data||[],(function(t){s.Kn(t)&&!s.kJ(t)&&(!zR(t,"value")&&zR(t,"name")&&(t.value=t.name),VR(t))})))}))}function VR(t){var e=(e=t.itemStyle||(t.itemStyle={})).emphasis||(e.emphasis={}),n=(t=t.label||t.label||{}).normal||(t.normal={}),i={normal:1,emphasis:1};s.S6(t,(function(t,e){i[e]||zR(n,e)||(n[e]=t)})),e.label&&!zR(t,"emphasis")&&(t.emphasis=e.label,delete e.label)}function zR(t,e){return t.hasOwnProperty(e)}function BR(t,e){if(t)for(var n=(0,s.kJ)(t)?t:[t],i=0;i<n.length;i++)if(n[i]&&n[i][e])return 1}function GR(t){O(t,"label",["show"])}var ZR,WR=U();function FR(){var t=null!==ZR&&ZR.apply(this,arguments)||this;return t.type=FR.type,t.createdBySelf=!1,t}a(FR,ZR=yi),FR.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),this._mergeOption(t,n,!1,!0)},FR.prototype.isAnimationEnabled=function(){var t;return!l.Z.node&&(t=this.__hostSeries,this.getShallow("animation"))&&t&&t.isAnimationEnabled()},FR.prototype.mergeOption=function(t,e){this._mergeOption(t,e,!1,!1)},FR.prototype._mergeOption=function(t,e,n,i){var o=this.mainType;n||e.eachSeries((function(t){var n=t.get(this.mainType,!0),a=WR(t)[o];n&&n.data?(a?a._mergeOption(n,e,!0):(i&&GR(n),s.S6(n.data,(function(t){t instanceof Array?(GR(t[0]),GR(t[1])):GR(t)})),a=this.createMarkerModelFromSeries(n,this,e),s.l7(a,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),a.__hostSeries=t),WR(t)[o]=a):WR(t)[o]=null}),this)},FR.prototype.formatTooltip=function(t,e,n){var i=this.getData(),o=this.getRawValue(t);return i=i.getName(t),Qa("section",{header:this.name,blocks:[Qa("nameValue",{name:i,value:o,noName:!i,noValue:null==o})]})},FR.prototype.getData=function(){return this._data},FR.prototype.setData=function(t){this._data=t},FR.prototype.getDataParams=function(t,e){return t=Qo.prototype.getDataParams.call(this,t,e),(e=this.__hostSeries)&&(t.seriesId=e.id,t.seriesName=e.name,t.seriesType=e.subType),t},FR.getMarkerModelFromSeries=function(t,e){return WR(t)[e]},FR.type="marker",FR.dependencies=["series","grid","polar","geo"],kl=FR,s.jB(kl,Qo.prototype);var HR,UR=kl;function XR(){var t=null!==HR&&HR.apply(this,arguments)||this;return t.type=XR.type,t}a(XR,HR=UR),XR.prototype.createMarkerModelFromSeries=function(t,e,n){return new XR(t,e,n)},XR.type="markPoint",XR.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}};var YR=XR;function JR(t){return!isNaN(parseFloat(t.x))||!isNaN(parseFloat(t.y))}function jR(t,e,n,i,o,a){var r=[],s=Sh(e,i)?e.getCalculationInfo("stackResultDimension"):i;return t=eN(e,s,t),t=e.indicesOfNearest(s,t)[0],r[o]=e.get(n,t),r[a]=e.get(s,t),o=e.get(i,t),n=y(e.get(i,t)),0<=(n=Math.min(n,20))&&(r[a]=+r[a].toFixed(n)),[r,o]}var KR={min:(0,s.WA)(jR,"min"),max:(0,s.WA)(jR,"max"),average:(0,s.WA)(jR,"average"),median:(0,s.WA)(jR,"median")};function qR(t,e){if(e){var n,i=t.getData(),o=t.coordinateSystem,a=o&&o.dimensions;if(n=e,(isNaN(parseFloat(n.x))||isNaN(parseFloat(n.y)))&&!(0,s.kJ)(e.coord)&&(0,s.kJ)(a)&&(n=$R(e,i,o,t),(e=(0,s.d9)(e)).type&&KR[e.type]&&n.baseAxis&&n.valueAxis?(o=(0,s.cq)(a,n.baseAxis.dim),t=(0,s.cq)(a,n.valueAxis.dim),n=KR[e.type](i,n.baseDataDim,n.valueDataDim,o,t),e.coord=n[0],e.value=n[1]):e.coord=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis]),null!=e.coord&&(0,s.kJ)(a))for(var r=e.coord,l=0;l<2;l++)KR[r[l]]&&(r[l]=eN(i,i.mapDimension(a[l]),r[l]));else e.coord=[];return e}}function $R(t,e,n,i){var o={};return null!=t.valueIndex||null!=t.valueDim?(o.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,o.valueAxis=n.getAxis(function(t,e){return(t=t.getData().getDimensionInfo(e))&&t.coordDim}(i,o.valueDataDim)),o.baseAxis=n.getOtherAxis(o.valueAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim)):(o.baseAxis=i.getBaseAxis(),o.valueAxis=n.getOtherAxis(o.baseAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim),o.valueDataDim=e.mapDimension(o.valueAxis.dim)),o}function QR(t,e){return!(t&&t.containData&&e.coord&&!JR(e))||t.containData(e.coord)}function tN(t,e){return t?function(t,n,i,o){return fa(o<2?t.coord&&t.coord[o]:t.value,e[o])}:function(t,n,i,o){return fa(t.value,e[o])}}function eN(t,e,n){var i,o;return"average"===n?(o=i=0,t.each(e,(function(t,e){isNaN(t)||(i+=t,o++)})),i/o):"median"===n?t.getMedian(e):t.getDataExtent(e)["max"===n?1:0]}var nN,iN,oN=U();function aN(){var t=null!==nN&&nN.apply(this,arguments)||this;return t.type=aN.type,t}function rN(t,e,n){var i=e.coordinateSystem;t.each((function(o){var a,r,s,l=p((u=t.getItemModel(o)).get("x"),n.getWidth()),u=p(u.get("y"),n.getHeight());isNaN(l)||isNaN(u)?e.getMarkerPosition?s=e.getMarkerPosition(t.getValues(t.dimensions,o)):i&&(a=t.get(i.dimensions[0],o),r=t.get(i.dimensions[1],o),s=i.dataToPoint([a,r])):s=[l,u],isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u),t.setItemLayout(o,s)}))}function sN(){var t=null!==iN&&iN.apply(this,arguments)||this;return t.type=sN.type,t}a(aN,nN=Cr),aN.prototype.init=function(){this.markerGroupMap=(0,s.kW)()},aN.prototype.render=function(t,e,n){var i=this,o=this.markerGroupMap;o.each((function(t){oN(t).keep=!1})),e.eachSeries((function(t){var o=UR.getMarkerModelFromSeries(t,i.type);o&&i.renderSeries(t,o,e,n)})),o.each((function(t){oN(t).keep||i.group.remove(t.group)}))},aN.prototype.markKeep=function(t){oN(t).keep=!0},aN.prototype.toggleBlurSeries=function(t,e){var n=this;(0,s.S6)(t,(function(t){(t=UR.getMarkerModelFromSeries(t,n.type))&&t.getData().eachItemGraphicEl((function(t){t&&(e?$t:Qt)(t)}))}))},aN.type="marker",a(sN,iN=je=aN),sN.prototype.updateTransform=function(t,e,n){e.eachSeries((function(t){var e=UR.getMarkerModelFromSeries(t,"markPoint");e&&(rN(e.getData(),t,n),this.markerGroupMap.get(t.id).updateLayout())}),this)},sN.prototype.renderSeries=function(t,e,n,i){var o=t.coordinateSystem,a=t.id,r=t.getData(),l=(l=this.markerGroupMap).get(a)||l.set(a,new Vh),u=function(t,e,n){var i;i=t?(0,s.UI)(t&&t.dimensions,(function(t){var n=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return(0,s.l7)((0,s.l7)({},n),{name:t,ordinalMeta:null})})):[{name:"value",type:"float"}];var o=new yh(i,n);return n=(0,s.UI)(n.get("data"),(0,s.WA)(qR,e)),t&&(n=(0,s.hX)(n,(0,s.WA)(QR,t))),t=tN(!!t,i),o.initData(n,null,t),o}(o,t,e);e.setData(u),rN(e.getData(),t,i),u.each((function(t){var n=u.getItemModel(t),i=n.getShallow("symbol"),o=n.getShallow("symbolSize"),a=n.getShallow("symbolRotate"),l=n.getShallow("symbolOffset"),c=n.getShallow("symbolKeepAspect"),h=(((0,s.mf)(i)||(0,s.mf)(o)||(0,s.mf)(a)||(0,s.mf)(l))&&(h=e.getRawValue(t),d=e.getDataParams(t),(0,s.mf)(i)&&(i=i(h,d)),(0,s.mf)(o)&&(o=o(h,d)),(0,s.mf)(a)&&(a=a(h,d)),(0,s.mf)(l))&&(l=l(h,d)),n.getModel("itemStyle").getItemStyle()),d=_l(r,"color");h.fill||(h.fill=d),u.setItemVisual(t,{symbol:i,symbolSize:o,symbolRotate:a,symbolOffset:l,symbolKeepAspect:c,style:h})})),l.updateData(u),this.group.add(l.group),u.eachItemGraphicEl((function(t){t.traverse((function(t){yt(t).dataModel=e}))})),this.markKeep(l),l.group.silent=e.get("silent")||t.get("silent")},sN.type="markPoint";var lN,uN=sN;function cN(){var t=null!==lN&&lN.apply(this,arguments)||this;return t.type=cN.type,t}function hN(t,e,n,i){var o,a,r,l,u=t.getData();return(e=[qR(t,(n=(0,s.kJ)(i)?i:"min"===(o=i.type)||"max"===o||"average"===o||"median"===o||null!=i.xAxis||null!=i.yAxis?(a=l=void 0,a=null!=i.yAxis||null!=i.xAxis?(l=e.getAxis(null!=i.yAxis?"y":"x"),(0,s.Jv)(i.yAxis,i.xAxis)):(l=(e=$R(i,u,e,t)).valueAxis,eN(u,bh(u,e.valueDataDim),o)),e=1-(u="x"===l.dim?0:1),l={coord:[]},(r=(0,s.d9)(i)).type=null,r.coord=[],r.coord[e]=-1/0,l.coord[e]=1/0,0<=(e=n.get("precision"))&&(0,s.hj)(a)&&(a=+a.toFixed(Math.min(e,20))),r.coord[u]=l.coord[u]=a,[r,l,{type:o,valueIndex:i.valueIndex,value:a}]):[])[0]),qR(t,n[1]),(0,s.l7)({},n[2])])[2].type=e[2].type||null,(0,s.TS)(e[2],e[0]),(0,s.TS)(e[2],e[1]),e}a(cN,lN=UR),cN.prototype.createMarkerModelFromSeries=function(t,e,n){return new cN(t,e,n)},cN.type="markLine",cN.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"};var dN,pN=cN,gN=U();function fN(t){return!isNaN(t)&&!isFinite(t)}function yN(t,e,n,i){var o=1-t,a=i.dimensions[t];return fN(e[o])&&fN(n[o])&&e[t]===n[t]&&i.getAxis(a).containData(e[t])}function mN(t,e){if("cartesian2d"===t.type){var n=e[0].coord,i=e[1].coord;if(n&&i&&(yN(1,n,i,t)||yN(0,n,i,t)))return!0}return QR(t,e[0])&&QR(t,e[1])}function vN(t,e,n,i,o){var a,r,s=i.coordinateSystem,l=p((u=t.getItemModel(e)).get("x"),o.getWidth()),u=p(u.get("y"),o.getHeight());isNaN(l)||isNaN(u)?(a=i.getMarkerPosition?i.getMarkerPosition(t.getValues(t.dimensions,e)):(r=s.dimensions,o=t.get(r[0],e),i=t.get(r[1],e),s.dataToPoint([o,i])),sd(s,"cartesian2d")&&(o=s.getAxis("x"),i=s.getAxis("y"),r=s.dimensions,fN(t.get(r[0],e))?a[0]=o.toGlobalCoord(o.getExtent()[n?0:1]):fN(t.get(r[1],e))&&(a[1]=i.toGlobalCoord(i.getExtent()[n?0:1]))),isNaN(l)||(a[0]=l),isNaN(u)||(a[1]=u)):a=[l,u],t.setItemLayout(e,a)}function xN(){var t=null!==dN&&dN.apply(this,arguments)||this;return t.type=xN.type,t}a(xN,dN=je),xN.prototype.updateTransform=function(t,e,n){e.eachSeries((function(t){var e,i,o,a=UR.getMarkerModelFromSeries(t,"markLine");a&&(e=a.getData(),i=gN(a).from,o=gN(a).to,i.each((function(e){vN(i,e,!0,t,n),vN(o,e,!1,t,n)})),e.each((function(t){e.setItemLayout(t,[i.getItemLayout(t),o.getItemLayout(t)])})),this.markerGroupMap.get(t.id).updateLayout())}),this)},xN.prototype.renderSeries=function(t,e,n,i){var o=t.coordinateSystem,a=t.id,r=t.getData(),l=(l=this.markerGroupMap).get(a)||l.set(a,new lS),u=(this.group.add(l.group),a=function(t,e,n){var i;i=t?(0,s.UI)(t&&t.dimensions,(function(t){var n=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return(0,s.l7)((0,s.l7)({},n),{name:t,ordinalMeta:null})})):[{name:"value",type:"float"}];var o=new yh(i,n),a=new yh(i,n),r=new yh([],n);return n=(0,s.UI)(n.get("data"),(0,s.WA)(hN,e,t,n)),t&&(n=(0,s.hX)(n,(0,s.WA)(mN,t))),t=tN(!!t,i),o.initData((0,s.UI)(n,(function(t){return t[0]})),null,t),a.initData((0,s.UI)(n,(function(t){return t[1]})),null,t),r.initData((0,s.UI)(n,(function(t){return t[2]}))),r.hasItemOption=!0,{from:o,to:a,line:r}}(o,t,e),a.from),c=a.to,h=a.line,d=(gN(e).from=u,gN(e).to=c,e.setData(h),e.get("symbol")),p=e.get("symbolSize"),g=e.get("symbolRotate"),f=e.get("symbolOffset");function y(e,n,o){var a=e.getItemModel(n),l=(vN(e,n,o,t,i),a.getModel("itemStyle").getItemStyle());null==l.fill&&(l.fill=_l(r,"color")),e.setItemVisual(n,{symbolKeepAspect:a.get("symbolKeepAspect"),symbolOffset:(0,s.pD)(a.get("symbolOffset",!0),f[o?0:1]),symbolRotate:(0,s.pD)(a.get("symbolRotate",!0),g[o?0:1]),symbolSize:(0,s.pD)(a.get("symbolSize"),p[o?0:1]),symbol:(0,s.pD)(a.get("symbol",!0),d[o?0:1]),style:l})}(0,s.kJ)(d)||(d=[d,d]),(0,s.kJ)(p)||(p=[p,p]),(0,s.kJ)(g)||(g=[g,g]),(0,s.kJ)(f)||(f=[f,f]),a.from.each((function(t){y(u,t,!0),y(c,t,!1)})),h.each((function(t){var e=h.getItemModel(t).getModel("lineStyle").getLineStyle();h.setItemLayout(t,[u.getItemLayout(t),c.getItemLayout(t)]),null==e.stroke&&(e.stroke=u.getItemVisual(t,"style").fill),h.setItemVisual(t,{fromSymbolKeepAspect:u.getItemVisual(t,"symbolKeepAspect"),fromSymbolOffset:u.getItemVisual(t,"symbolOffset"),fromSymbolRotate:u.getItemVisual(t,"symbolRotate"),fromSymbolSize:u.getItemVisual(t,"symbolSize"),fromSymbol:u.getItemVisual(t,"symbol"),toSymbolKeepAspect:c.getItemVisual(t,"symbolKeepAspect"),toSymbolOffset:c.getItemVisual(t,"symbolOffset"),toSymbolRotate:c.getItemVisual(t,"symbolRotate"),toSymbolSize:c.getItemVisual(t,"symbolSize"),toSymbol:c.getItemVisual(t,"symbol"),style:e})})),l.updateData(h),a.line.eachItemGraphicEl((function(t){yt(t).dataModel=e,t.traverse((function(t){yt(t).dataModel=e}))})),this.markKeep(l),l.group.silent=e.get("silent")||t.get("silent")},xN.type="markLine";var _N,SN=xN;function bN(){var t=null!==_N&&_N.apply(this,arguments)||this;return t.type=bN.type,t}function wN(t,e,n,i){var o,a=i[0];if(i=i[1],a&&i)return a=qR(t,a),t=qR(t,i),i=a.coord,o=t.coord,i[0]=(0,s.Jv)(i[0],-1/0),i[1]=(0,s.Jv)(i[1],-1/0),o[0]=(0,s.Jv)(o[0],1/0),o[1]=(0,s.Jv)(o[1],1/0),(i=(0,s.Jn)([{},a,t])).coord=[a.coord,t.coord],i.x0=a.x,i.y0=a.y,i.x1=t.x,i.y1=t.y,i}a(bN,_N=UR),bN.prototype.createMarkerModelFromSeries=function(t,e,n){return new bN(t,e,n)},bN.type="markArea",bN.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}};var MN=bN,IN=U();function DN(t){return!isNaN(t)&&!isFinite(t)}function TN(t,e,n){return DN(e[t=1-t])&&DN(n[t])}function CN(t,e){var n,i,o,a=e.coord[0],r=e.coord[1],s={coord:a,x:e.x0,y:e.y0};return e={coord:r,x:e.x1,y:e.y1},sd(t,"cartesian2d")?!((!a||!r||!TN(1,a,r)&&!TN(0,a,r))&&(i=s,o=e,n=t)&&n.containZone&&i.coord&&o.coord&&!JR(i)&&!JR(o))||n.containZone(i.coord,o.coord):QR(t,s)||QR(t,e)}function AN(t,e,n,i,o){var a,r,s,l,u,c,h=i.coordinateSystem,d=p((g=t.getItemModel(e)).get(n[0]),o.getWidth()),g=p(g.get(n[1]),o.getHeight());return isNaN(d)||isNaN(g)?(c=i.getMarkerPosition?(o=t.getValues(["x0","y0"],e),s=t.getValues(["x1","y1"],e),r=h.clampData(o),c=h.clampData(s),a=[],"x0"===n[0]?a[0]=(r[0]>c[0]?s:o)[0]:a[0]=(r[0]>c[0]?o:s)[0],"y0"===n[1]?a[1]=(r[1]>c[1]?s:o)[1]:a[1]=(r[1]>c[1]?o:s)[1],i.getMarkerPosition(a,n,!0)):(r=[l=t.get(n[0],e),u=t.get(n[1],e)],h.clampData&&h.clampData(r,r),h.dataToPoint(r,!0)),sd(h,"cartesian2d")&&(o=h.getAxis("x"),s=h.getAxis("y"),l=t.get(n[0],e),u=t.get(n[1],e),DN(l)?c[0]=o.toGlobalCoord(o.getExtent()["x0"===n[0]?0:1]):DN(u)&&(c[1]=s.toGlobalCoord(s.getExtent()["y0"===n[1]?0:1]))),isNaN(d)||(c[0]=d),isNaN(g)||(c[1]=g)):c=[d,g],c}var kN,LN=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];function PN(){var t=null!==kN&&kN.apply(this,arguments)||this;return t.type=PN.type,t}a(PN,kN=je),PN.prototype.updateTransform=function(t,e,n){e.eachSeries((function(t){var e,i=UR.getMarkerModelFromSeries(t,"markArea");i&&(e=i.getData()).each((function(i){var o=(0,s.UI)(LN,(function(o){return AN(e,i,o,t,n)}));e.setItemLayout(i,o),e.getItemGraphicEl(i).setShape("points",o)}))}),this)},PN.prototype.renderSeries=function(t,e,n,i){var o=t.coordinateSystem,a=t.id,r=t.getData(),l=this.markerGroupMap,u=l.get(a)||l.set(a,{group:new Dr.Z}),c=(this.group.add(u.group),this.markKeep(u),function(t,e,n){var i,o,a;return i=t?(a=(0,s.UI)(t&&t.dimensions,(function(t){var n=(n=e.getData()).getDimensionInfo(n.mapDimension(t))||{};return(0,s.l7)((0,s.l7)({},n),{name:t,ordinalMeta:null})})),o=(0,s.UI)(["x0","y0","x1","y1"],(function(t,e){return{name:t,type:a[e%2].type}})),new yh(o,n)):new yh(o=[{name:"value",type:"float"}],n),n=(0,s.UI)(n.get("data"),(0,s.WA)(wN,e,t,n)),t&&(n=(0,s.hX)(n,(0,s.WA)(CN,t))),t=t?function(t,e,n,i){return fa(t.coord[Math.floor(i/2)][i%2],o[i])}:function(t,e,n,i){return fa(t.value,o[i])},i.initData(n,null,t),i.hasItemOption=!0,i}(o,t,e));e.setData(c),c.each((function(e){var n=(0,s.UI)(LN,(function(n){return AN(c,e,n,t,i)})),a=o.getAxis("x").scale,l=o.getAxis("y").scale,u=a.getExtent(),h=l.getExtent();a=[a.parse(c.get("x0",e)),a.parse(c.get("x1",e))],l=[l.parse(c.get("y0",e)),l.parse(c.get("y1",e))],f(a),f(l),u=!(u[0]>a[1]||u[1]<a[0]||h[0]>l[1]||h[1]<l[0]),c.setItemLayout(e,{points:n,allClipped:!u}),a=c.getItemModel(e).getModel("itemStyle").getItemStyle(),h=_l(r,"color"),a.fill||(a.fill=h,(0,s.HD)(a.fill)&&(a.fill=mt.m8(a.fill,.4))),a.stroke||(a.stroke=h),c.setItemVisual(e,"style",a)})),c.diff(IN(u).data).add((function(t){var e=c.getItemLayout(t);e.allClipped||(e=new Br.Z({shape:{points:e.points}}),c.setItemGraphicEl(t,e),u.group.add(e))})).update((function(t,n){n=IN(u).data.getItemGraphicEl(n);var i=c.getItemLayout(t);i.allClipped?n&&u.group.remove(n):(n?Se(n,{shape:{points:i.points}},e,t):n=new Br.Z({shape:{points:i.points}}),c.setItemGraphicEl(t,n),u.group.add(n))})).remove((function(t){t=IN(u).data.getItemGraphicEl(t),u.group.remove(t)})).execute(),c.eachItemGraphicEl((function(t,n){var i=c.getItemModel(n),o=c.getItemVisual(n,"style");t.useStyle(c.getItemVisual(n,"style")),Le(t,Pe(i),{labelFetcher:e,labelDataIndex:n,defaultText:c.getName(n)||"",inheritColor:(0,s.HD)(o.fill)?mt.m8(o.fill,1):"#000"}),pe(t,i),ue(t,null,null,i.get(["emphasis","disabled"])),yt(t).dataModel=e})),IN(u).data=c,u.group.silent=e.get("silent")||t.get("silent")},PN.type="markArea";var RN,NN=PN;function ON(){var t=null!==RN&&RN.apply(this,arguments)||this;return t.type=ON.type,t.layoutMode={type:"box",ignoreSize:!0},t}a(ON,RN=yi),ON.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{},this._updateSelector(t)},ON.prototype.mergeOption=function(t,e){RN.prototype.mergeOption.call(this,t,e),this._updateSelector(t)},ON.prototype._updateSelector=function(t){var e=t.selector,n=this.ecModel;!0===e&&(e=t.selector=["all","inverse"]),s.kJ(e)&&s.S6(e,(function(t,i){s.HD(t)&&(t={type:t}),e[i]=s.TS(t,(i=n,"all"===(t=t.type)?{type:"all",title:i.getLocaleModel().get(["legend","selector","all"])}:"inverse"===t?{type:"inverse",title:i.getLocaleModel().get(["legend","selector","inverse"])}:void 0))}))},ON.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,n=0;n<t.length;n++){var i=t[n].get("name");if(this.isSelected(i)){this.select(i),e=!0;break}}e||this.select(t[0].get("name"))}},ON.prototype._updateData=function(t){var e=[],n=[],i=(t.eachRawSeries((function(i){var o,a=i.name;n.push(a),i.legendVisualProvider&&(a=i.legendVisualProvider.getAllNames(),t.isSeriesFiltered(i)||(n=n.concat(a)),a.length)?e=e.concat(a):o=!0,o&&W(i)&&e.push(i.name)})),this._availableNames=n,this.get("data")||e),o=s.kW();i=s.UI(i,(function(t){return(s.HD(t)||s.hj(t))&&(t={name:t}),o.get(t.name)?null:(o.set(t.name,!0),new nn(t,this,this.ecModel))}),this),this._data=s.hX(i,(function(t){return!!t}))},ON.prototype.getData=function(){return this._data},ON.prototype.select=function(t){var e,n=this.option.selected;"single"===this.get("selectedMode")&&(e=this._data,s.S6(e,(function(t){n[t.get("name")]=!1}))),n[t]=!0},ON.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},ON.prototype.toggleSelected=function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},ON.prototype.allSelect=function(){var t=this._data,e=this.option.selected;s.S6(t,(function(t){e[t.get("name",!0)]=!0}))},ON.prototype.inverseSelect=function(){var t=this._data,e=this.option.selected;s.S6(t,(function(t){t=t.get("name",!0),e.hasOwnProperty(t)||(e[t]=!0),e[t]=!e[t]}))},ON.prototype.isSelected=function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&0<=s.cq(this._availableNames,t)},ON.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},ON.type="legend.plain",ON.dependencies=["series"],ON.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}};var EN,VN=ON,zN=s.WA,BN=s.S6,GN=Dr.Z;function ZN(){var t=null!==EN&&EN.apply(this,arguments)||this;return t.type=ZN.type,t.newlineDisabled=!1,t}function WN(t,e,n,i){UN(t,e,n,i),n.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),HN(t,e,n,i)}function FN(t){for(var e,n=t.getZr().storage.getDisplayList(),i=0,o=n.length;i<o&&!(e=n[i].states.emphasis);)i++;return e&&e.hoverLayer}function HN(t,e,n,i){FN(n)||n.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:i})}function UN(t,e,n,i){FN(n)||n.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:i})}a(ZN,EN=Cr),ZN.prototype.init=function(){this.group.add(this._contentGroup=new GN),this.group.add(this._selectorGroup=new GN),this._isFirstRender=!0},ZN.prototype.getContentGroup=function(){return this._contentGroup},ZN.prototype.getSelectorGroup=function(){return this._selectorGroup},ZN.prototype.render=function(t,e,n){var i,o,a,r,l,u=this._isFirstRender;this._isFirstRender=!1,this.resetInner(),t.get("show",!0)&&(r=t.get("align"),a=t.get("orient"),r&&"auto"!==r||(r="right"===t.get("left")&&"vertical"===a?"right":"left"),i=t.get("selector",!0),o=t.get("selectorPosition",!0),this.renderInner(r,t,e,n,i,a,o=!i||o&&"auto"!==o?o:"horizontal"===a?"end":"start"),l=ni(e=t.getBoxLayoutParams(),a={width:n.getWidth(),height:n.getHeight()},n=t.get("padding")),r=this.layoutInner(t,r,l,u,i,o),l=ni(s.ce({width:r.width,height:r.height},e),a,n),this.group.x=l.x-r.x,this.group.y=l.y-r.y,this.group.markRedraw(),this.group.add(this._backgroundEl=bL(r,t)))},ZN.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},ZN.prototype.renderInner=function(t,e,n,i,o,a,r){var l=this.getContentGroup(),u=s.kW(),c=e.get("selectedMode"),h=[];n.eachRawSeries((function(t){t.get("legendHoverLink")||h.push(t.id)})),BN(e.getData(),(function(o,a){var r,d,p,g,f=o.get("name");this.newlineDisabled||""!==f&&"\n"!==f?(r=n.getSeriesByName(f)[0],u.get(f)||(r?(g=(p=r.getData()).getVisual("legendLineStyle")||{},d=p.getVisual("legendIcon"),p=p.getVisual("style"),(g=this._createItem(r,f,a,o,e,t,g,p,d,c,i)).on("click",zN(WN,f,null,i,h)).on("mouseover",zN(HN,r.name,null,i,h)).on("mouseout",zN(UN,r.name,null,i,h)),n.ssr&&g.eachChild((function(t){(t=yt(t)).seriesIndex=r.seriesIndex,t.dataIndex=a,t.ssrType="legend"})),u.set(f,!0)):n.eachRawSeries((function(r){var l,d,p;u.get(f)||r.legendVisualProvider&&(d=r.legendVisualProvider).containName(f)&&(p=d.indexOfName(f),l=d.getItemVisual(p,"style"),d=d.getItemVisual(p,"legendIcon"),(p=(0,mt.Qc)(l.fill))&&0===p[3]&&(p[3]=.2,l=s.l7(s.l7({},l),{fill:(0,mt.Pz)(p,"rgba")})),(p=this._createItem(r,f,a,o,e,t,{},l,d,c,i)).on("click",zN(WN,null,f,i,h)).on("mouseover",zN(HN,null,f,i,h)).on("mouseout",zN(UN,null,f,i,h)),n.ssr&&p.eachChild((function(t){(t=yt(t)).seriesIndex=r.seriesIndex,t.dataIndex=a,t.ssrType="legend"})),u.set(f,!0))}),this))):((p=new GN).newline=!0,l.add(p))}),this),o&&this._createSelector(o,e,i,a,r)},ZN.prototype._createSelector=function(t,e,n,i,o){var a=this.getSelectorGroup();BN(t,(function(t){var i=t.type,o=new ft.ZP({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===i?"legendAllSelect":"legendInverseSelect",legendId:e.id})}});a.add(o),Le(o,{normal:e.getModel("selectorLabel"),emphasis:e.getModel(["emphasis","selectorLabel"])},{defaultText:t.title}),le(o)}))},ZN.prototype._createItem=function(t,e,n,i,o,a,r,l,u,c,h){var d=t.visualDrawType,p=o.get("itemWidth"),g=o.get("itemHeight"),f=o.isSelected(e),y=i.get("symbolRotate"),m=i.get("symbolKeepAspect"),v=(r=function(t,e,n,i,o,a,r){function s(t,e){"auto"===t.lineWidth&&(t.lineWidth=0<e.lineWidth?2:0),BN(t,(function(n,i){"inherit"===t[i]&&(t[i]=e[i])}))}var l=(u=e.getModel("itemStyle")).getItemStyle(),u=(t=0===t.lastIndexOf("empty",0)?"fill":"stroke",u.getShallow("decal"));return l.decal=u&&"inherit"!==u?Fl(u,r):i.decal,"inherit"===l.fill&&(l.fill=i[o]),"inherit"===l.stroke&&(l.stroke=i[t]),"inherit"===l.opacity&&(l.opacity=("fill"===o?i:n).opacity),s(l,i),s(r=(u=e.getModel("lineStyle")).getLineStyle(),n),"auto"===l.fill&&(l.fill=i.fill),"auto"===l.stroke&&(l.stroke=i.fill),"auto"===r.stroke&&(r.stroke=i.fill),a||(o=e.get("inactiveBorderWidth"),n=l[t],l.lineWidth="auto"===o?0<i.lineWidth&&n?2:0:l.lineWidth,l.fill=e.get("inactiveColor"),l.stroke=e.get("inactiveBorderColor"),r.stroke=u.get("inactiveColor"),r.lineWidth=u.get("inactiveWidth")),{itemStyle:l,lineStyle:r}}(u=(v=i.get("icon"))||u||"roundRect",i,r,l,d,f,h),l=new GN,d=i.getModel("textStyle"),!s.mf(t.getLegendIcon)||v&&"inherit"!==v?(h="inherit"===v&&t.getData().getVisual("symbol")?"inherit"===y?t.getData().getVisual("symbolRotate"):y:0,l.add(function(t){var e=t.icon||"roundRect",n=Ol(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);return n.setStyle(t.itemStyle),n.rotation=(t.iconRotate||0)*Math.PI/180,n.setOrigin([t.itemWidth/2,t.itemHeight/2]),-1<e.indexOf("empty")&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n}({itemWidth:p,itemHeight:g,icon:u,iconRotate:h,itemStyle:r.itemStyle,lineStyle:r.lineStyle,symbolKeepAspect:m}))):l.add(t.getLegendIcon({itemWidth:p,itemHeight:g,icon:u,iconRotate:y,itemStyle:r.itemStyle,lineStyle:r.lineStyle,symbolKeepAspect:m})),"left"===a?p+5:-5);return h=a,t=o.get("formatter"),u=e,s.HD(t)&&t?u=t.replace("{name}",null!=e?e:""):s.mf(t)&&(u=t(e)),y=f?d.getTextColor():i.get("inactiveColor"),l.add(new ft.ZP({style:Re(d,{text:u,x:v,y:g/2,fill:y,align:h,verticalAlign:"middle"},{inheritColor:y})})),r=new Zr.Z({shape:l.getBoundingRect(),style:{fill:"transparent"}}),(m=i.getModel("tooltip")).get("show")&&Ms({el:r,componentModel:o,itemName:e,itemTooltipOption:m.option}),l.add(r),l.eachChild((function(t){t.silent=!0})),r.silent=!c,this.getContentGroup().add(l),le(l),l.__legendDataIndex=n,l},ZN.prototype.layoutInner=function(t,e,n,i,o,a){var r,s,l,u,c,h=this.getContentGroup(),d=this.getSelectorGroup(),p=[-(ei(t.get("orient"),h,t.get("itemGap"),n.width,n.height),n=h.getBoundingRect()).x,-n.y];return d.markRedraw(),h.markRedraw(),o?(ei("horizontal",d,t.get("selectorItemGap",!0)),r=[-(o=d.getBoundingRect()).x,-o.y],s=t.get("selectorButtonGap",!0),l=0===(t=t.getOrient().index)?"width":"height",u=0===t?"height":"width",c=0===t?"y":"x","end"===a?r[t]+=n[l]+s:p[t]+=o[l]+s,r[1-t]+=n[u]/2-o[u]/2,d.x=r[0],d.y=r[1],h.x=p[0],h.y=p[1],(a={x:0,y:0})[l]=n[l]+s+o[l],a[u]=Math.max(n[u],o[u]),a[c]=Math.min(0,o[c]+r[1-t]),a):(h.x=p[0],h.y=p[1],this.group.getBoundingRect())},ZN.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},ZN.type="legend.plain";var XN,YN=ZN;function JN(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries((function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0}))}function jN(t,e,n){var i="allSelect"===t||"inverseSelect"===t,o={},a=[],r=(n.eachComponent({mainType:"legend",query:e},(function(n){i?n[t]():n[t](e.name),KN(n,o),a.push(n.componentIndex)})),{});return n.eachComponent("legend",(function(t){(0,s.S6)(o,(function(e,n){t[e?"select":"unSelect"](n)})),KN(t,r)})),i?{selected:r,legendIndex:a}:{name:e.name,selected:r}}function KN(t,e){var n=e||{};(0,s.S6)(t.getData(),(function(e){var i;"\n"!==(e=e.get("name"))&&""!==e&&(i=t.isSelected(e),(0,s.RI)(n,e)?n[e]=n[e]&&i:n[e]=i)}))}function qN(t){t.registerComponentModel(VN),t.registerComponentView(YN),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,JN),t.registerSubTypeDefaulter("legend",(function(){return"plain"})),t.registerAction("legendToggleSelect","legendselectchanged",(0,s.WA)(jN,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",(0,s.WA)(jN,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",(0,s.WA)(jN,"inverseSelect")),t.registerAction("legendSelect","legendselected",(0,s.WA)(jN,"select")),t.registerAction("legendUnSelect","legendunselected",(0,s.WA)(jN,"unSelect"))}function $N(){var t=null!==XN&&XN.apply(this,arguments)||this;return t.type=$N.type,t}function QN(t,e,n){var i=[1,1];i[t.getOrient().index]=0,ai(e,n,{type:"box",ignoreSize:!!i})}a($N,XN=VN),$N.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},$N.prototype.init=function(t,e,n){var i=ri(t);XN.prototype.init.call(this,t,e,n),QN(this,t,i)},$N.prototype.mergeOption=function(t,e){XN.prototype.mergeOption.call(this,t,e),QN(this,this.option,t)},$N.type="legend.scroll",$N.defaultOption=rn(VN.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800});var tO,eO=$N,nO=Dr.Z,iO=["width","height"],oO=["x","y"];function aO(){var t=null!==tO&&tO.apply(this,arguments)||this;return t.type=aO.type,t.newlineDisabled=!0,t._currentIndex=0,t}a(aO,tO=YN),aO.prototype.init=function(){tO.prototype.init.call(this),this.group.add(this._containerGroup=new nO),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new nO)},aO.prototype.resetInner=function(){tO.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},aO.prototype.renderInner=function(t,e,n,i,o,a,r){var l=this,u=(tO.prototype.renderInner.call(this,t,e,n,i,o,a,r),this._controllerGroup),c=(t=e.get("pageIconSize",!0),s.kJ(t)?t:[t,t]);function h(t,n){var o=t+"DataIndex";(n=Ss(e.get("pageIcons",!0)[e.getOrient().name][n],{onclick:s.ak(l._pageGo,l,o,e,i)},{x:-c[0]/2,y:-c[1]/2,width:c[0],height:c[1]})).name=t,u.add(n)}h("pagePrev",0),n=e.getModel("pageTextStyle"),u.add(new ft.ZP({name:"pageText",style:{text:"xx/xx",fill:n.getTextColor(),font:n.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),h("pageNext",1)},aO.prototype.layoutInner=function(t,e,n,i,o,a){var r=this.getSelectorGroup(),l=t.getOrient().index,u=iO[l],c=oO[l],h=iO[1-l],d=oO[1-l],p=(o&&ei("horizontal",r,t.get("selectorItemGap",!0)),t.get("selectorButtonGap",!0)),g=r.getBoundingRect(),f=[-g.x,-g.y],y=s.d9(n);return o&&(y[u]=n[u]-g[u]-p),n=this._layoutContentAndController(t,i,y,l,u,h,d,c),o&&("end"===a?f[l]+=n[u]+p:(t=g[u]+p,f[l]-=t,n[c]-=t),n[u]+=g[u]+p,f[1-l]+=n[d]+n[h]/2-g[h]/2,n[h]=Math.max(n[h],g[h]),n[d]=Math.min(n[d],g[d]+f[1-l]),r.x=f[0],r.y=f[1],r.markRedraw()),n},aO.prototype._layoutContentAndController=function(t,e,n,i,o,a,r,l){var u=this.getContentGroup(),c=this._containerGroup,h=this._controllerGroup,d=(ei(t.get("orient"),u,t.get("itemGap"),i?n.width:null,i?null:n.height),ei("horizontal",h,t.get("pageButtonItemGap",!0)),u.getBoundingRect()),p=h.getBoundingRect(),g=this._showController=d[o]>n[o],f=[-d.x,-d.y],y=(e||(f[i]=u[l]),e=[0,0],l=[-p.x,-p.y],s.pD(t.get("pageButtonGap",!0),t.get("itemGap",!0)));return null!=((g&&("end"===t.get("pageButtonPosition",!0)?l[i]+=n[o]-p[o]:e[i]+=p[o]+y),l[1-i]+=d[a]/2-p[a]/2,u.setPosition(f),c.setPosition(e),h.setPosition(l),f={x:0,y:0})[o]=(g?n:d)[o],f[a]=Math.max(d[a],p[a]),f[r]=Math.min(0,p[r]+l[1-i]),c.__rectSize=n[o],g?((e={x:0,y:0})[o]=Math.max(n[o]-p[o]-y,0),e[a]=f[a],c.setClipPath(new Zr.Z({shape:e})),c.__rectSize=e[o]):h.eachChild((function(t){t.attr({invisible:!0,silent:!0})})),d=this._getPageInfo(t)).pageIndex&&Se(u,{x:d.contentPosition[0],y:d.contentPosition[1]},g?t:null),this._updatePageInfoView(t,d),f},aO.prototype._pageGo=function(t,e,n){null!=(t=this._getPageInfo(e)[t])&&n.dispatchAction({type:"legendScroll",scrollDataIndex:t,legendId:e.id})},aO.prototype._updatePageInfoView=function(t,e){var n=this._controllerGroup,i=(s.S6(["pagePrev","pageNext"],(function(i){var o=null!=e[i+"DataIndex"];(i=n.childOfName(i))&&(i.setStyle("fill",o?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),i.cursor=o?"pointer":"default")})),n.childOfName("pageText")),o=t.get("pageFormatter"),a=null!=(a=e.pageIndex)?a+1:0,r=e.pageCount;i&&o&&i.setStyle("text",s.HD(o)?o.replace("{current}",null==a?"":a+"").replace("{total}",null==r?"":r+""):o({current:a,total:r}))},aO.prototype._getPageInfo=function(t){var e=t.get("scrollDataIndex",!0),n=this.getContentGroup(),i=this._containerGroup.__rectSize,o=(t=t.getOrient().index,iO[t]),a=oO[t],r=(e=this._findTargetItemIndex(e),n.children()),s=r[e],l=r.length,u=l?1:0,c={contentPosition:[n.x,n.y],pageCount:u,pageIndex:u-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(s){n=f(s),c.contentPosition[t]=-n.s;for(var h=e+1,d=n,p=n,g=null;h<=l;++h)(!(g=f(r[h]))&&p.e>d.s+i||g&&!y(g,d.s))&&(d=p.i>d.i?p:g)&&(null==c.pageNextDataIndex&&(c.pageNextDataIndex=d.i),++c.pageCount),p=g;for(h=e-1,d=n,p=n,g=null;-1<=h;--h)(g=f(r[h]))&&y(p,g.s)||!(d.i<p.i)||(p=d,null==c.pagePrevDataIndex&&(c.pagePrevDataIndex=d.i),++c.pageCount,++c.pageIndex),d=g}return c;function f(t){var e,n;if(t)return{s:n=(e=t.getBoundingRect())[a]+t[a],e:n+e[o],i:t.__legendDataIndex}}function y(t,e){return t.e>=e&&t.s<=e+i}},aO.prototype._findTargetItemIndex=function(t){var e,n;return this._showController?(this.getContentGroup().eachChild((function(i,o){i=i.__legendDataIndex,null==n&&null!=i&&(n=o),i===t&&(e=o)})),null!=e?e:n):0},aO.type="legend.scroll";var rO,sO=aO;function lO(t){tc(qN),t.registerComponentModel(eO),t.registerComponentView(sO),t.registerAction("legendScroll","legendscroll",(function(t,e){var n=t.scrollDataIndex;null!=n&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},(function(t){t.setScrollDataIndex(n)}))}))}function uO(){var t=null!==rO&&rO.apply(this,arguments)||this;return t.type=uO.type,t}a(uO,rO=e),uO.type="dataZoom.inside",uO.defaultOption=rn(e.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0});var cO,hO=uO,dO=U();function pO(t,e){e&&(t.removeKey(e.model.uid),t=e.controller)&&t.dispose()}function gO(t,e){t.isDisposed()||t.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function fO(t,e,n,i){return t.coordinateSystem.containPoint([n,i])}function yO(){var t=null!==cO&&cO.apply(this,arguments)||this;return t.type="dataZoom.inside",t}a(yO,cO=vl),yO.prototype.render=function(t,e,n){var i,o;cO.prototype.render.apply(this,arguments),t.noTarget()?this._clear():(this.range=t.getPercentRange(),i=t,o={pan:(0,s.ak)(mO.pan,this),zoom:(0,s.ak)(mO.zoom,this),scrollMove:(0,s.ak)(mO.scrollMove,this)},dO(n).coordSysRecordMap.each((function(t){(t=t.dataZoomInfoMap.get(i.uid))&&(t.getRange=o)})))},yO.prototype.dispose=function(){this._clear(),cO.prototype.dispose.apply(this,arguments)},yO.prototype._clear=function(){for(var t=this.api,e=this.dataZoomModel,n=dO(t).coordSysRecordMap,i=n.keys(),o=0;o<i.length;o++){var a,r=i[o],s=(r=n.get(r)).dataZoomInfoMap;s&&(a=e.uid,s.get(a))&&(s.removeKey(a),s.keys().length||pO(n,r))}this.range=null},yO.type="dataZoom.inside";var mO={zoom:function(t,e,n,i){var o=this.range,a=o.slice(),r=t.axisModels[0];if(r)return r=(0<(e=_O[e](null,[i.originX,i.originY],r,n,t)).signal?e.pixelStart+e.pixelLength-e.pixel:e.pixel-e.pixelStart)/e.pixelLength*(a[1]-a[0])+a[0],n=Math.max(1/i.scale,0),a[0]=(a[0]-r)*n+r,a[1]=(a[1]-r)*n+r,Db(0,a,[0,100],0,(t=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan()).minSpan,t.maxSpan),this.range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0},pan:vO((function(t,e,n,i,o,a){return(i=_O[i]([a.oldX,a.oldY],[a.newX,a.newY],e,o,n)).signal*(t[1]-t[0])*i.pixel/i.pixelLength})),scrollMove:vO((function(t,e,n,i,o,a){return _O[i]([0,0],[a.scrollDelta,a.scrollDelta],e,o,n).signal*(t[1]-t[0])*a.scrollDelta}))};function vO(t){return function(e,n,i,o){var a=this.range,r=a.slice(),s=e.axisModels[0];if(s)return Db(t(r,s,e,n,i,o),r,[0,100],"all"),this.range=r,a[0]!==r[0]||a[1]!==r[1]?r:void 0}}var xO,_O={grid:function(t,e,n,i,o){n=n.axis;var a={};return o=o.model.coordinateSystem.getRect(),t=t||[0,0],"x"===n.dim?(a.pixel=e[0]-t[0],a.pixelLength=o.width,a.pixelStart=o.x,a.signal=n.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=o.height,a.pixelStart=o.y,a.signal=n.inverse?-1:1),a},polar:function(t,e,n,i,o){var a=n.axis,r={},s=(o=o.model.coordinateSystem).getRadiusAxis().getExtent(),l=o.getAngleAxis().getExtent();return t=t?o.pointToCoord(t):[0,0],e=o.pointToCoord(e),"radiusAxis"===n.mainType?(r.pixel=e[0]-t[0],r.pixelLength=s[1]-s[0],r.pixelStart=s[0],r.signal=a.inverse?1:-1):(r.pixel=e[1]-t[1],r.pixelLength=l[1]-l[0],r.pixelStart=l[0],r.signal=a.inverse?-1:1),r},singleAxis:function(t,e,n,i,o){n=n.axis,o=o.model.coordinateSystem.getRect();var a={};return t=t||[0,0],"horizontal"===n.orient?(a.pixel=e[0]-t[0],a.pixelLength=o.width,a.pixelStart=o.x,a.signal=n.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=o.height,a.pixelStart=o.y,a.signal=n.inverse?-1:1),a}},SO=yO;function bO(t){dL(t),t.registerComponentModel(hO),t.registerComponentView(SO),function(t){t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,(function(t,e){var n=dO(e),i=n.coordSysRecordMap||(n.coordSysRecordMap=(0,s.kW)());i.each((function(t){t.dataZoomInfoMap=null})),t.eachComponent({mainType:"dataZoom",subType:"inside"},(function(t){var n=Xk(t);(0,s.S6)(n.infoList,(function(n){var o,a,r=n.model.uid,l=i.get(r)||i.set(r,(r=e,l=n.model,o={model:l,containsPoint:(0,s.WA)(fO,l),dispatchAction:(0,s.WA)(gO,r),dataZoomInfoMap:null,controller:null},a=o.controller=new Jy(r.getZr()),(0,s.S6)(["pan","zoom","scrollMove"],(function(t){a.on(t,(function(e){var n=[];o.dataZoomInfoMap.each((function(i){var a;e.isAvailableBehavior(i.model.option)&&(a=(a=(i.getRange||{})[t])&&a(i.dzReferCoordSysInfo,o.model.mainType,o.controller,e),!i.model.get("disabled",!0))&&a&&n.push({dataZoomId:i.model.id,start:a[0],end:a[1]})})),n.length&&o.dispatchAction(n)}))})),o));(l.dataZoomInfoMap||(l.dataZoomInfoMap=(0,s.kW)())).set(t.uid,{dzReferCoordSysInfo:n,model:t,getRange:null})}))})),i.each((function(t){var e,n,o,a,r,s=t.controller,l=t.dataZoomInfoMap;(e=l&&null!=(n=l.keys()[0])?l.get(n):e)?(a={type_true:2,type_move:1,type_false:0,type_undefined:-1},r=!0,l.each((function(t){var e=!(t=t.model).get("disabled",!0)&&(!t.get("zoomLock",!0)||"move");a["type_"+o]<a["type_"+e]&&(o=e),r=r&&t.get("preventDefaultMouseMove",!0)})),n={controlType:o,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!r}},s.enable(n.controlType,n.opt),s.setPointerChecker(t.containsPoint),Gs(t,"dispatchAction",e.model.get("throttle",!0),"fixRate")):pO(i,t)}))}))}(t)}function wO(){var t=null!==xO&&xO.apply(this,arguments)||this;return t.type=wO.type,t}a(wO,xO=e),wO.type="dataZoom.slider",wO.layoutMode="box",wO.defaultOption=rn(e.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}});var MO,IO=wO,DO=Zr.Z,TO="horizontal",CO="vertical",AO=["line","bar","candlestick","scatter"],kO={easing:"cubicOut",duration:100,delay:0};function LO(){var t=null!==MO&&MO.apply(this,arguments)||this;return t.type=LO.type,t._displayables={},t}function PO(t){return"vertical"===t?"ns-resize":"ew-resize"}a(LO,MO=vl),LO.prototype.init=function(t,e){this.api=e,this._onBrush=(0,s.ak)(this._onBrush,this),this._onBrushEnd=(0,s.ak)(this._onBrushEnd,this)},LO.prototype.render=function(t,e,n,i){MO.prototype.render.apply(this,arguments),Gs(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),!1===t.get("show")?this.group.removeAll():t.noTarget()?(this._clear(),this.group.removeAll()):(i&&"dataZoom"===i.type&&i.from===this.uid||this._buildView(),this._updateView())},LO.prototype.dispose=function(){this._clear(),MO.prototype.dispose.apply(this,arguments)},LO.prototype._clear=function(){Zs(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},LO.prototype._buildView=function(){var t=this.group,e=(t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval(),this._displayables.sliderGroup=new Dr.Z);this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},LO.prototype._resetLocation=function(){var t=this.dataZoomModel,e=this.api,n=t.get("brushSelect")?7:0,i=this._findCoordRect(),o=(e={width:e.getWidth(),height:e.getHeight()},this._orient===TO?{right:e.width-i.x-i.width,top:e.height-30-7-n,width:i.width,height:30}:{right:7,top:i.y,width:30,height:i.height}),a=ri(t.option);(0,s.S6)(["right","top","width","height"],(function(t){"ph"===a[t]&&(a[t]=o[t])})),n=ni(a,e),this._location={x:n.x,y:n.y},this._size=[n.width,n.height],this._orient===CO&&this._size.reverse()},LO.prototype._positionGroup=function(){var t=this.group,e=this._location,n=this._orient,i=(i=this.dataZoomModel.getFirstTargetAxisModel())&&i.get("inverse"),o=this._displayables.sliderGroup,a=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(n!==TO||i?n===TO&&i?{scaleY:a?1:-1,scaleX:-1}:n!==CO||i?{scaleY:a?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:a?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:a?1:-1,scaleX:1}),n=t.getBoundingRect([o]),t.x=e.x-n.x,t.y=e.y-n.y,t.markRedraw()},LO.prototype._getViewExtent=function(){return[0,this._size[0]]},LO.prototype._renderBackground=function(){var t=this.dataZoomModel,e=this._size,n=this._displayables.sliderGroup,i=t.get("brushSelect");n.add(new DO({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40})),t=new DO({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:(0,s.ak)(this._onClickPanel,this)}),e=this.api.getZr(),i?(t.on("mousedown",this._onBrushStart,this),t.cursor="crosshair",e.on("mousemove",this._onBrush),e.on("mouseup",this._onBrushEnd)):(e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)),n.add(t)},LO.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],t){var e,n=this._size,i=this._shadowSize||[],o=t.series,a=o.getRawData();if(null!=(e=(e=o.getShadowDim&&o.getShadowDim())&&a.getDimensionInfo(e)?o.getShadowDim():t.otherDim))for(var r,s,l,u,c,h,p,g,f,y,m=this._shadowPolygonPts,v=this._shadowPolylinePts,x=(a===this._shadowData&&e===this._shadowDim&&n[0]===i[0]&&n[1]===i[1]||(o=.3*((r=a.getDataExtent(e))[1]-r[0]),r=[r[0]-o,r[1]+o],s=[0,n[1]],t=[0,n[0]],l=[[n[0],0],[0,0]],u=[],c=t[1]/(a.count()-1),h=0,p=Math.round(a.count()/n[0]),a.each([e],(function(t,e){var n;0<p&&e%p?h+=c:(t=(n=null==t||isNaN(t)||""===t)?0:d(t,r,s,!0),n&&!g&&e?(l.push([l[l.length-1][0],0]),u.push([u[u.length-1][0],0])):!n&&g&&(l.push([h,0]),u.push([h,0])),l.push([h,t]),u.push([h,t]),h+=c,g=n)})),m=this._shadowPolygonPts=l,v=this._shadowPolylinePts=u),this._shadowData=a,this._shadowDim=e,this._shadowSize=[n[0],n[1]],this.dataZoomModel),_=0;_<3;_++){f=1===_,S=y=void 0,f=x.getModel(f?"selectedDataBackground":"dataBackground"),y=new Dr.Z,S=new Br.Z({shape:{points:m},segmentIgnoreThreshold:1,style:f.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),f=new Gr.Z({shape:{points:v},segmentIgnoreThreshold:1,style:f.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),y.add(S),y.add(f);var S=y;this._displayables.sliderGroup.add(S),this._displayables.dataShadowSegs.push(S)}}},LO.prototype._prepareDataShadowInfo=function(){var t,e,n=this.dataZoomModel,i=n.get("showDataShadow");if(!1!==i)return e=this.ecModel,n.eachTargetAxis((function(o,a){var r=n.getAxisProxy(o,a).getTargetSeriesModels();(0,s.S6)(r,(function(n){var r,l,u,c;t||!0!==i&&(0,s.cq)(AO,n.get("type"))<0||(r=e.getComponent(Uk(o),a).axis,c=n.coordinateSystem,null!=(l={x:"y",y:"x",radius:"angle",angle:"radius"}[o])&&c.getOtherAxis&&(u=c.getOtherAxis(r).inverse),l=n.getData().mapDimension(l),t={thisAxis:r,series:n,thisDim:o,otherDim:l,otherAxisInverse:u})}),this)}),this),t},LO.prototype._renderHandle=function(){var t,e,n=this.group,i=this._displayables,o=i.handles=[null,null],a=i.handleLabels=[null,null],r=this._displayables.sliderGroup,l=this._size,u=this.dataZoomModel,c=this.api,h=u.get("borderRadius")||0,d=u.get("brushSelect"),g=i.filler=new DO({silent:d,style:{fill:u.get("fillerColor")},textConfig:{position:"inside"}});r.add(g),r.add(new DO({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:l[0],height:l[1],r:h},style:{stroke:u.get("dataBackgroundColor")||u.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),(0,s.S6)([0,1],(function(t){var e=u.get("handleIcon"),i=((e=Ol(e=!Pl[e]&&e.indexOf("path://")<0&&e.indexOf("image://")<0?"path://"+e:e,-1,0,2,2,null,!0)).attr({cursor:PO(this._orient),draggable:!0,drift:(0,s.ak)(this._onDragMove,this,t),ondragend:(0,s.ak)(this._onDragEnd,this),onmouseover:(0,s.ak)(this._showDataInfo,this,!0),onmouseout:(0,s.ak)(this._showDataInfo,this,!1),z2:5}),e.getBoundingRect()),l=u.get("handleSize");null!=(this._handleHeight=p(l,this._size[1]),this._handleWidth=i.width/i.height*this._handleHeight,e.setStyle(u.getModel("handleStyle").getItemStyle()),e.style.strokeNoScale=!0,e.rectHover=!0,e.ensureState("emphasis").style=u.getModel(["emphasis","handleStyle"]).getItemStyle(),le(e),l=u.get("handleColor"))&&(e.style.fill=l),r.add(o[t]=e),i=u.getModel("textStyle"),l=(u.get("handleLabel")||{}).show||!1,n.add(a[t]=new ft.ZP({silent:!0,invisible:!l,style:Re(i,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:i.getTextColor(),font:i.getFont()}),z2:10}))}),this),h=g,d&&(g=p(u.get("moveHandleSize"),l[1]),t=i.moveHandle=new Zr.Z({style:u.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:l[1]-.5,height:g}}),d=.8*g,(d=i.moveHandleIcon=Ol(u.get("moveHandleIcon"),-d/2,-d/2,d,d,"#fff",!0)).silent=!0,d.y=l[1]+g/2-.5,t.ensureState("emphasis").style=u.getModel(["emphasis","moveHandleStyle"]).getItemStyle(),e=Math.min(l[1]/2,Math.max(g,10)),(h=i.moveZone=new Zr.Z({invisible:!0,shape:{y:l[1]-e,height:g+e}})).on("mouseover",(function(){c.enterEmphasis(t)})).on("mouseout",(function(){c.leaveEmphasis(t)})),r.add(t),r.add(d),r.add(h)),h.attr({draggable:!0,cursor:PO(this._orient),drift:(0,s.ak)(this._onDragMove,this,"all"),ondragstart:(0,s.ak)(this._showDataInfo,this,!0),ondragend:(0,s.ak)(this._onDragEnd,this),onmouseover:(0,s.ak)(this._showDataInfo,this,!0),onmouseout:(0,s.ak)(this._showDataInfo,this,!1)})},LO.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[d(t[0],[0,100],e,!0),d(t[1],[0,100],e,!0)]},LO.prototype._updateInterval=function(t,e){var n=this.dataZoomModel,i=this._handleEnds,o=this._getViewExtent(),a=n.findRepresentativeAxisProxy().getMinMaxSpan(),r=[0,100];return Db(e,i,o,n.get("zoomLock")?"all":t,null!=a.minSpan?d(a.minSpan,r,o,!0):null,null!=a.maxSpan?d(a.maxSpan,r,o,!0):null),e=this._range,n=this._range=f([d(i[0],o,r,!0),d(i[1],o,r,!0)]),!e||e[0]!==n[0]||e[1]!==n[1]},LO.prototype._updateView=function(t){for(var e=this._displayables,n=this._handleEnds,i=f(n.slice()),o=this._size,a=((0,s.S6)([0,1],(function(t){var i=e.handles[t],a=this._handleHeight;i.attr({scaleX:a/2,scaleY:a/2,x:n[t]+(t?-1:1),y:o[1]/2-a/2})}),this),e.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:o[1]}),{x:i[0],width:i[1]-i[0]}),r=(e.moveHandle&&(e.moveHandle.setShape(a),e.moveZone.setShape(a),e.moveZone.getBoundingRect(),e.moveHandleIcon)&&e.moveHandleIcon.attr("x",a.x+a.width/2),e.dataShadowSegs),l=[0,i[0],i[1],o[0]],u=0;u<r.length;u++){var c=r[u],h=c.getClipPath();h||(h=new Zr.Z,c.setClipPath(h)),h.setShape({x:l[u],y:0,width:l[u+1]-l[u],height:o[1]})}this._updateDataInfo(t)},LO.prototype._updateDataInfo=function(t){var e,n,i=this.dataZoomModel,o=this._displayables,a=o.handleLabels,r=this._orient,s=["",""],l=(i.get("showDetail")&&(i=i.findRepresentativeAxisProxy())&&(e=i.getAxisModel().axis,n=this._range,t=t?i.calculateDataWindow({start:n[0],end:n[1]}).valueWindow:i.getDataValueWindow(),s=[this._formatLabel(t[0],e),this._formatLabel(t[1],e)]),f(this._handleEnds.slice()));function u(t){var e=gs(o.handles[t].parent,this.group),n=ys(0===t?"right":"left",e),i=this._handleWidth/2+5;i=fs([l[t]+(0===t?-i:i),this._size[1]/2],e),a[t].setStyle({x:i[0],y:i[1],verticalAlign:r===TO?"middle":n,align:r===TO?n:"center",text:s[t]})}u.call(this,0),u.call(this,1)},LO.prototype._formatLabel=function(t,e){var n,i=(n=this.dataZoomModel).get("labelFormatter");return null!=(n=n.get("labelPrecision"))&&"auto"!==n||(n=e.getPixelPrecision()),e=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(n,20)),(0,s.mf)(i)?i(t,e):(0,s.HD)(i)?i.replace("{value}",e):e},LO.prototype._showDataInfo=function(t){var e=(this.dataZoomModel.get("handleLabel")||{}).show||!1,n=this.dataZoomModel.getModel(["emphasis","handleLabel"]).get("show")||!1;t=t||this._dragging?n:e,(e=(n=this._displayables).handleLabels)[0].attr("invisible",!t),e[1].attr("invisible",!t),n.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](n.moveHandle,1)},LO.prototype._onDragMove=function(t,e,n,i){this._dragging=!0,Gy.sT(i.event),i=fs([e,n],this._displayables.sliderGroup.getLocalTransform(),!0),e=this._updateInterval(t,i[0]),n=this.dataZoomModel.get("realtime"),this._updateView(!n),e&&n&&this._dispatchZoomAction(!0)},LO.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),this.dataZoomModel.get("realtime")||this._dispatchZoomAction(!1)},LO.prototype._onClickPanel=function(t){var e=this._size;(t=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY))[0]<0||t[0]>e[0]||t[1]<0||t[1]>e[1]||(e=((e=this._handleEnds)[0]+e[1])/2,t=this._updateInterval("all",t[0]-e),this._updateView(),t&&this._dispatchZoomAction(!1))},LO.prototype._onBrushStart=function(t){var e=t.offsetX;t=t.offsetY,this._brushStart=new jr.Z(e,t),this._brushing=!0,this._brushStartTime=+new Date},LO.prototype._onBrushEnd=function(t){var e,n,i;this._brushing&&(e=this._displayables.brushRect,this._brushing=!1,e)&&(e.attr("ignore",!0),e=e.shape,+new Date-this._brushStartTime<200&&Math.abs(e.width)<5||(n=this._getViewExtent(),this._range=f([d(e.x,n,i=[0,100],!0),d(e.x+e.width,n,i,!0)]),this._handleEnds=[e.x,e.x+e.width],this._updateView(),this._dispatchZoomAction(!1)))},LO.prototype._onBrush=function(t){this._brushing&&(Gy.sT(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},LO.prototype._updateBrushRect=function(t,e){var n=this._displayables,i=this.dataZoomModel,o=n.brushRect;o||(o=n.brushRect=new DO({silent:!0,style:i.getModel("brushStyle").getItemStyle()}),n.sliderGroup.add(o)),o.attr("ignore",!1),i=this._brushStart,t=(n=this._displayables.sliderGroup).transformCoordToLocal(t,e),e=n.transformCoordToLocal(i.x,i.y),n=this._size,t[0]=Math.max(Math.min(n[0],t[0]),0),o.setShape({x:e[0],y:0,width:t[0]-e[0],height:n[1]})},LO.prototype._dispatchZoomAction=function(t){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?kO:null,start:e[0],end:e[1]})},LO.prototype._findCoordRect=function(){var t,e,n=Xk(this.dataZoomModel).infoList;return(t=!t&&n.length?(n=n[0].model.coordinateSystem).getRect&&n.getRect():t)?t:{x:.2*(n=this.api.getWidth()),y:.2*(e=this.api.getHeight()),width:.6*n,height:.6*e}},LO.type="dataZoom.slider";var RO=LO;function NO(t){t.registerComponentModel(IO),t.registerComponentView(RO),dL(t)}var OO,EO={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},VO=function(t,e,n){return t=s.d9((EO[t]||{})[e]),n&&s.kJ(t)?t[t.length-1]:t},zO=Kx.mapVisual,BO=Kx.eachVisual,GO=s.kJ,ZO=s.S6,WO=f,FO=d;function HO(){var t=null!==OO&&OO.apply(this,arguments)||this;return t.type=HO.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}a(HO,OO=yi),HO.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n)},HO.prototype.optionUpdated=function(t,e){var n=this.option;e||FP(n,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},HO.prototype.resetVisual=function(t){var e=this.stateList;t=s.ak(t,this),this.controllerVisuals=WP(this.option.controller,e,t),this.targetVisuals=WP(this.option.target,e,t)},HO.prototype.getItemSymbol=function(){return null},HO.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,e=[];return null==t||"all"===t?this.ecModel.eachSeries((function(t,n){e.push(n)})):e=N(t),e},HO.prototype.eachTargetSeries=function(t,e){s.S6(this.getTargetSeriesIndices(),(function(n){(n=this.ecModel.getSeriesByIndex(n))&&t.call(e,n)}),this)},HO.prototype.isTargetSeries=function(t){var e=!1;return this.eachTargetSeries((function(n){n===t&&(e=!0)})),e},HO.prototype.formatValueText=function(t,e,n){var i,o=(r=this.option).precision,a=this.dataBound,r=r.formatter;return n=n||["<",">"],s.kJ(t)&&(t=t.slice(),i=!0),e=e?t:i?[l(t[0]),l(t[1])]:l(t),s.HD(r)?r.replace("{value}",i?e[0]:e).replace("{value2}",i?e[1]:e):s.mf(r)?i?r(t[0],t[1]):r(t):i?t[0]===a[0]?n[0]+" "+e[1]:t[1]===a[1]?n[1]+" "+e[0]:e[0]+" - "+e[1]:e;function l(t){return t===a[0]?"min":t===a[1]?"max":(+t).toFixed(Math.min(o,20))}},HO.prototype.resetExtent=function(){var t=this.option;t=WO([t.min,t.max]),this._dataExtent=t},HO.prototype.getDataDimensionIndex=function(t){var e=this.option.dimension;if(null!=e)return t.getDimensionIndex(e);for(var n=t.dimensions,i=n.length-1;0<=i;i--){var o=n[i];if(!(o=t.getDimensionInfo(o)).isCalculationCoord)return o.storeDimIndex}},HO.prototype.getExtent=function(){return this._dataExtent.slice()},HO.prototype.completeVisualOption=function(){var t=this.ecModel,e=this.option,n={inRange:e.inRange,outOfRange:e.outOfRange},i=e.target||(e.target={}),o=e.controller||(e.controller={}),a=(s.TS(i,n),s.TS(o,n),this.isCategory());function r(n){GO(e.color)&&!n.inRange&&(n.inRange={color:e.color.slice().reverse()}),n.inRange=n.inRange||{color:t.get("gradientColor")}}r.call(this,i),r.call(this,o),function(t,e,n){e=t[e];var i=t[n];e&&!i&&(i=t[n]={},ZO(e,(function(t,e){var n;Kx.isValidType(e)&&null!=(n=VO(e,"inactive",a))&&(i[e]=n,"color"!==e||i.hasOwnProperty("opacity")||i.hasOwnProperty("colorAlpha")||(i.opacity=[0,0]))})))}.call(this,i,"inRange","outOfRange"),function(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,n=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,i=this.get("inactiveColor"),o=this.getItemSymbol()||"roundRect";ZO(this.stateList,(function(r){var l,u=this.itemSize,c=t[r];null!=(null==(c=c||(t[r]={color:a?i:[i]})).symbol&&(c.symbol=e&&s.d9(e)||(a?o:[o])),null==c.symbolSize&&(c.symbolSize=n&&s.d9(n)||(a?u[0]:[u[0],u[0]])),c.symbol=zO(c.symbol,(function(t){return"none"===t?o:t})),r=c.symbolSize)&&(l=-1/0,BO(r,(function(t){l<t&&(l=t)})),c.symbolSize=zO(r,(function(t){return FO(t,[0,l],[0,u[0]],!0)})))}),this)}.call(this,o)},HO.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},HO.prototype.isCategory=function(){return!!this.option.categories},HO.prototype.setSelected=function(t){},HO.prototype.getSelected=function(){return null},HO.prototype.getValueState=function(t){return null},HO.prototype.getVisualMeta=function(t){return null},HO.type="visualMap",HO.dependencies=["series"],HO.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}};var UO,XO=[20,140];function YO(){var t=null!==UO&&UO.apply(this,arguments)||this;return t.type=YO.type,t}function JO(t,e,n){if(n[0]===n[1])return n.slice();for(var i=(n[1]-n[0])/200,o=n[0],a=[],r=0;r<=200&&o<n[1];r++)a.push(o),o+=i;return a.push(n[1]),a}a(YO,UO=ml=HO),YO.prototype.optionUpdated=function(t,e){UO.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()})),this._resetRange()},YO.prototype.resetItemSize=function(){UO.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;null!=t[0]&&!isNaN(t[0])||(t[0]=XO[0]),null!=t[1]&&!isNaN(t[1])||(t[1]=XO[1])},YO.prototype._resetRange=function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):s.kJ(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},YO.prototype.completeVisualOption=function(){UO.prototype.completeVisualOption.apply(this,arguments),s.S6(this.stateList,(function(t){(t=this.option.controller[t].symbolSize)&&t[0]!==t[1]&&(t[0]=t[1]/3)}),this)},YO.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},YO.prototype.getSelected=function(){var t=this.getExtent(),e=f((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},YO.prototype.getValueState=function(t){var e=this.option.range,n=this.getExtent();return(e[0]<=n[0]||e[0]<=t)&&(e[1]>=n[1]||t<=e[1])?"inRange":"outOfRange"},YO.prototype.findTargetDataIndices=function(t){var e=[];return this.eachTargetSeries((function(n){var i=[],o=n.getData();o.each(this.getDataDimensionIndex(o),(function(e,n){t[0]<=e&&e<=t[1]&&i.push(n)}),this),e.push({seriesId:n.id,dataIndex:i})}),this),e},YO.prototype.getVisualMeta=function(t){var e=JO(0,0,this.getExtent()),n=JO(0,0,this.option.range.slice()),i=[];function o(e,n){i.push({value:e,color:t(e,n)})}for(var a=0,r=0,s=n.length,l=e.length;r<l&&(!n.length||e[r]<=n[0]);r++)e[r]<n[a]&&o(e[r],"outOfRange");for(var u=1;a<s;a++,u=0)u&&i.length&&o(n[a],"outOfRange"),o(n[a],"inRange");for(u=1;r<l;r++)(!n.length||n[n.length-1]<e[r])&&(u&&(i.length&&o(i[i.length-1].value,"outOfRange"),u=0),o(e[r],"outOfRange"));var c=i.length;return{stops:i,outerColors:[c?i[0].color:"transparent",c?i[c-1].color:"transparent"]}},YO.type="visualMap.continuous",YO.defaultOption=rn(ml.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}});var jO,KO=YO;function qO(){var t=null!==jO&&jO.apply(this,arguments)||this;return t.type=qO.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}a(qO,jO=Cr),qO.prototype.init=function(t,e){this.ecModel=t,this.api=e},qO.prototype.render=function(t,e,n,i){!1===(this.visualMapModel=t).get("show")?this.group.removeAll():this.doRender(t,e,n,i)},qO.prototype.renderBackground=function(t){var e=this.visualMapModel,n=Hn(e.get("padding")||0),i=t.getBoundingRect();t.add(new Zr.Z({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},qO.prototype.getControllerVisual=function(t,e,n){var i=(n=n||{}).forceState,o=this.visualMapModel,a={};function r(t){return a[t]}function l(t,e){a[t]=e}"color"===e&&(c=o.get("contentColor"),a.color=c);var u=o.controllerVisuals[i||o.getValueState(t)],c=Kx.prepareVisualTypes(u);return s.S6(c,(function(i){var o=u[i];n.convertOpacityToAlpha&&"opacity"===i&&(i="colorAlpha",o=u.__alphaForOpacity),Kx.dependsOn(i,e)&&o&&o.applyVisual(t,r,l)})),a[e]},qO.prototype.positionGroup=function(t){var e=this.visualMapModel,n=this.api;ii(t,e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},qO.prototype.doRender=function(t,e,n,i){},qO.type="visualMap",dt=qO;var $O=[["left","right","width"],["top","bottom","height"]];function QO(t,e,n){var i=t.option;if(null!=(t=i.align)&&"auto"!==t)return t;t={width:e.getWidth(),height:e.getHeight()};for(var o="horizontal"===i.orient?1:0,a=$O[o],r=[0,null,10],s={},l=0;l<3;l++)s[$O[1-o][l]]=r[l],s[a[l]]=2===l?n[0]:i[a[l]];e=[["x","width",3],["y","height",0]][o];var u=ni(s,t,i.padding);return a[(u.margin[e[2]]||0)+u[e[0]]+.5*u[e[1]]<.5*t[e[1]]?0:1]}function tE(t,e){return s.S6(t||[],(function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")})),t}var eE,nE=d,iE=s.S6,oE=Math.min,aE=Math.max;function rE(){var t=null!==eE&&eE.apply(this,arguments)||this;return t.type=rE.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}function sE(t,e,n,i){return new Br.Z({shape:{points:t},draggable:!!n,cursor:e,drift:n,onmousemove:function(t){Gy.sT(t.event)},ondragend:i})}function lE(t){var e=t.get("hoverLinkOnHandle");return null==e?t.get("realtime"):e}function uE(t){return"vertical"===t?"ns-resize":"ew-resize"}function cE(t,e){e.eachComponent({mainType:"visualMap",query:t},(function(e){e.setSelected(t.selected)}))}a(rE,eE=dt),rE.prototype.init=function(t,e){eE.prototype.init.call(this,t,e),this._hoverLinkFromSeriesMouseOver=s.ak(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=s.ak(this._hideIndicator,this)},rE.prototype.doRender=function(t,e,n,i){i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},rE.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e),t=t.get("text"),this._renderEndsText(e,t,0),this._renderEndsText(e,t,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},rE.prototype._renderEndsText=function(t,e,n){var i,o,a;e&&(e=null!=(e=e[1-n])?e+"":"",o=(i=this.visualMapModel).get("textGap"),i=i.itemSize,a=this._shapes.mainGroup,i=this._applyTransform([i[0]/2,0===n?-o:i[1]+o],a),o=this._applyTransform(0===n?"bottom":"top",a),n=this._orient,a=this.visualMapModel.textStyleModel,this.group.add(new ft.ZP({style:Re(a,{x:i[0],y:i[1],verticalAlign:"horizontal"===n?"middle":o,align:"horizontal"===n?o:"center",text:e})})))},rE.prototype._renderBar=function(t){var e=this.visualMapModel,n=this._shapes,i=e.itemSize,o=this._orient,a=this._useHandle,r=QO(e,this.api,i),l=(r=n.mainGroup=this._createBarGroup(r),new Dr.Z);r.add(l),l.add(n.outOfRange=sE()),l.add(n.inRange=sE(null,a?uE(this._orient):null,s.ak(this._dragHandle,this,"all",!1),s.ak(this._dragHandle,this,"all",!0))),l.setClipPath(new Zr.Z({shape:{x:0,y:0,width:i[0],height:i[1],r:3}})),l=e.textStyleModel.getTextRect("国"),l=aE(l.width,l.height),a&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(e,r,0,i,l,o),this._createHandle(e,r,1,i,l,o)),this._createIndicator(e,r,i,l,o),t.add(r)},rE.prototype._createHandle=function(t,e,n,i,o,a){var r=s.ak(this._dragHandle,this,n,!1),l=s.ak(this._dragHandle,this,n,!0),u=(0,Dl.GM)(t.get("handleSize"),i[0]),c=Ol(t.get("handleIcon"),-u/2,-u/2,u,u,null,!0),h=uE(this._orient);c.attr({cursor:h,draggable:!0,drift:r,ondragend:l,onmousemove:function(t){Gy.sT(t.event)}}),c.x=i[0]/2,c.useStyle(t.getModel("handleStyle").getItemStyle()),c.setStyle({strokeNoScale:!0,strokeFirst:!0}),c.style.lineWidth*=2,c.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),ge(c,!0),e.add(c),i=this.visualMapModel.textStyleModel,(t=new ft.ZP({cursor:h,draggable:!0,drift:r,onmousemove:function(t){Gy.sT(t.event)},ondragend:l,style:Re(i,{x:0,y:0,text:""})})).ensureState("blur").style={opacity:.1},t.stateTransition={duration:200},this.group.add(t),e=[u,0],(h=this._shapes).handleThumbs[n]=c,h.handleLabelPoints[n]=e,h.handleLabels[n]=t},rE.prototype._createIndicator=function(t,e,n,i,o){var a=(0,Dl.GM)(t.get("indicatorSize"),n[0]),r=((a=Ol(t.get("indicatorIcon"),-a/2,-a/2,a,a,null,!0)).attr({cursor:"move",invisible:!0,silent:!0,x:n[0]/2}),t=t.getModel("indicatorStyle").getItemStyle(),a instanceof Nr.ZP?(r=a.style,a.useStyle(s.l7({image:r.image,x:r.x,y:r.y,width:r.width,height:r.height},t))):a.useStyle(t),e.add(a),this.visualMapModel.textStyleModel);t=new ft.ZP({silent:!0,invisible:!0,style:Re(r,{x:0,y:0,text:""})}),this.group.add(t),e=[("horizontal"===o?i/2:6)+n[0]/2,0],(r=this._shapes).indicator=a,r.indicatorLabel=t,r.indicatorLabelPoint=e,this._firstShowIndicator=!0},rE.prototype._dragHandle=function(t,e,n,i){this._useHandle&&(this._dragging=!e,e||(n=this._applyTransform([n,i],this._shapes.mainGroup,!0),this._updateInterval(t,n[1]),this._hideIndicator(),this._updateView()),e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?this._hovering||this._clearHoverLinkToSeries():lE(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1))},rE.prototype._resetInterval=function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),n=t.getExtent();t=[0,t.itemSize[1]],this._handleEnds=[nE(e[0],n,t,!0),nE(e[1],n,t,!0)]},rE.prototype._updateInterval=function(t,e){var n=this.visualMapModel,i=this._handleEnds,o=[0,n.itemSize[1]];Db(e=e||0,i,o,t,0),e=n.getExtent(),this._dataInterval=[nE(i[0],o,e,!0),nE(i[1],o,e,!0)]},rE.prototype._updateView=function(t){var e=(i=this.visualMapModel).getExtent(),n=this._shapes,i=[0,i.itemSize[1]],o=(t=t?i:this._handleEnds,this._createBarVisual(this._dataInterval,e,t,"inRange"));e=this._createBarVisual(e,e,i,"outOfRange"),n.inRange.setStyle({fill:o.barColor}).setShape("points",o.barPoints),n.outOfRange.setStyle({fill:e.barColor}).setShape("points",e.barPoints),this._updateHandle(t,o)},rE.prototype._createBarVisual=function(t,e,n,i){i={forceState:i,convertOpacityToAlpha:!0};var o=this._makeColorGradient(t,i);return t=[this.getControllerVisual(t[0],"symbolSize",i),this.getControllerVisual(t[1],"symbolSize",i)],i=this._createBarPoints(n,t),{barColor:new Xr.Z(0,0,0,1,o),barPoints:i,handlesColor:[o[0].color,o[o.length-1].color]}},rE.prototype._makeColorGradient=function(t,e){var n=[],i=(t[1]-t[0])/100;n.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var o=1;o<100;o++){var a=t[0]+i*o;if(a>t[1])break;n.push({color:this.getControllerVisual(a,"color",e),offset:o/100})}return n.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),n},rE.prototype._createBarPoints=function(t,e){var n=this.visualMapModel.itemSize;return[[n[0]-e[0],t[0]],[n[0],t[0]],[n[0],t[1]],[n[0]-e[1],t[1]]]},rE.prototype._createBarGroup=function(t){var e=this._orient,n=this.visualMapModel.get("inverse");return new Dr.Z("horizontal"!==e||n?"horizontal"===e&&n?{scaleX:"bottom"===t?-1:1,rotation:-Math.PI/2}:"vertical"!==e||n?{scaleX:"left"===t?1:-1}:{scaleX:"left"===t?1:-1,scaleY:-1}:{scaleX:"bottom"===t?1:-1,rotation:Math.PI/2})},rE.prototype._updateHandle=function(t,e){var n,i,o,a,r,s,l;this._useHandle&&(n=this._shapes,i=this.visualMapModel,o=n.handleThumbs,a=n.handleLabels,r=i.itemSize,s=i.getExtent(),l=this._applyTransform("left",n.mainGroup),iE([0,1],(function(u){var c=((h=o[u]).setStyle("fill",e.handlesColor[u]),h.y=t[u],nE(t[u],[0,r[1]],s,!0)),h=(c=this.getControllerVisual(c,"symbolSize"),h.scaleX=h.scaleY=c/r[0],h.x=r[0]-c/2,fs(n.handleLabelPoints[u],gs(h,this.group)));"horizontal"===this._orient&&(c="left"===l||"top"===l?(r[0]-c)/2:(r[0]-c)/-2,h[1]+=c),a[u].setStyle({x:h[0],y:h[1],text:i.formatValueText(this._dataInterval[u]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",n.mainGroup):"center"})}),this))},rE.prototype._showIndicator=function(t,e,n,i){var o=this.visualMapModel,a=o.getExtent(),r=[0,(c=o.itemSize)[1]],s=(h=this._shapes).indicator;if(s){s.attr("invisible",!1);var l=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0}),u=this.getControllerVisual(t,"symbolSize"),c=(t=nE(t,a,r,!0),a=c[0]-u/2,r={x:s.x,y:s.y},s.y=t,s.x=a,fs(h.indicatorLabelPoint,gs(s,this.group))),h=((u=h.indicatorLabel).attr("invisible",!1),this._applyTransform("left",h.mainGroup)),d="horizontal"===this._orient,p=(u.setStyle({text:(n||"")+o.formatValueText(e),verticalAlign:d?h:"middle",align:d?"center":h}),n={x:a,y:t,style:{fill:l}},e={style:{x:c[0],y:c[1]}},o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator?(d={duration:100,easing:"cubicInOut",additive:!0},s.x=r.x,s.y=r.y,s.animateTo(n,d),u.animateTo(e,d)):(s.attr(n),u.attr(e)),this._firstShowIndicator=!1,this._shapes.handleLabels);if(p)for(var g=0;g<p.length;g++)this.api.enterBlur(p[g])}},rE.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",(function(e){var n;t._hovering=!0,t._dragging||(n=t.visualMapModel.itemSize,(e=t._applyTransform([e.offsetX,e.offsetY],t._shapes.mainGroup,!0,!0))[1]=oE(aE(0,e[1]),n[1]),t._doHoverLinkToSeries(e[1],0<=e[0]&&e[0]<=n[0]))})).on("mouseout",(function(){t._hovering=!1,t._dragging||t._clearHoverLinkToSeries()}))},rE.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},rE.prototype._doHoverLinkToSeries=function(t,e){var n,i,o,a=this.visualMapModel,r=a.itemSize;function s(t,e,n){for(var i=0,o=t.length;i<o;i++){var a=Z(t[i].seriesId,null);if(null==a)return;for(var r=N(t[i].dataIndex),s=n&&n[a],l=0,u=r.length;l<u;l++){var c=r[l];s&&s[c]?s[c]=null:(e[a]||(e[a]={}))[c]=1}}}function l(t,e){var n,i,o=[];for(n in t)t.hasOwnProperty(n)&&null!=t[n]&&(e?o.push(+n):(i=l(t[n],!0)).length&&o.push({seriesId:n,dataIndex:i}));return o}a.option.hoverLink&&(r=[0,r[1]],i=a.getExtent(),n=[(t=oE(aE(r[0],t),r[1]))-(o=function(t,e,n){var i=6;return(t=t.get("hoverLinkDataSize"))&&(i=nE(t,e,n,!0)/2),i}(a,i,r)),t+o],t=nE(t,r,i,!0),i=[nE(n[0],r,i,!0),nE(n[1],r,i,!0)],n[0]<r[0]&&(i[0]=-1/0),r[1]<n[1]&&(i[1]=1/0),e&&(i[0]===-1/0?this._showIndicator(t,i[1],"< ",o):i[1]===1/0?this._showIndicator(t,i[0],"> ",o):this._showIndicator(t,t,"≈ ",o)),r=this._hoverLinkDataIndices,n=[],(e||lE(a))&&(n=this._hoverLinkDataIndices=a.findTargetDataIndices(i)),t=n,o={},s(r||[],e={}),s(t||[],o,e),i=[l(e),l(o)],this._dispatchHighDown("downplay",tE(i[0],a)),this._dispatchHighDown("highlight",tE(i[1],a)))},rE.prototype._hoverLinkFromSeriesMouseOver=function(t){var e,n;Ml(t.target,(function(t){return null!=(t=yt(t)).dataIndex&&(e=t,1)}),!0),e&&(t=this.ecModel.getSeriesByIndex(e.seriesIndex),(n=this.visualMapModel).isTargetSeries(t))&&(n=(t=t.getData(e.dataType)).getStore().get(n.getDataDimensionIndex(t),e.dataIndex),isNaN(n)||this._showIndicator(n,n))},rE.prototype._hideIndicator=function(){var t=this._shapes,e=(t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0),this._shapes.handleLabels);if(e)for(var n=0;n<e.length;n++)this.api.leaveBlur(e[n])},rE.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",tE(t,this.visualMapModel)),t.length=0},rE.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},rE.prototype._applyTransform=function(t,e,n,i){return e=gs(e,i?null:this.group),(s.kJ(t)?fs:ys)(t,e,n)},rE.prototype._dispatchHighDown=function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},rE.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},rE.type="visualMap.continuous";var hE=rE,dE={type:"selectDataRange",event:"dataRangeSelected",update:"update"},pE=[{createOnAllSeries:!0,reset:function(t,e){var n=[];return e.eachComponent("visualMap",(function(e){var i,o,a,r,l=t.pipelineContext;!e.isTargetSeries(t)||l&&l.large||n.push((l=e.stateList,i=e.targetVisuals,o=s.ak(e.getValueState,e),a=e.getDataDimensionIndex(t.getData()),r={},s.S6(l,(function(t){var e=Kx.prepareVisualTypes(i[t]);r[t]=e})),{progress:function(t,e){var n,s;function l(t){return xl(e,s,t)}function u(t,n){Sl(e,s,t,n)}null!=a&&(n=e.getDimensionIndex(a));for(var c=e.getStore();null!=(s=t.next());)if(!(d=e.getRawDataItem(s))||!1!==d.visualMap)for(var h=null!=a?c.get(n,s):s,d=o(h),p=i[d],g=r[d],f=0,y=g.length;f<y;f++){var m=g[f];p[m]&&p[m].applyVisual(h,l,u)}}}))})),n}},{createOnAllSeries:!0,reset:function(t,e){var n=t.getData(),i=[];e.eachComponent("visualMap",(function(e){var o;e.isTargetSeries(t)&&(o=e.getVisualMeta(s.ak(gE,null,t,e))||{stops:[],outerColors:[]},0<=(e=e.getDataDimensionIndex(n)))&&(o.dimension=e,i.push(o))})),t.getData().setVisual("visualMeta",i)}}];function gE(t,e,n,i){for(var o=e.targetVisuals[i],a=Kx.prepareVisualTypes(o),r={color:_l(t.getData(),"color")},s=0,l=a.length;s<l;s++){var u;(u=o["opacity"===(u=a[s])?"__alphaForOpacity":u])&&u.applyVisual(n,c,h)}return r.color;function c(t){return r[t]}function h(t,e){r[t]=e}}var fE=s.S6;function yE(t){t=t&&t.visualMap,s.kJ(t)||(t=t?[t]:[]),fE(t,(function(t){t&&(mE(t,"splitList")&&!mE(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList),t=t.pieces)&&s.kJ(t)&&fE(t,(function(t){s.Kn(t)&&(mE(t,"start")&&!mE(t,"min")&&(t.min=t.start),mE(t,"end"))&&!mE(t,"max")&&(t.max=t.end)}))}))}function mE(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var vE,xE=!1;function _E(t){xE||(xE=!0,t.registerSubTypeDefaulter("visualMap",(function(t){return t.categories||(t.pieces?0<t.pieces.length:0<t.splitNumber)&&!t.calculable?"piecewise":"continuous"})),t.registerAction(dE,cE),(0,s.S6)(pE,(function(e){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,e)})),t.registerPreprocessor(yE))}function SE(t){t.registerComponentModel(KO),t.registerComponentView(hE),_E(t)}function bE(){var t=null!==vE&&vE.apply(this,arguments)||this;return t.type=bE.type,t._pieceList=[],t}a(bE,vE=ml),bE.prototype.optionUpdated=function(t,e){vE.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var n=this._mode=this._determineMode(),i=(this._pieceList=[],wE[this._mode].call(this,this._pieceList),this._resetSelected(t,e),this.option.categories);this.resetVisual((function(t,e){"categories"===n?(t.mappingMethod="category",t.categories=s.d9(i)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=s.UI(this._pieceList,(function(t){return t=s.d9(t),"inRange"!==e&&(t.visual=null),t})))}))},bE.prototype.completeVisualOption=function(){var t=this.option,e={},n=Kx.listVisualTypes(),i=this.isCategory();function o(t,e,n){return t&&t[e]&&t[e].hasOwnProperty(n)}s.S6(t.pieces,(function(t){s.S6(n,(function(n){t.hasOwnProperty(n)&&(e[n]=1)}))})),s.S6(e,(function(e,n){var a=!1;s.S6(this.stateList,(function(e){a=a||o(t,e,n)||o(t.target,e,n)}),this),a||s.S6(this.stateList,(function(e){(t[e]||(t[e]={}))[n]=VO(n,"inRange"===e?"active":"inactive",i)}))}),this),vE.prototype.completeVisualOption.apply(this,arguments)},bE.prototype._resetSelected=function(t,e){var n,i=this.option,o=this._pieceList,a=(e?i:t).selected||{};i.selected=a,s.S6(o,(function(t,e){t=this.getSelectedMapKey(t),a.hasOwnProperty(t)||(a[t]=!0)}),this),"single"===i.selectedMode&&(n=!1,s.S6(o,(function(t,e){t=this.getSelectedMapKey(t),a[t]&&(n?a[t]=!1:n=!0)}),this))},bE.prototype.getItemSymbol=function(){return this.get("itemSymbol")},bE.prototype.getSelectedMapKey=function(t){return"categories"===this._mode?t.value+"":t.index+""},bE.prototype.getPieceList=function(){return this._pieceList},bE.prototype._determineMode=function(){var t=this.option;return t.pieces&&0<t.pieces.length?"pieces":this.option.categories?"categories":"splitNumber"},bE.prototype.setSelected=function(t){this.option.selected=s.d9(t)},bE.prototype.getValueState=function(t){return null!=(t=Kx.findPieceIndex(t,this._pieceList))&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},bE.prototype.findTargetDataIndices=function(t){var e=[],n=this._pieceList;return this.eachTargetSeries((function(i){var o=[],a=i.getData();a.each(this.getDataDimensionIndex(a),(function(e,i){Kx.findPieceIndex(e,n)===t&&o.push(i)}),this),e.push({seriesId:i.id,dataIndex:o})}),this),e},bE.prototype.getRepresentValue=function(t){return this.isCategory()||null!=t.value?t.value:(t=t.interval||[])[0]===-1/0&&t[1]===1/0?0:(t[0]+t[1])/2},bE.prototype.getVisualMeta=function(t){var e,n,i,o,a,r;if(!this.isCategory())return e=[],n=["",""],(o=(i=this)._pieceList.slice()).length?((a=o[0].interval[0])!==-1/0&&o.unshift({interval:[-1/0,a]}),(a=o[o.length-1].interval[1])!==1/0&&o.push({interval:[a,1/0]})):o.push({interval:[-1/0,1/0]}),r=-1/0,s.S6(o,(function(t){(t=t.interval)&&(t[0]>r&&l([r,t[0]],"outOfRange"),l(t.slice()),r=t[1])}),this),{stops:e,outerColors:n};function l(o,a){var r=i.getRepresentValue({interval:o});a=a||i.getValueState(r),r=t(r,a),o[0]===-1/0?n[0]=r:o[1]===1/0?n[1]=r:e.push({value:o[0],color:r},{value:o[1],color:r})}},bE.type="visualMap.piecewise",bE.defaultOption=rn(ml.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0});var wE={splitNumber:function(t){var e=this.option,n=Math.min(e.precision,20),i=this.getExtent(),o=e.splitNumber;o=Math.max(parseInt(o,10),1),e.splitNumber=o;for(var a=(i[1]-i[0])/o;+a.toFixed(n)!==a&&n<5;)n++;e.precision=n,a=+a.toFixed(n),e.minOpen&&t.push({interval:[-1/0,i[0]],close:[0,0]});for(var r=0,l=i[0];r<o;l+=a,r++){var u=r===o-1?i[1]:l+a;t.push({interval:[l,u],close:[1,1]})}e.maxOpen&&t.push({interval:[i[1],1/0],close:[0,0]}),D(t),s.S6(t,(function(t,e){t.index=e,t.text=this.formatValueText(t.interval)}),this)},categories:function(t){var e=this.option;s.S6(e.categories,(function(e){t.push({text:this.formatValueText(e,!0),value:e})}),this),ME(e,t)},pieces:function(t){var e=this.option;s.S6(e.pieces,(function(e,n){if(n={text:"",index:n},null!=(e=s.Kn(e)?e:{value:e}).label&&(n.text=e.label),e.hasOwnProperty("value")){var i=n.value=e.value;n.interval=[i,i],n.close=[1,1]}else{for(var o=n.interval=[],a=n.close=[0,0],r=[1,0,1],l=[-1/0,1/0],u=[],c=0;c<2;c++){for(var h=[["gte","gt","min"],["lte","lt","max"]][c],d=0;d<3&&null==o[c];d++)o[c]=e[h[d]],a[c]=r[d],u[c]=2===d;null==o[c]&&(o[c]=l[c])}u[0]&&o[1]===1/0&&(a[0]=0),u[1]&&o[0]===-1/0&&(a[1]=0),o[0]===o[1]&&a[0]&&a[1]&&(n.value=o[0])}n.visual=Kx.retrieveVisuals(e),t.push(n)}),this),ME(e,t),D(t),s.S6(t,(function(t){var e=[["<","≤"][(e=t.close)[1]],[">","≥"][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,e)}),this)}};function ME(t,e){var n=t.inverse;("vertical"===t.orient?!n:n)&&e.reverse()}var IE,DE=bE;function TE(){var t=null!==IE&&IE.apply(this,arguments)||this;return t.type=TE.type,t}a(TE,IE=dt),TE.prototype.doRender=function(){var t,e=this.group,n=(e.removeAll(),this.visualMapModel),i=n.get("textGap"),o=(t=n.textStyleModel).getFont(),a=t.getTextColor(),r=this._getItemAlign(),l=n.itemSize,u=(t=this._getViewData()).endsText,c=s.Jv(n.get("showLabel",!0),!u),h=!n.get("selectedMode");u&&this._renderEndsText(e,u[0],l,c,r),s.S6(t.viewPieceList,(function(t){var u=t.piece,d=new Dr.Z;d.onclick=s.ak(this._onItemClick,this,u),this._enableHoverLink(d,t.indexInModelPieceList),t=n.getRepresentValue(u),this._createItemSymbol(d,t,[0,0,l[0],l[1]],h),c&&(t=this.visualMapModel.getValueState(t),d.add(new ft.ZP({style:{x:"right"===r?-i:l[0]+i,y:l[1]/2,text:u.text,verticalAlign:"middle",align:r,font:o,fill:a,opacity:"outOfRange"===t?.5:1},silent:h}))),e.add(d)}),this),u&&this._renderEndsText(e,u[1],l,c,r),ei(n.get("orient"),e,n.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},TE.prototype._enableHoverLink=function(t,e){var n=this,i=(t.on("mouseover",(function(){return i("highlight")})).on("mouseout",(function(){return i("downplay")})),function(t){var i=n.visualMapModel;i.option.hoverLink&&n.api.dispatchAction({type:t,batch:tE(i.findTargetDataIndices(e),i)})})},TE.prototype._getItemAlign=function(){var t=this.visualMapModel,e=t.option;return"vertical"===e.orient?QO(t,this.api,t.itemSize):(t=e.align)&&"auto"!==t?t:"left"},TE.prototype._renderEndsText=function(t,e,n,i,o){var a,r;e&&(a=new Dr.Z,r=this.visualMapModel.textStyleModel,a.add(new ft.ZP({style:Re(r,{x:i?"right"===o?n[0]:0:n[0]/2,y:n[1]/2,verticalAlign:"middle",align:i?o:"center",text:e})})),t.add(a))},TE.prototype._getViewData=function(){var t=this.visualMapModel,e=s.UI(t.getPieceList(),(function(t,e){return{piece:t,indexInModelPieceList:e}})),n=t.get("text"),i=t.get("orient");return t=t.get("inverse"),("horizontal"===i?t:!t)?e.reverse():n=n&&n.slice().reverse(),{viewPieceList:e,endsText:n}},TE.prototype._createItemSymbol=function(t,e,n,i){(n=Ol(this.getControllerVisual(e,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(e,"color"))).silent=i,t.add(n)},TE.prototype._onItemClick=function(t){var e,n,i=this.visualMapModel,o=i.option,a=o.selectedMode;a&&(e=s.d9(o.selected),n=i.getSelectedMapKey(t),"single"===a||!0===a?(e[n]=!0,s.S6(e,(function(t,i){e[i]=i===n}))):e[n]=!e[n],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:e}))},TE.type="visualMap.piecewise";var CE=TE;function AE(t){t.registerComponentModel(DE),t.registerComponentView(CE),_E(t)}var kE={label:{enabled:!0},decal:{show:!1}},LE=U(),PE={};function RE(t,e){var n,i,o,a,r,l,u,c,h=t.getModel("aria");function d(t,e){var n;return s.HD(t)?(n=t,s.S6(e,(function(t,e){n=n.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)})),n):t}h.get("enabled")&&(c=s.d9(kE),s.TS(c.label,t.getLocaleModel().get("aria"),!1),s.TS(h.option,c,!1),h.getModel("decal").get("show")&&(n=s.kW(),t.eachSeries((function(t){var e;t.isColorBySeries()||((e=n.get(t.type))||n.set(t.type,e={}),LE(t).scope=e)})),t.eachRawSeries((function(e){var n,i,o,a,r,l,u;function c(t,e){return(t=t?s.l7(s.l7({},e),t):e).dirty=!0,t}t.isSeriesFiltered(e)||(s.mf(e.enableAriaDecal)?e.enableAriaDecal():(n=e.getData(),e.isColorBySeries()?(i=Wi(e.ecModel,e.name,PE,t.getSeriesCount()),o=n.getVisual("decal"),n.setVisual("decal",c(o,i))):(a=e.getRawData(),r={},l=LE(e).scope,n.each((function(t){var e=n.getRawIndex(t);r[e]=t})),u=a.count(),a.each((function(t){var i=r[t],o=(t=a.getName(t)||t+"",t=Wi(e.ecModel,t,l,u),n.getItemVisual(i,"decal"));n.setItemVisual(i,"decal",c(o,t))})))))}))),c=e.getZr().dom)&&(e=t.getLocaleModel().get("aria"),(i=h.getModel("label")).option=s.ce(i.option,e),i.get("enabled"))&&(c.setAttribute("role","img"),i.get("description")?c.setAttribute("aria-label",i.get("description")):(o=t.getSeriesCount(),a=i.get(["data","maxCount"])||10,e=i.get(["series","maxCount"])||10,r=Math.min(o,e),o<1||(e=(e=function(){var e=t.get("title");return e&&e.length&&(e=e[0]),e&&e.text}())?d(i.get(["general","withTitle"]),{title:e}):i.get(["general","withoutTitle"]),l=[],e+=d(h=1<o?i.get(["series","multiple","prefix"]):i.get(["series","single","prefix"]),{seriesCount:o}),t.eachSeries((function(e,n){if(n<r){n=void 0;var u=e.get("name")?"withName":"withoutName";n=d(n=1<o?i.get(["series","multiple",u]):i.get(["series","single",u]),{seriesId:e.seriesIndex,seriesName:e.get("name"),seriesType:(u=e.subType,(x=t.getLocaleModel().get(["series","typeNames"]))[u]||x.chart)});for(var c,h,p,g=e.getData(),f=(g.count()>a?n+=d(i.get(["data","partialData"]),{displayCnt:a}):n+=i.get(["data","allData"]),i.get(["data","separator","middle"])),y=(u=i.get(["data","separator","end"]),i.get(["data","excludeDimensionId"])),m=[],v=0;v<g.count();v++)v<a&&(c=g.getName(v),h=y?s.hX(g.getValues(v),(function(t,e){return-1===s.cq(y,e)})):g.getValues(v),p=i.get(["data",c?"withName":"withoutName"]),m.push(d(p,{name:c,value:h.join(f)})));n+=m.join(f)+u,l.push(n)}var x})),u=(h=i.getModel(["series","multiple","separator"])).get("middle"),h=h.get("end"),e+=l.join(u)+h,c.setAttribute("aria-label",e))))}function NE(t){var e;t&&t.aria&&(null!=(e=t.aria).show&&(e.enabled=e.show),e.label=e.label||{},s.S6(["description","general","series","data"],(function(t){null!=e[t]&&(e.label[t]=e[t])})))}var OE={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},EE=(VE.prototype.evaluate=function(t){var e=typeof t;return(0,s.HD)(e)?this._condVal.test(t):!!(0,s.hj)(e)&&this._condVal.test(t+"")},VE);function VE(t){null==(this._condVal=(0,s.HD)(t)?new RegExp(t):(0,s.Kj)(t)?t:null)&&ga("")}BE.prototype.evaluate=function(){return this.value};var zE=BE;function BE(){}ZE.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0};var GE=ZE;function ZE(){}FE.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1};var WE=FE;function FE(){}UE.prototype.evaluate=function(){return!this.child.evaluate()};var HE=UE;function UE(){}YE.prototype.evaluate=function(){for(var t=!!this.valueParser,e=(0,this.getValue)(this.valueGetterParam),n=t?this.valueParser(e):null,i=0;i<this.subCondList.length;i++)if(!this.subCondList[i].evaluate(t?n:e))return!1;return!0};var XE=YE;function YE(){}function JE(t,e){if(!0===t||!1===t)return(n=new zE).value=t,n;var n;if(KE(t)||ga(""),t.and)return jE("and",t,e);if(t.or)return jE("or",t,e);if(t.not)return n=e,KE(a=(a=t).not)||ga(""),(u=new HE).child=JE(a,n),u.child||ga(""),u;for(var i=t,o=e,a=o.prepareGetValue(i),r=[],l=(0,s.XP)(i),u=i.parser,c=u?ma(u):null,h=0;h<l.length;h++){var d,p=l[h];"parser"===p||o.valueGetterAttrMap.get(p)||(d=(0,s.RI)(OE,p)?OE[p]:p,p=i[p],(d=function(t,e){return"eq"===t||"ne"===t?new wa("eq"===t,e):(0,s.RI)(va,t)?new xa(t,e):null}(d,p=c?c(p):p)||"reg"===d&&new EE(p))||ga(""),r.push(d))}return r.length||ga(""),(u=new XE).valueGetterParam=a,u.valueParser=c,u.getValue=o.getValue,u.subCondList=r,u}function jE(t,e,n){return e=e[t],(0,s.kJ)(e)||ga(""),e.length||ga(""),(t=new("and"===t?GE:WE)).children=(0,s.UI)(e,(function(t){return JE(t,n)})),t.children.length||ga(""),t}function KE(t){return(0,s.Kn)(t)&&!(0,s.zG)(t)}$E.prototype.evaluate=function(){return this._cond.evaluate()};var qE=$E;function $E(t,e){this._cond=JE(t,e)}var QE={type:"echarts:filter",transform:function(t){for(var e,n,i=t.upstream,o=(t=t.config,n={valueGetterAttrMap:(0,s.kW)({dimension:!0}),prepareGetValue:function(t){var e=t.dimension;return(0,s.RI)(t,"dimension")||ga(""),(t=i.getDimensionInfo(e))||ga(""),{dimIdx:t.index}},getValue:function(t){return i.retrieveValueFromItem(e,t.dimIdx)}},new qE(t,n)),a=[],r=0,l=i.count();r<l;r++)e=i.getRawDataItem(r),o.evaluate()&&a.push(e);return{data:a}}},tV={type:"echarts:sort",transform:function(t){for(var e=t.upstream,n=((t=N(t=t.config)).length||ga(""),[]),i=((0,s.S6)(t,(function(t){var i=t.dimension,o=t.order,a=t.parser,r=(t=t.incomparable,null==i&&ga(""),"asc"!==o&&"desc"!==o&&ga(""),t&&"min"!==t&&"max"!==t&&ga(""),"asc"!==o&&"desc"!==o&&ga(""),(i=e.getDimensionInfo(i))||ga(""),a?ma(a):null);a&&!r&&ga(""),n.push({dimIdx:i.index,parser:r,comparator:new Sa(o,t)})})),(t=e.sourceFormat)!==_i&&t!==Si&&ga(""),[]),o=0,a=e.count();o<a;o++)i.push(e.getRawDataItem(o));return i.sort((function(t,i){for(var o=0;o<n.length;o++){var a=n[o],r=e.retrieveValueFromItem(t,a.dimIdx),s=e.retrieveValueFromItem(i,a.dimIdx);if(0!==(a.parser&&(r=a.parser(r),s=a.parser(s)),a=a.comparator.evaluate(r,s)))return a}return 0})),{data:i}}};a(iV,eV=yi),iV.prototype.init=function(t,e,n){eV.prototype.init.call(this,t,e,n),this._sourceManager=new Fa(this),Ua(this)},iV.prototype.mergeOption=function(t,e){eV.prototype.mergeOption.call(this,t,e),Ua(this)},iV.prototype.optionUpdated=function(){this._sourceManager.dirty()},iV.prototype.getSourceManager=function(){return this._sourceManager},iV.type="dataset",iV.defaultOption={seriesLayoutBy:Ii};var eV,nV=iV;function iV(){var t=null!==eV&&eV.apply(this,arguments)||this;return t.type="dataset",t}a(rV,oV=Cr),rV.type="dataset";var oV,aV=rV;function rV(){var t=null!==oV&&oV.apply(this,arguments)||this;return t.type="dataset",t}var sV=n(8175);function lV(t){return(0,s.kJ)(t[0])}function uV(t,e){for(var n=[],i=t.length,o=0;o<i;o++)n.push({one:t[o],many:[]});for(o=0;o<e.length;o++){var a=e[o].length,r=void 0;for(r=0;r<a;r++)n[r%i].many.push(e[o][r])}var s=0;for(o=i-1;0<=o;o--)if(!n[o].many.length){var l=n[s].many;if(l.length<=1){if(!s)return n;s=0}a=l.length;var u=Math.ceil(a/2);n[o].many=l.slice(u,a),n[s].many=l.slice(0,u),s++}return n}var cV={clone:function(t){for(var e=[],n=1-Math.pow(1-t.path.style.opacity,1/t.count),i=0;i<t.count;i++){var o=(0,kr.U5)(t.path);o.setStyle("opacity",n),e.push(o)}return e},split:null};function hV(t,e,n,i,o,a){if(t.length&&e.length&&(o=xe("update",i,o))&&0<o.duration){for(var r,l,u=i.getModel("universalTransition").get("delay"),c=Object.assign({setToFinal:!0},o),h=(lV(t)&&(r=t,l=e),lV(e)&&(r=e,l=t),r?r===t:t.length>e.length),d=r?uV(l,r):uV(h?e:t,[h?t:e]),p=0,g=0;g<d.length;g++)p+=d[g].many.length;var f=0;for(g=0;g<d.length;g++)!function t(e,i,o,r,l){var h=e.many,d=e.one;if(1!==h.length||l){l=(0,s.ce)({dividePath:cV[n],individualDelay:u&&function(t,e,n,i){return u(t+o,r)}},c);for(var p=(l=i?(0,sV.a4)(h,d,l):(0,sV.nY)(d,h,l)).fromIndividuals,g=l.toIndividuals,f=p.length,y=0;y<f;y++)m=u?(0,s.ce)({delay:u(y,f)},c):c,a(p[y],g[y],i?h[y]:e.one,i?e.one:h[y],m)}else{var m;l=i?h[0]:d,d=i?d:h[0],(0,sV.j)(l)?t({many:[l],one:d},!0,o,r,!0):(m=u?(0,s.ce)({delay:u(o,r)},c):c,(0,sV.xQ)(l,d,m),a(l,d,l,d,m))}}(d[g],h,f,p),f+=d[g].many.length}}function dV(t){if(!t)return[];if((0,s.kJ)(t)){for(var e=[],n=0;n<t.length;n++)e.push(dV(t[n]));return e}var i=[];return t.traverse((function(t){t instanceof vt.ZP&&!t.disableMorphing&&!t.invisible&&!t.ignore&&i.push(t)})),i}var pV=1e4,gV=U();function fV(t,e,n,i){var o,a,r,s=function(t,e){for(var n=t.dimensions,i=0;i<n.length;i++){var o=t.getDimensionInfo(n[i]);if(o&&0===o.otherDims[e])return n[i]}}(t,i?"itemChildGroupId":"itemGroupId");return s?(r=e,a=(s=(o=t).getDimensionInfo(s))&&s.ordinalMeta,s?(o=o.get(s.name,r),a&&a.categories[o]||o+""):void 0):(s=i?"childGroupId":"groupId",(r=t.getRawDataItem(e))&&r[s]?r[s]+"":i?void 0:n||t.getId(e))}function yV(t){var e=[];return(0,s.S6)(t,(function(t){var n=t.data,i=t.dataGroupId;if(!(n.count()>pV))for(var o=n.getIndices(),a=0;a<o.length;a++)e.push({data:n,groupId:fV(n,a,i,!1),childGroupId:fV(n,a,i,!0),divide:t.divide,dataIndex:a})})),e}function mV(t,e,n){t.traverse((function(t){t instanceof vt.ZP&&be(t,{style:{opacity:0}},e,{dataIndex:n,isFrom:!0})}))}function vV(t){var e;t.parent&&(e=t.getComputedTransform(),t.setLocalTransform(e),t.parent.remove(t))}function xV(t){t.stopAnimation(),t.isGroup&&t.traverse((function(t){t.stopAnimation()}))}function _V(t,e,n){var i=yV(t),o=yV(e);function a(t,e,n,i,o){(n||t)&&e.animateFrom({style:n&&n!==t?(0,s.l7)((0,s.l7)({},n.style),t.style):t.style},o)}var r=!1,l=0,u=(0,s.kW)(),c=(0,s.kW)();i.forEach((function(t){t.groupId&&u.set(t.groupId,!0),t.childGroupId&&c.set(t.childGroupId,!0)}));for(var h=0;h<o.length;h++){var d=o[h].groupId;if(c.get(d)){l=1;break}if((d=o[h].childGroupId)&&u.get(d)){l=2;break}}function p(t,e){return function(n){var i=n.data,o=n.dataIndex;return e?i.getId(o):t?1===l?n.childGroupId:n.groupId:2===l?n.childGroupId:n.groupId}}t=function(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++){var o=t[i],a=e[i];if(o.data.getId(o.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}(i,o);var g={};if(!t)for(h=0;h<o.length;h++){var f;(f=(f=o[h]).data.getItemGraphicEl(f.dataIndex))&&(g[f.id]=!0)}function y(t,e){e=i[e];var n=o[t],s=n.data.hostModel,l=(e=e.data.getItemGraphicEl(e.dataIndex),n.data.getItemGraphicEl(n.dataIndex));e===l?l&&function(t,e,n){var i=xe("update",n,e);i&&t.traverse((function(t){var e;t instanceof Am.ZP&&(e=ve(t).oldStyle)&&t.animateFrom({style:e},i)}))}(l,n.dataIndex,s):e&&g[e.id]||l&&(xV(l),e?(xV(e),vV(e),r=!0,hV(dV(e),dV(l),n.divide,s,t,a)):mV(l,s,t))}new Hc(i,o,p(!0,t),p(!1,t),null,"multiple").update(y).updateManyToOne((function(t,e){var n=o[t],l=(c=n.data).hostModel,u=c.getItemGraphicEl(n.dataIndex),c=(0,s.hX)((0,s.UI)(e,(function(t){return i[t].data.getItemGraphicEl(i[t].dataIndex)})),(function(t){return t&&t!==u&&!g[t.id]}));u&&(xV(u),c.length?((0,s.S6)(c,(function(t){xV(t),vV(t)})),r=!0,hV(dV(c),dV(u),n.divide,l,t,a)):mV(u,l,n.dataIndex))})).updateOneToMany((function(t,e){var n,l,u=(e=i[e]).data.getItemGraphicEl(e.dataIndex);u&&g[u.id]||(n=(0,s.hX)((0,s.UI)(t,(function(t){return o[t].data.getItemGraphicEl(o[t].dataIndex)})),(function(t){return t&&t!==u})),l=o[t[0]].data.hostModel,n.length&&((0,s.S6)(n,xV),u?(xV(u),vV(u),r=!0,hV(dV(u),dV(n),e.divide,l,t[0],a)):(0,s.S6)(n,(function(e){return mV(e,l,t[0])}))))})).updateManyToMany((function(t,e){new Hc(e,t,(function(t){return i[t].data.getId(i[t].dataIndex)}),(function(t){return o[t].data.getId(o[t].dataIndex)})).update((function(n,i){y(t[n],e[i])})).execute()})).execute(),r&&(0,s.S6)(e,(function(t){var e=(t=t.data.hostModel)&&n.getViewOfSeriesModel(t),i=xe("update",t,0);e&&t.isAnimationEnabled()&&i&&0<i.duration&&e.group.traverse((function(t){t instanceof vt.ZP&&!t.animators.length&&t.animateFrom({style:{opacity:0}},i)}))}))}function SV(t){return t.getModel("universalTransition").get("seriesKey")||t.id}function bV(t){return(0,s.kJ)(t)?t.sort().join(","):t}function wV(t){if(t.hostModel)return t.hostModel.getModel("universalTransition").get("divideShape")}function MV(t,e){for(var n=0;n<t.length;n++)if(null!=e.seriesIndex&&e.seriesIndex===t[n].seriesIndex||null!=e.seriesId&&e.seriesId===t[n].id)return n}tc([function(t){t.registerPainter("canvas",Bc.Z)}]),tc([function(t){t.registerPainter("svg",Gc.Z)}]),tc([function(t){t.registerChartView(md),t.registerSeriesModel(Th),t.registerLayout(vd("line",!0)),t.registerVisual({seriesType:"line",reset:function(t){var e=t.getData();(t=t.getModel("lineStyle").getLineStyle())&&!t.stroke&&(t.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",t)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,Sd("line"))},function(t){t.registerChartView(hp),t.registerSeriesModel(Vd),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,s.WA(kd,"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Ld("bar")),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,Sd("bar")),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},(function(e){t.sortInfo&&e.axis.setCategorySortInfo(t.sortInfo)}))}))},function(t){t.registerChartView(Cp),t.registerSeriesModel(Ep),bl("pie",t.registerAction),t.registerLayout((0,s.WA)(yp,"pie")),t.registerProcessor(vp("pie")),t.registerProcessor({seriesType:"pie",reset:function(t,e){var n=t.getData();n.filterSelf((function(t){var e=n.mapDimension("value");return e=n.get(e,t),!((0,s.hj)(e)&&!isNaN(e)&&e<0)}))}})},function(t){tc(fy),t.registerSeriesModel(Bp),t.registerChartView(Jp),t.registerLayout(vd("scatter"))},function(t){tc(zy),t.registerChartView(by),t.registerSeriesModel(Iy),t.registerLayout(yy),t.registerProcessor(vp("radar")),t.registerPreprocessor(xy)},function(t){tc(Sv),t.registerChartView(Ym),t.registerSeriesModel(jm),t.registerLayout(qm),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,Km),bl("map",t.registerAction)},function(t){t.registerChartView(Wv),t.registerSeriesModel(lx),t.registerLayout(cx),t.registerVisual(hx),t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},(function(e){var n=t.dataIndex;(e=e.getData().tree.getNodeByDataIndex(n)).isExpand=!e.isExpand}))})),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(t,e,n){e.eachComponent({mainType:"series",subType:"tree",query:t},(function(e){var i=mv(e.coordinateSystem,t,void 0,n);e.setCenter&&e.setCenter(i.center),e.setZoom&&e.setZoom(i.zoom)}))}))},function(t){t.registerSeriesModel(yx),t.registerChartView(Rx),t.registerVisual($x),t.registerLayout(c_),function(t){for(var e=0;e<px.length;e++)t.registerAction({type:px[e],update:"updateView"},s.ZT);t.registerAction({type:"treemapRootToNode",update:"updateView"},(function(t,e){e.eachComponent({mainType:"series",subType:"treemap",query:t},(function(e,n){var i,o=ix(t,["treemapZoomToNode","treemapRootToNode"],e);o&&((i=e.getViewRoot())&&(t.direction=ax(i,o.node)?"rollUp":"drillDown"),e.resetViewRoot(o.node))}))}))}(t)},function(t){t.registerChartView(xS),t.registerSeriesModel(PS),t.registerProcessor(g_),t.registerVisual(f_),t.registerVisual(m_),t.registerLayout(A_),t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,V_),t.registerLayout(B_),t.registerCoordinateSystem("graphView",{dimensions:iv.dimensions,create:G_}),t.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},s.ZT),t.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},s.ZT),t.registerAction(RS,(function(t,e,n){e.eachComponent({mainType:"series",query:t},(function(e){var i=mv(e.coordinateSystem,t,void 0,n);e.setCenter&&e.setCenter(i.center),e.setZoom&&e.setZoom(i.zoom)}))}))},function(t){t.registerChartView(ZS),t.registerSeriesModel(US)},function(t){t.registerChartView(qS),t.registerSeriesModel(tb),t.registerLayout(eb),t.registerProcessor(vp("funnel"))},function(t){tc(Hw),t.registerChartView(lb),t.registerSeriesModel(db),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,gb)},function(t){t.registerChartView(Qw),t.registerSeriesModel(nM),t.registerLayout(iM),t.registerVisual(pM),t.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},(function(e){e.setNodePosition(t.dataIndex,[t.localX,t.localY])}))}))},function(t){t.registerSeriesModel(mM),t.registerChartView(IM),t.registerLayout(TM),t.registerTransform(CM)},function(t){t.registerChartView(tI),t.registerSeriesModel(nI),t.registerPreprocessor(iI),t.registerVisual(VM),t.registerLayout(rI)},function(t){t.registerChartView(pI),t.registerSeriesModel(yI),t.registerLayout(vd("effectScatter"))},function(t){t.registerChartView(VI),t.registerSeriesModel(WI),t.registerLayout(NI),t.registerVisual(HI)},function(t){t.registerChartView(qI),t.registerSeriesModel(tD)},function(t){t.registerChartView(wD),t.registerSeriesModel(DD),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,(0,s.WA)(kd,"pictorialBar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Ld("pictorialBar"))},function(t){t.registerChartView(AD),t.registerSeriesModel(PD),t.registerLayout(RD),t.registerProcessor(vp("themeRiver"))},function(t){t.registerChartView(WD),t.registerSeriesModel(HD),t.registerLayout((0,s.WA)(XD,"sunburst")),t.registerProcessor((0,s.WA)(vp,"sunburst")),t.registerVisual(YD),function(t){t.registerAction({type:zD,update:"updateView"},(function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},(function(e,n){var i,o=ix(t,[zD],e);o&&((i=e.getViewRoot())&&(t.direction=ax(i,o.node)?"rollUp":"drillDown"),e.resetViewRoot(o.node))}))})),t.registerAction({type:BD,update:"none"},(function(t,e,n){t=(0,s.l7)({},t),e.eachComponent({mainType:"series",subType:"sunburst",query:t},(function(e){(e=ix(t,[BD],e))&&(t.dataIndex=e.node.dataIndex)})),n.dispatchAction((0,s.l7)(t,{type:"highlight"}))})),t.registerAction({type:"sunburstUnhighlight",update:"updateView"},(function(t,e,n){t=(0,s.l7)({},t),n.dispatchAction((0,s.l7)(t,{type:"downplay"}))}))}(t)},function(t){t.registerChartView(ZT),t.registerSeriesModel(QD)}]),tc((function(t){tc(fy),tc(UC)})),tc((function(t){tc(UC),jf.registerAxisPointerClass("PolarAxisPointer",jC),t.registerCoordinateSystem("polar",_A),t.registerComponentModel($C),t.registerComponentView(GA),lg(t,"angle",eA,zA),lg(t,"radius",aA,BA),t.registerComponentView(CA),t.registerComponentView(RA),t.registerLayout((0,s.WA)(EA,"bar"))})),tc(Sv),tc((function(t){tc(UC),jf.registerAxisPointerClass("SingleAxisPointer",fk),t.registerComponentView(yk),t.registerComponentView(jA),t.registerComponentModel($A),lg(t,"single",$A,$A.defaultOption),t.registerCoordinateSystem("single",rk)})),tc(Hw),tc((function(t){t.registerComponentModel(Sk),t.registerComponentView(wk),t.registerCoordinateSystem("calendar",Dk)})),tc((function(t){t.registerComponentModel(Pk),t.registerComponentView(Vk),t.registerPreprocessor((function(t){var e=t.graphic;(0,s.kJ)(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])}))})),tc((function(t){t.registerComponentModel(SL),t.registerComponentView(IL),mL("saveAsImage",CL),mL("magicType",RL),mL("dataView",ZL),mL("dataZoom",dP),mL("restore",XL),tc(pL)})),tc((function(t){tc(UC),t.registerComponentModel(gP),t.registerComponentView(VP),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},s.ZT),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},s.ZT)})),tc(UC),tc((function(t){t.registerComponentView(aR),t.registerComponentModel(uR),t.registerPreprocessor(BP),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,qP),t.registerAction({type:"brush",event:"brush",update:"updateVisual"},(function(t,e){e.eachComponent({mainType:"brush",query:t},(function(e){e.setAreas(t.areas)}))})),t.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},s.ZT),t.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},s.ZT),mL("brush",dR)})),tc((function(t){t.registerComponentModel(gR),t.registerComponentView(xR)})),tc((function(t){var e;t.registerComponentModel(IR),t.registerComponentView(OR),t.registerSubTypeDefaulter("timeline",(function(){return"slider"})),(e=t).registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},(function(t,e,n){var i=e.getComponent("timeline");return i&&null!=t.currentIndex&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0))&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from})),e.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),(0,s.ce)({currentIndex:i.option.currentIndex},t)})),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},(function(t,e){(e=e.getComponent("timeline"))&&null!=t.playState&&e.setPlayState(t.playState)})),t.registerPreprocessor(ER)})),tc((function(t){t.registerComponentModel(YR),t.registerComponentView(uN),t.registerPreprocessor((function(t){BR(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})}))})),tc((function(t){t.registerComponentModel(pN),t.registerComponentView(SN),t.registerPreprocessor((function(t){BR(t.series,"markLine")&&(t.markLine=t.markLine||{})}))})),tc((function(t){t.registerComponentModel(MN),t.registerComponentView(NN),t.registerPreprocessor((function(t){BR(t.series,"markArea")&&(t.markArea=t.markArea||{})}))})),tc((function(t){tc(qN),tc(lO)})),tc((function(t){tc(bO),tc(NO)})),tc(bO),tc(NO),tc((function(t){tc(SE),tc(AE)})),tc(SE),tc(AE),tc((function(t){t.registerPreprocessor(NE),t.registerVisual(t.PRIORITY.VISUAL.ARIA,RE)})),tc((function(t){t.registerTransform(QE),t.registerTransform(tV)})),tc((function(t){t.registerComponentModel(nV),t.registerComponentView(aV)})),tc((function(t){t.registerUpdateLifecycle("series:beforeupdate",(function(t,e,n){(0,s.S6)(N(n.seriesTransition),(function(t){(0,s.S6)(N(t.to),(function(t){for(var e=n.updatedSeries,i=0;i<e.length;i++)(null!=t.seriesIndex&&t.seriesIndex===e[i].seriesIndex||null!=t.seriesId&&t.seriesId===e[i].id)&&(e[i][fr]=!0)}))}))})),t.registerUpdateLifecycle("series:transition",(function(t,e,n){for(var i,o,a=gV(e),r=(a.oldSeries&&n.updatedSeries&&n.optionChanged&&((i=n.seriesTransition)?(0,s.S6)(N(i),(function(t){var i,o,r,l,u;i=a,o=n,r=e,l=[],u=[],(0,s.S6)(N(t.from),(function(t){var e=MV(i.oldSeries,t);0<=e&&l.push({dataGroupId:i.oldDataGroupIds[e],data:i.oldData[e],divide:wV(i.oldData[e]),groupIdDim:t.dimension})})),(0,s.S6)(N(t.to),(function(t){var e,n=MV(o.updatedSeries,t);0<=n&&(e=o.updatedSeries[n].getData(),u.push({dataGroupId:i.oldDataGroupIds[n],data:e,divide:wV(e),groupIdDim:t.dimension}))})),0<l.length&&0<u.length&&_V(l,u,r)})):(o=function(t,e){var n=(0,s.kW)(),i=(0,s.kW)(),o=(0,s.kW)();return(0,s.S6)(t.oldSeries,(function(e,n){var a=t.oldDataGroupIds[n],r=t.oldData[n],l=bV(n=SV(e));i.set(l,{dataGroupId:a,data:r}),(0,s.kJ)(n)&&(0,s.S6)(n,(function(t){o.set(t,{key:l,dataGroupId:a,data:r})}))})),(0,s.S6)(e.updatedSeries,(function(t){var e,a,r,l,u;t.isUniversalTransitionEnabled()&&t.isAnimationEnabled()&&(e=t.get("dataGroupId"),a=t.getData(),u=bV(t=SV(t)),(l=i.get(u))?n.set(u,{oldSeries:[{dataGroupId:l.dataGroupId,divide:wV(l.data),data:l.data}],newSeries:[{dataGroupId:e,divide:wV(a),data:a}]}):(0,s.kJ)(t)?(r=[],(0,s.S6)(t,(function(t){(t=i.get(t)).data&&r.push({dataGroupId:t.dataGroupId,divide:wV(t.data),data:t.data})})),r.length&&n.set(u,{oldSeries:r,newSeries:[{dataGroupId:e,data:a,divide:wV(a)}]})):(l=o.get(t))&&((u=n.get(l.key))||(u={oldSeries:[{dataGroupId:l.dataGroupId,data:l.data,divide:wV(l.data)}],newSeries:[]},n.set(l.key,u)),u.newSeries.push({dataGroupId:e,data:a,divide:wV(a)})))})),n}(a,n),(0,s.S6)(o.keys(),(function(t){_V((t=o.get(t)).oldSeries,t.newSeries,e)}))),(0,s.S6)(n.updatedSeries,(function(t){t[fr]&&(t[fr]=!1)}))),t.getSeries()),l=a.oldSeries=[],u=a.oldDataGroupIds=[],c=a.oldData=[],h=0;h<r.length;h++){var d=r[h].getData();d.count()<pV&&(l.push(r[h]),u.push(r[h].get("dataGroupId")),c.push(d))}}))})),tc(zc)}}]);